[
  {
    "objectID": "slides/01-unix.html#file-naming-conventions",
    "href": "slides/01-unix.html#file-naming-conventions",
    "title": "Unix/Linux",
    "section": "File Naming conventions",
    "text": "File Naming conventions\n https://rafalab.dfci.harvard.edu/dsbook-part-1/productivity/unix.html\n\nName your files in a way that is related to their contents\nIndicate how they relate to other files.\nThe Smithsonian Data Management Best Practices has “Five precepts of file naming and organization”",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#five-concepts-of-file-naming-and-organization",
    "href": "slides/01-unix.html#five-concepts-of-file-naming-and-organization",
    "title": "Unix/Linux",
    "section": "Five Concepts of file naming and organization",
    "text": "Five Concepts of file naming and organization\n\nHave a distinctive, human-readable name that describes the content.\nFollow a consistent pattern that is machine-friendly.\nOrganize files into directories (when necessary) that follow a consistent pattern.\nAvoid repetition of semantic elements among file and directory names.\nHave a file extension that matches the file format (no changing extensions!)\n\nTidyverse Style Guide",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#the-terminal",
    "href": "slides/01-unix.html#the-terminal",
    "title": "Unix/Linux",
    "section": "The terminal",
    "text": "The terminal\n\nThe terminal is integrated into Mac and Linux systems, but Windows users will have to install an emulator (we will use Git Bash). You may experience it also in Colab.",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#file-system",
    "href": "slides/01-unix.html#file-system",
    "title": "Unix/Linux",
    "section": "File System",
    "text": "File System\n\nThe file system is hierarchical, you create directories (folders) in other folders\nWhen you log in to a Unix/Linux computer you are in your home directory\nThe command line has a prompt that is configurable and let you know that the terminal is ready for input\nEnvironment variables, e.g., $HOME, $PATH, control your computing environment and many are customizable by users",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#the-filesystem",
    "href": "slides/01-unix.html#the-filesystem",
    "title": "Unix/Linux",
    "section": "The filesystem",
    "text": "The filesystem",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#files-and-permissions",
    "href": "slides/01-unix.html#files-and-permissions",
    "title": "Unix/Linux",
    "section": "Files and permissions",
    "text": "Files and permissions\n\nwithin each directory you can create files and other directories\nfiles whose names start with a period . are hidden by default; use ls -a to view them\nfiles have permissions: use ls -lh to view details\n\n\ndrwxr-xr-x    4 robert  staff   128B Aug  8 10:03 bin\n-rw-r--r--@   1 robert  staff    20M Jun 24 09:11 boots.png\n-rw-r--r--@   1 robert  staff    26M Jun 23 15:23 boots1.pdf\n\n\nyou can read, write, or execute files and control who (Owner, Group, Other) can see or use them by changing permissions",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#working-directory",
    "href": "slides/01-unix.html#working-directory",
    "title": "Unix/Linux",
    "section": "Working directory",
    "text": "Working directory\n\nThe directory you are currently in.\nCommands will generally take effect in this directory\nsee your working directory using pwd\nlist the contents of the directory (files and other directories) using ls\nfind out about how ls works by issuing the command: man ls (long) or ls --help(medium) (shorter version: tldr, whatis, apropos(show me commands relevant to this))",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#paths",
    "href": "slides/01-unix.html#paths",
    "title": "Unix/Linux",
    "section": "Paths",
    "text": "Paths\n\nThe string returned by pwd command is the full path to the working directory.\nThe full path to your home directory is stored in the environment variable $HOME.\nYou can see it by executing echo $HOME",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#paths-1",
    "href": "slides/01-unix.html#paths-1",
    "title": "Unix/Linux",
    "section": "Paths",
    "text": "Paths\n\nthe shorthand ~ as a nickname for your home directory\n\nExample: the full path for docs (image in prev. slides) can be written like this ~/docs.\n\nThe environment variable called $PATH which you can display using echo\n\nthat variable is a set of individual paths, separated by : (colon) and it tells your Unix shell where to look for commands\nyou can add other paths to $PATH, so that Unix can look for commands in those paths (eg make your own bin directory)",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#common-unix-commands",
    "href": "slides/01-unix.html#common-unix-commands",
    "title": "Unix/Linux",
    "section": "Common Unix commands",
    "text": "Common Unix commands\n https://rafalab.dfci.harvard.edu/dsbook-part-1/productivity/unix.html\n\nls: Listing directory content\nmkdir and rmdir: make and remove a directory\ncd: navigating the filesystem by changing directories\npwd: see your workding directory\nmv: moving files\ncp: copying files\nrm: removing files\nmore and less: display the contents of a file",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#autocomplete",
    "href": "slides/01-unix.html#autocomplete",
    "title": "Unix/Linux",
    "section": "Autocomplete",
    "text": "Autocomplete\n\nIn Unix/Windows you can auto-complete by hitting tab.\nExample, if we type cd d then hit tab.\nUnix will either auto-complete if docs is the only directory/file starting with d or show you all directories begining with d.",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#text-editors",
    "href": "slides/01-unix.html#text-editors",
    "title": "Unix/Linux",
    "section": "Text editors",
    "text": "Text editors\ntext editors are essential tools, in a terminal environment. Here are some of the most popular command-line text editors:\n\nNano\nPico\nVi or Vim\nEmacs",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#other-useful-commands",
    "href": "slides/01-unix.html#other-useful-commands",
    "title": "Unix/Linux",
    "section": "Other useful commands",
    "text": "Other useful commands\n\ncurl - download data from the internet.\ntar - archive files and directories into one file.\ngzip - and other compression tools - make big files small\nssh - connect to another computer.\nfind - search for files by filename in your system.\ngrep - search for patterns in a file.\nawk/sed - powerful commands to find specific strings in files and change them.\n\nawk: field-based processing (columns, math, conditions)\nsed: stream editor (find/replace, delete, rearrange lines)",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#a-deeper-dive",
    "href": "slides/01-unix.html#a-deeper-dive",
    "title": "Unix/Linux",
    "section": "A deeper dive",
    "text": "A deeper dive\n\nThe shell is a program to organize and facilitate your interactions with the operating system\necho $SHELL will display the shell you are using\nhidden files and directories to provide customization e.g. .gitconfig or .ssh\nmost shells have two files that are commonly used to provide user level customization .zsh, and .zprofile",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#resources",
    "href": "slides/01-unix.html#resources",
    "title": "Unix/Linux",
    "section": "Resources",
    "text": "Resources\nTo get started.\n\nhttps://ubuntu.com/tutorials/command-line-for-beginners\nhttps://www.codecademy.com/learn/learn-the-command-line\nhttps://www.edx.org/course/introduction-linux-linuxfoundationx-lfs101x-1\nhttps://www.coursera.org/learn/unix",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#integrated-development-environment-ide",
    "href": "slides/02-rstudio.html#integrated-development-environment-ide",
    "title": "RStudio IDE and Quarto",
    "section": "Integrated Development Environment (IDE)",
    "text": "Integrated Development Environment (IDE)\n https://rafalab.dfci.harvard.edu/dsbook-part-1/productivity/reproducible-projects.html \n\nPosit provides a free IDE for R with RStudio\nPositron (newer and adapted to LLMs)",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#the-panes",
    "href": "slides/02-rstudio.html#the-panes",
    "title": "RStudio IDE and Quarto",
    "section": "The panes",
    "text": "The panes",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#the-basics",
    "href": "slides/02-rstudio.html#the-basics",
    "title": "RStudio IDE and Quarto",
    "section": "The Basics",
    "text": "The Basics\n\nOpen a new R script file. (example.R)\nLearn tab complete.\nRun commands while editing scripts.\nRun the entire script.\nMake a plot.\nChange options to never save workspace.\nChange IDE appearance.",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#projects",
    "href": "slides/02-rstudio.html#projects",
    "title": "RStudio IDE and Quarto",
    "section": "Projects",
    "text": "Projects\n\nStart a new project in a new directory.\nStart a new project in an existing directory.\nChange projects.\nUse the File menu to create a new Quarto document",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#type-of-editor",
    "href": "slides/02-rstudio.html#type-of-editor",
    "title": "RStudio IDE and Quarto",
    "section": "Type of editor",
    "text": "Type of editor\n\nwe will be creating and editing markdown documents - mostly using the Quarto paradigm\nfor Quarto you can use either a source view or a visual view:\n\nSource - See the actual code (WYSIWYG)\nVisual - Partial preview of final document.\n\n\nNote: You can state your preference in the header:\ntitle: RStudio IDE\nkeywords: \"Productivity Tools\"\n\neditor: source",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#the-header",
    "href": "slides/03-quarto.html#the-header",
    "title": "Quarto",
    "section": "The header",
    "text": "The header\n\nStart a new empty document.\nAt the top you see:\n\n\n---\ntitle: \"Untitled\"\n---\n\n\nThe things between the --- are the YAML header.\nQuarto guide.",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#text-formating",
    "href": "slides/03-quarto.html#text-formating",
    "title": "Quarto",
    "section": "Text formating",
    "text": "Text formating\n*italics* or _italics_ = italics\n**bold** = bold\n***bold italics*** = bold italics\n~~strikethrough~~ = strikethrough\n`code` = code",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#text-formating-1",
    "href": "slides/03-quarto.html#text-formating-1",
    "title": "Quarto",
    "section": "Text formating",
    "text": "Text formating\nThis:\n```\nline 1\nline 2\n```\nshows code chunks:\nline 1\nline 2",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#links",
    "href": "slides/03-quarto.html#links",
    "title": "Quarto",
    "section": "Links",
    "text": "Links\n\nShow the link: &lt;https://quarto.org/docs/guide/&gt;\nAdd link to text: [Quarto Guide](https://quarto.org/docs/guide/)\n\nLooks like this:\nhttps://quarto.org/docs/guide/\nQuarto Guide",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#images",
    "href": "slides/03-quarto.html#images",
    "title": "Quarto",
    "section": "Images",
    "text": "Images\n![Introductory Statistics with R](https://m.media-amazon.com/images/I/51gZOXbaNnL._AC_UF1000,1000_QL80_.jpg)\nShows the plot and caption:\n\nMy caption\nThe image can also be a local file (replacing the html link with the path to the image.)",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#lists",
    "href": "slides/03-quarto.html#lists",
    "title": "Quarto",
    "section": "Lists",
    "text": "Lists\nBullets:\n-   bullet 1\n    -   sub-bullet 1\n    -   sub-bullet 2\n-   bullet 2\nLooks like this:\n\nbullet 1\n\nsub-bullet 1\nsub-bullet 2\n\nbullet 2",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#lists-1",
    "href": "slides/03-quarto.html#lists-1",
    "title": "Quarto",
    "section": "Lists",
    "text": "Lists\nOrdered list:\n1.  Item 1\n2.  Item 2\nLooks like this:\n\nItem 1\nItem 2",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#equations",
    "href": "slides/03-quarto.html#equations",
    "title": "Quarto",
    "section": "Equations",
    "text": "Equations\n\n\n\n\n\n\n\nNote\n\n\nTechnical report often uses LaTeX for typesetting.\nThere are many online tutorials, like this one.",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#equations-1",
    "href": "slides/03-quarto.html#equations-1",
    "title": "Quarto",
    "section": "Equations",
    "text": "Equations\nExamples:\n\nInline: $Y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i$ looks like this \\(Y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i\\)\nDisplay math:\n\n$$\n\\mathbf{Y} = \\mathbf{X\\beta} + \\mathbf{\\varepsilon}\n$$\nlooks like this:\n\\[\n\\mathbf{Y} = \\mathbf{X\\beta} + \\mathbf{\\varepsilon}\n\\]",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#computations",
    "href": "slides/03-quarto.html#computations",
    "title": "Quarto",
    "section": "Computations",
    "text": "Computations\n\nBy default, the code and result will show up.\nYou can send arguments to control the behavior with #|\nFor example, to avoid showing code in the final document, use echo: FALSE.\n\n```{r}\n#| echo: false\nx &lt;- 1\ny &lt;- 2\nx + y\n```",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#computations-1",
    "href": "slides/03-quarto.html#computations-1",
    "title": "Quarto",
    "section": "Computations",
    "text": "Computations\n\nThere are many options (auto-complete shows them).\nFor example, to avoid executing the code use eval: FALSE.\nTo avoid showing warnings warning: FALSE, to avoid showing messages message: FALSE.\n\n\n\n\n\n\n\nNote\n\n\nto apply an option globally, these can be set globally in the header.\nexecute:\n  echo: false",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#computations-2",
    "href": "slides/03-quarto.html#computations-2",
    "title": "Quarto",
    "section": "Computations",
    "text": "Computations\n\nWe recommend getting into the habit of labeling code chunks:\n\n```{r}\n#| label: one-plus-two\nx &lt;- 1\ny &lt;- 2\nx + y\n```\n\nHelps with debugging\nHelps reading the code",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#computations-3",
    "href": "slides/03-quarto.html#computations-3",
    "title": "Quarto",
    "section": "Computations",
    "text": "Computations\n\nThere are many options (auto-complete shows them).\nFor example, to avoid the the code running you can use eval: FALSE.\nTo avoid showing warnings warning: FALSE, to avoid showing messages message: FALSE.\n\n\n\n\n\n\n\nNote\n\n\nIf you want to apply an option globally, these can be set globally in the header.\nexecute:\n  echo: false",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#computations-4",
    "href": "slides/03-quarto.html#computations-4",
    "title": "Quarto",
    "section": "Computations",
    "text": "Computations\n\nWe recommend getting into the habit of labeling code chunks:\n\n```{r}\n#| label: one-plus-two\nx &lt;- 1\ny &lt;- 2\nx + y\n```\n\nHelps with debugging\nGives meaningful names to generated images.",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#computations-5",
    "href": "slides/03-quarto.html#computations-5",
    "title": "Quarto",
    "section": "Computations",
    "text": "Computations\n\nWe recommend getting into the habit of labeling code chunks:\n\n```{r}\n#| label: one-plus-two\nx &lt;- 1\ny &lt;- 2\nx + y\n```\n\nHelps with debugging\nGives meaningful names to generated images.",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#more-on-markdown",
    "href": "slides/03-quarto.html#more-on-markdown",
    "title": "Quarto",
    "section": "More on markdown",
    "text": "More on markdown\n\nRStudio’s tutorial: https://quarto.org/docs/get-started/hello/rstudio.html\nThe knitR book: https://yihui.name/knitr/\nPandoc’s Markdown in-depth documentation\nGuide for academic reports\nRMarkdwon Cheatsheet",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#quarto-render",
    "href": "slides/03-quarto.html#quarto-render",
    "title": "Quarto",
    "section": "Quarto render",
    "text": "Quarto render\n\nRStudio provided Render button to compile the document.\nquarto render filename.qmd in a terminal renders single qmd file.\nquarto render renders all qmd files.\nYou can produce html, pdf, or word documents.\nYou can specify the default in the YAML header using: format: html, format: pdf,format: docx, or format: gfm (GitHub flavored markdown).",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#quick-markdown-text-formating",
    "href": "slides/03-quarto.html#quick-markdown-text-formating",
    "title": "Quarto",
    "section": "Quick Markdown Text formating",
    "text": "Quick Markdown Text formating\n*italics* or _italics_ = italics\n**bold** = bold\n***bold italics*** = bold italics\n~~strikethrough~~ = strikethrough\n`code` = code",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#code-chunk",
    "href": "slides/03-quarto.html#code-chunk",
    "title": "Quarto",
    "section": "Code chunk",
    "text": "Code chunk\nThis:\n```\nline 1\nline 2\n```\nshows a code chunk:\nline 1\nline 2",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#unordered-lists",
    "href": "slides/03-quarto.html#unordered-lists",
    "title": "Quarto",
    "section": "Unordered Lists",
    "text": "Unordered Lists\nBullets:\n-   bullet 1\n    -   sub-bullet 1\n    -   sub-bullet 2\n-   bullet 2\nLooks like this:\n\nbullet 1\n\nsub-bullet 1\nsub-bullet 2\n\nbullet 2",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#ordered-lists",
    "href": "slides/03-quarto.html#ordered-lists",
    "title": "Quarto",
    "section": "Ordered Lists",
    "text": "Ordered Lists\nOrdered list:\n1.  Item 1\n2.  Item 2\nLooks like this:\n\nItem 1\nItem 2",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#equations-using-latex.",
    "href": "slides/03-quarto.html#equations-using-latex.",
    "title": "Quarto",
    "section": "Equations using LaTeX.",
    "text": "Equations using LaTeX.\nExamples:\n\nInline: $Y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i$ looks like this \\(Y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i\\)\nDisplay math:\n\n$$\n\\mathbf{Y} = \\mathbf{X\\beta} + \\mathbf{\\varepsilon}\n$$\nlooks like this:\n\\[\n\\mathbf{Y} = \\mathbf{X\\beta} + \\mathbf{\\varepsilon}\n\\]",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#code-in-quarto-document-.qmd-or-rmarkdown-.rmd",
    "href": "slides/03-quarto.html#code-in-quarto-document-.qmd-or-rmarkdown-.rmd",
    "title": "Quarto",
    "section": "Code in Quarto document .qmd (or RMarkdown .rmd)",
    "text": "Code in Quarto document .qmd (or RMarkdown .rmd)\nOne can include and execute the code chunks in .qmd document by\n```{r}\n# R code here, e.g.\n2+3\n```\n\n\n\n\n\n\nNote\n\n\nTo add an R chunks, type the shortcut key binding command-option-I on the Mac and Ctrl-Alt-I on Windows.",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/03-quarto.html#r-code-chuns",
    "href": "slides/03-quarto.html#r-code-chuns",
    "title": "Quarto",
    "section": "R Code Chuns",
    "text": "R Code Chuns\nWe can write something like this:\n```{r}\nx &lt;- 1\ny &lt;- 2\nx + y\n```\nIt looks like this:\n\nx &lt;- 1\ny &lt;- 2\nx + y\n\n[1] 3\n\n\nNote that it was evaluated and the result is shown.",
    "crumbs": [
      "Lecture 3-Quarto"
    ]
  },
  {
    "objectID": "slides/04-git.html#goal-for-the-day",
    "href": "slides/04-git.html#goal-for-the-day",
    "title": "Git and GitHub",
    "section": "Goal for the day",
    "text": "Goal for the day\n https://datasciencelabs.github.io/2025/extra/git_tutorial.html \n\nCreate an account\nCreate a repository\npush something to the repository\nconnect RStudio to GitHub",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#ssh",
    "href": "slides/04-git.html#ssh",
    "title": "Git and GitHub",
    "section": "SSH",
    "text": "SSH\n\nmake sure you have ssh installed\nthen issue the command ssh-keygen\naccept the suggested location and do not use a passphrase\n\n\ntest@80f55a35ef03:/HostData/Epiconnector$ ssh-keygen \nGenerating public/private ed25519 key pair.\nEnter file in which to save the key (/home/test/.ssh/id_ed25519): \nCreated directory '/home/test/.ssh'.\nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /home/test/.ssh/id_ed25519\nYour public key has been saved in /home/test/.ssh/id_ed25519.pub",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#do-you-have-git",
    "href": "slides/04-git.html#do-you-have-git",
    "title": "Git and GitHub",
    "section": "Do you have git?",
    "text": "Do you have git?\nBefore we start:\n\nMake sure you have Git installed.\nOpen a terminal and type:\n\n\ngit --version\n\nIf not installed\n\non a Mac, follow the instructions after typing the above.\non Windows follow these instructions",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#motivation",
    "href": "slides/04-git.html#motivation",
    "title": "Git and GitHub",
    "section": "Motivation",
    "text": "Motivation\nWe want to avoid this:\n\nPosted by rjkb041 on r/ProgrammerHumor",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#motivation-1",
    "href": "slides/04-git.html#motivation-1",
    "title": "Git and GitHub",
    "section": "Motivation (1)",
    "text": "Motivation (1)\nWe want to avoid this:\n\nPosted by rjkb041 on r/ProgrammerHumor",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#motivation-2",
    "href": "slides/04-git.html#motivation-2",
    "title": "Git and GitHub",
    "section": "Motivation (2)",
    "text": "Motivation (2)\n\nThis is particularly difficult to manage when more than one person is collaborating and editing the file.\nEven more important when there are multiple files.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#motivation-3",
    "href": "slides/04-git.html#motivation-3",
    "title": "Git and GitHub",
    "section": "Motivation",
    "text": "Motivation\nBut we have to learn some things.\n\nFrom Meme Git Compilation by Lulu Ilmaknun Qurotaini",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#why-use-git-and-github",
    "href": "slides/04-git.html#why-use-git-and-github",
    "title": "Git and GitHub",
    "section": "Why use Git and GitHub?",
    "text": "Why use Git and GitHub?\n\nSharing.\nCollaborating.\nVersion control.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#what-is-git",
    "href": "slides/04-git.html#what-is-git",
    "title": "Git and GitHub",
    "section": "What is Git?",
    "text": "What is Git?",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#what-is-github",
    "href": "slides/04-git.html#what-is-github",
    "title": "Git and GitHub",
    "section": "What is GitHub?",
    "text": "What is GitHub?\n\nA Microsoft service that hosts the remote repository (repo) on the web.\nThis facilitates collaboration and sharing.\nThe main tool behind GitHub is Git.\nSimilar to how the main tool behind RStudio is R.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#what-is-github-1",
    "href": "slides/04-git.html#what-is-github-1",
    "title": "Git and GitHub",
    "section": "What is GitHub?",
    "text": "What is GitHub?\n\nThe main tool behind GitHub is Git.\nSimilar to how the main tool behind RStudio is R.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#what-is-github-2",
    "href": "slides/04-git.html#what-is-github-2",
    "title": "Git and GitHub",
    "section": "What is GitHub?",
    "text": "What is GitHub?\n\nThe main tool behind GitHub is Git.\nSimilar to how the main tool behind RStudio is R.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#github-accounts",
    "href": "slides/04-git.html#github-accounts",
    "title": "Git and GitHub",
    "section": "GitHub accounts",
    "text": "GitHub accounts\n\nClick the + icon and follow the instructions. The repo site should look something like this:\n\nhttps://github.com/your-username/your-repo-name.git\n\nPick a professional sounding name.\nConsider adding a profile README.md.\nInstructions are here.\nExample here.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#repositories",
    "href": "slides/04-git.html#repositories",
    "title": "Git and GitHub",
    "section": "Repositories",
    "text": "Repositories\n\nLet’s first go make one on GitHub…\nThen create a directory on your computer, this will be the local repo, and connect it to the Github repository.\nFirst copy and paste the location of your git repository. It should look something like this:\n\nhttps://github.com/your-username/your-repo-name.git",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#repositories-1",
    "href": "slides/04-git.html#repositories-1",
    "title": "Git and GitHub",
    "section": "Repositories",
    "text": "Repositories\n\nLet’s go make one on GitHub…\nThen create a directory on your computer, this will be the local repo, and connect it to the Github repository.\nFirst copy and paste the location of your git repository. It should look something like this:\n\nhttps://github.com/your-username/your-repo-name.git",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-git-and-github",
    "href": "slides/04-git.html#connect-git-and-github",
    "title": "Git and GitHub",
    "section": "Connect Git and GitHub",
    "text": "Connect Git and GitHub\nInstruction: https://ywanglab.github.io/stat1010/git.html\nTo connect working directory to the GitHub repo\n\ninitialize the directory:\n\n\ngit init\ngit branch -M main #rename the branch name to main\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt;\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname for the remote. It can be a different name, but this is the convention.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-git-and-github-1",
    "href": "slides/04-git.html#connect-git-and-github-1",
    "title": "Git and GitHub",
    "section": "Connect Git and GitHub",
    "text": "Connect Git and GitHub\nTo connect working directory to the GitHub repo\n\ninitialize the directory:\n\n\ngit init\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt;\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname we will use for the remote. We can call it something else, but everybody calls it origin so best to stick with that.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#generate-a-token",
    "href": "slides/04-git.html#generate-a-token",
    "title": "Git and GitHub",
    "section": "Generate a token:",
    "text": "Generate a token:\n\nFor security, save this token in a password manager. This ensures you can access it if needed later on.\nWhen git prompts you to enter your password, paste the token you’ve copied. After this, password prompts should no longer appear.\nIf you ever need the token again, retrieve it from your password manager.\n\nMore details available from Happy Git and GitHub for the use.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-git-and-github-2",
    "href": "slides/04-git.html#connect-git-and-github-2",
    "title": "Git and GitHub",
    "section": "Connect Git and GitHub",
    "text": "Connect Git and GitHub\nTo connect working directory to the GitHub repo\n\ninitialize the directory:\n\n\ngit init\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt;\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname we will use for the remote. We can call it something else, but everybody calls it origin so best to stick with that.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-git-and-github-3",
    "href": "slides/04-git.html#connect-git-and-github-3",
    "title": "Git and GitHub",
    "section": "Connect Git and GitHub",
    "text": "Connect Git and GitHub\nTo connect working directory to the GitHub repo\n\ninitialize the directory:\n\n\ngit init\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt;\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname we will use for the remote. We can call it something else, but everybody calls it origin so best to stick with that.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-git-and-github-4",
    "href": "slides/04-git.html#connect-git-and-github-4",
    "title": "Git and GitHub",
    "section": "Connect Git and GitHub",
    "text": "Connect Git and GitHub\nTo connect working directory to the GitHub repo\n\ninitialize the directory:\n\n\ngit init\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt;\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname we will use for the remote. We can call it something else, but everybody calls it origin so best to stick with that.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#overview-of-git",
    "href": "slides/04-git.html#overview-of-git",
    "title": "Git and GitHub",
    "section": "Overview of Git",
    "text": "Overview of Git\nThe main actions in Git are to:\n\npull changes from the remote repo.\nadd files, or as we say in the Git lingo stage files.\ncommit changes to the local repo.\npush changes to the remote repo.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#the-four-areas-of-git",
    "href": "slides/04-git.html#the-four-areas-of-git",
    "title": "Git and GitHub",
    "section": "The four areas of Git",
    "text": "The four areas of Git",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#status",
    "href": "slides/04-git.html#status",
    "title": "Git and GitHub",
    "section": "Status",
    "text": "Status\n\n\ngit status filename",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#add",
    "href": "slides/04-git.html#add",
    "title": "Git and GitHub",
    "section": "Add",
    "text": "Add\nUse git add to put file to staging area.\n\n\ngit add &lt;filename&gt;\n\nWe say that this file has been staged. Check to see what happened:\n\ngit status &lt;filename&gt;",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#commit",
    "href": "slides/04-git.html#commit",
    "title": "Git and GitHub",
    "section": "Commit",
    "text": "Commit\n\n\n\n\n\n\nNote\n\n\nYou can commit files directly without using add by explicitly writing the files at the end of the commit:\n\n\n\n\ngit commit -m \"must add comment\" &lt;filename&gt;\n\nor automatically stage tracked “modified + deleted” (but not new/untracked files)\n\ngit commit -a -m \"must add comment\" #-a: all tracked files",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#commit-1",
    "href": "slides/04-git.html#commit-1",
    "title": "Git and GitHub",
    "section": "Commit",
    "text": "Commit\n\n\n\n\n\n\nNote\n\n\nYou can commit files directly without using add by explicitly writing the files at the end of the commit:\n\n\n\n\ngit commit -m \"must add comment\" &lt;filename&gt;",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#push",
    "href": "slides/04-git.html#push",
    "title": "Git and GitHub",
    "section": "Push",
    "text": "Push\n\nTo move to upstream repo we use git push\n\n\n\ngit push -u origin main\n\n\nThe -u flag sets the upstream repo (only need once)\nSo going forward we can just type:\n\n\ngit push",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#push-1",
    "href": "slides/04-git.html#push-1",
    "title": "Git and GitHub",
    "section": "Push",
    "text": "Push\n\nWhen using git push we need to be careful as if collaborating this will affect the work of others.\nIt might also create a conflict.\n\n\nPosted by andortang on Nothing is Impossible!",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#fetch",
    "href": "slides/04-git.html#fetch",
    "title": "Git and GitHub",
    "section": "Fetch",
    "text": "Fetch\n\nTo update our local repository to the remote one we use\n\n\ngit fetch",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#merge",
    "href": "slides/04-git.html#merge",
    "title": "Git and GitHub",
    "section": "Merge",
    "text": "Merge\n\nOnce we are sure this is good, we can merge with our local files:\n\n\ngit merge",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#pull",
    "href": "slides/04-git.html#pull",
    "title": "Git and GitHub",
    "section": "Pull",
    "text": "Pull\n\nI rarely use fetch and merge and instead use pull which does both of these in one step\n\n\ngit pull",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#checkout",
    "href": "slides/04-git.html#checkout",
    "title": "Git and GitHub",
    "section": "Checkout",
    "text": "Checkout\n\nYou can also use checkout to obtain older version:\n\n\ngit checkout &lt;commit-id&gt; &lt;filename&gt;\n\n\nYou can get the commit-id either on the GitHub webpage or using\n\n\ngit log filename",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#checkout-1",
    "href": "slides/04-git.html#checkout-1",
    "title": "Git and GitHub",
    "section": "Checkout",
    "text": "Checkout\n\nYou can also use checkout to obtain older version:\n\n\ngit checkout &lt;commit-id&gt; &lt;filename&gt;\n\n\nYou can get the commit-id either on the GitHub webpage or using\n\n\ngit log filename",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#reset",
    "href": "slides/04-git.html#reset",
    "title": "Git and GitHub",
    "section": "Reset",
    "text": "Reset\n\nWhat if I commit and realize it was a mistake?\n\n\ngit reset HEAD~1\n\nundos the commit and unstages the files, but keeps your local copies. I use this command very often.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#branches",
    "href": "slides/04-git.html#branches",
    "title": "Git and GitHub",
    "section": "Branches",
    "text": "Branches\n\nEach repo can have several branches useful for working in parallel or testing stuff out\n\n\nArt by: Allison Horst",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#branches-1",
    "href": "slides/04-git.html#branches-1",
    "title": "Git and GitHub",
    "section": "Branches",
    "text": "Branches\n\ngit remote -v. #verbose: with details\ngit branch # show branches",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#clone",
    "href": "slides/04-git.html#clone",
    "title": "Git and GitHub",
    "section": "Clone",
    "text": "Clone\n\nAnother common command is git clone.\nIt let’s download an entire repo, including version history.\n\n\ngit clone &lt;repo-url&gt;",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#using-git-in-rstudio",
    "href": "slides/04-git.html#using-git-in-rstudio",
    "title": "Git and GitHub",
    "section": "Using Git in RStudio",
    "text": "Using Git in RStudio\n\nMake sue you have a GitHub repo exited or create a new one\nGo to file, new project, version control, and follow the instructions.\nThen notice the Git tab added in the Environment window.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#github-repositories-repo",
    "href": "slides/04-git.html#github-repositories-repo",
    "title": "Git and GitHub",
    "section": "GitHub Repositories (repo)",
    "text": "GitHub Repositories (repo)\n\nYou will have at least two copies of your code: one on your computer and one on GitHub.\nThe GitHub copy is considered the main (previously called master) copy (branch) that everybody syncs to.\nThe main branch is the code-base (ground truth).\nUpdates/revisions are inserted into main through pull request (CI).",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "STAT 3000",
    "section": "",
    "text": "Textbooks: DS Book (Part 1), DS Book (Part 2)\nGitHub: Course Repository\nLecture Notes: website\nAdditional Notes:\n\nSE and SD",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#course-information",
    "href": "index.html#course-information",
    "title": "STAT 3000",
    "section": "",
    "text": "Textbooks: DS Book (Part 1), DS Book (Part 2)\nGitHub: Course Repository\nLecture Notes: website\nAdditional Notes:\n\nSE and SD",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "slides/04-git.html#goals",
    "href": "slides/04-git.html#goals",
    "title": "Git and GitHub",
    "section": "Goals",
    "text": "Goals\n https://datasciencelabs.github.io/2025/extra/git_tutorial.html \n https://ywanglab.github.io/stat1010/git.html\n\nCreate an account\nCreate a repository\npush something to the repository\nconnect RStudio to GitHub",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#install-git",
    "href": "slides/04-git.html#install-git",
    "title": "Git and GitHub",
    "section": "Install Git",
    "text": "Install Git\n\nMake sure you have Git installed.\nOpen a terminal and type:\n\n\ngit --version\n\nIf not installed\n\non a Mac, follow the instructions after typing the above.\non Windows follow these instructions",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#what-git-does",
    "href": "slides/04-git.html#what-git-does",
    "title": "Git and GitHub",
    "section": "What Git Does?",
    "text": "What Git Does?",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#what-github-does",
    "href": "slides/04-git.html#what-github-does",
    "title": "Git and GitHub",
    "section": "What GitHub does?",
    "text": "What GitHub does?\nMany other features such as\n\nRecognition system: reward, badges and stars.\nYou can host web pages, like the class notes for example.\nPermits contributions via forks and pull requests.\nIssue tracking\nCI & CD Automation tools",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#create-a-github-repo",
    "href": "slides/04-git.html#create-a-github-repo",
    "title": "Git and GitHub",
    "section": "Create a GitHub Repo",
    "text": "Create a GitHub Repo\n\nWe shall use git init to link a local project repo to the remote repo you just created.\nIn a parent directory,use Rstudio to create a new project in it, this will be the local repo, and connect it to the Github repository.\n\nInstruction: https://ywanglab.github.io/stat1010/git.html",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-local-repo-and-remote-repo",
    "href": "slides/04-git.html#connect-local-repo-and-remote-repo",
    "title": "Git and GitHub",
    "section": "Connect Local repo and remote repo",
    "text": "Connect Local repo and remote repo\n\nThere are two ways to connect: HTTPS or SSH, each requiring different credentials.\nWe recommend using HTTPS, which uses a Personal Access Token (PAT). More: Happy Git and GitHub for the use.\n\nAccount-&gt;Settings-&gt;Developer Settings-&gt;Personal Access Tokens-&gt;Tokens(Classic)\nInstruction.\n\nNote that your GitHub website password isn’t your access token.",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-to-remote-repo",
    "href": "slides/04-git.html#connect-to-remote-repo",
    "title": "Git and GitHub",
    "section": "Connect to Remote Repo",
    "text": "Connect to Remote Repo\n\nThere are two ways to connect: HTTPS or SSH, each requiring different credentials.\nHTTPS uses a Personal Access Token (PAT). More.\n\nAccount-&gt;Settings-&gt;Developer Settings-&gt;Personal Access Tokens-&gt;Tokens(Classic)\nInstruction\n\nNote that your GitHub website password isn’t your access token.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#privacy-privacy-privacy",
    "href": "slides/04-git.html#privacy-privacy-privacy",
    "title": "Git and GitHub",
    "section": "Privacy Privacy Privacy",
    "text": "Privacy Privacy Privacy\n\nThe next step is to let Git know who you are on Github.\nType the following two commands in our terminal window:\n\n\n#\ngit config --global user.name \"Your_chosen_nickname\" #(do not use real name for privacy)\ngit config --global user.mail \"12345678+your_github_name@users.noreply.github.com\" \n# get your private email from \n# GitHub-&gt;Settings-&gt;Emails-&gt;\"Keep my email private\"",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#main-actins-of-git",
    "href": "slides/04-git.html#main-actins-of-git",
    "title": "Git and GitHub",
    "section": "Main actins of Git",
    "text": "Main actins of Git\n\npull (= fetch + merge) changes from the remote repo (alwasy do this before git push will save you a lot of headaches)\nadd files, or as we say in the Git lingo stage files.\ncommit (save) changes to the local repo.\npush changes to the remote repo.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#hypothesis",
    "href": "slides/04-git.html#hypothesis",
    "title": "Git and GitHub",
    "section": "Hypothesis",
    "text": "Hypothesis",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#git-status",
    "href": "slides/04-git.html#git-status",
    "title": "Git and GitHub",
    "section": "git status",
    "text": "git status\n\n\ngit status [filename]",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#git-add",
    "href": "slides/04-git.html#git-add",
    "title": "Git and GitHub",
    "section": "git add",
    "text": "git add\nUse git add to put file to staging area.\n\n\ngit add &lt;filename&gt;\n\nWe say that this file has been staged. * git add .: new + modifiled files, does not stage deletions: Scope: Current dir only * git add -A: new + modified + deletions. Scope: Entire repo.\n\ngit status &lt;filename&gt;",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#commit-save-a-version-or-versioning",
    "href": "slides/04-git.html#commit-save-a-version-or-versioning",
    "title": "Git and GitHub",
    "section": "Commit (Save a Version or Versioning)",
    "text": "Commit (Save a Version or Versioning)\n\nTo move all the staged files to the local repository we use git commit.\n\n\n\ngit commit -m \"must add comment\"\n\n\nOnce committed the files are tracked and a copy of this version is kept. (committed=tracked)\nThis is like adding V1 to your filename.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#stage-a-file-git-add",
    "href": "slides/04-git.html#stage-a-file-git-add",
    "title": "Git and GitHub",
    "section": "Stage a file: git add",
    "text": "Stage a file: git add\nUse git add to put file to staging area.\n\n\ngit add &lt;filename&gt;\n\nWe say that this file has been staged.\n\ngit add .: new + modifiled files, does not stage deletions: Scope: Current dir only\ngit add -A: new + modified + deletions. Scope: Entire repo.\n\n\ngit status &lt;filename&gt;",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#pull-fetch-merge",
    "href": "slides/04-git.html#pull-fetch-merge",
    "title": "Git and GitHub",
    "section": "Pull (=Fetch + Merge)",
    "text": "Pull (=Fetch + Merge)\n\ngit pull",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#restore-a-file",
    "href": "slides/04-git.html#restore-a-file",
    "title": "Git and GitHub",
    "section": "Restore a file",
    "text": "Restore a file\n\ngit restore filename\n\nDiscard local changes to a file and restores it to the last committed version (HEAD). The file remains to be tracked, but not committed yet.\nOld way:\n\ngit checkout filename\n\nRelated commands:\n\ngit restore --staged  filename # Ustage only\ngit reset file # Unstage, keep edits",
    "crumbs": [
      "Lecture 4-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#restore-a-file-from-the-latest-commit",
    "href": "slides/04-git.html#restore-a-file-from-the-latest-commit",
    "title": "Git and GitHub",
    "section": "Restore a file from the latest commit",
    "text": "Restore a file from the latest commit\n\ngit restore filename\n\nDiscard local changes to a file and restores it to the last committed version (HEAD). The file remains to be tracked, but not committed yet.\nOld way:\n\ngit checkout filename\n\nRelated commands:\n\ngit restore --staged  filename # Ustage only\ngit reset file # Unstage, keep edits",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#restore-from-an-older-commit-version",
    "href": "slides/04-git.html#restore-from-an-older-commit-version",
    "title": "Git and GitHub",
    "section": "Restore from an older commit (version)",
    "text": "Restore from an older commit (version)\n\ngit restore --source=&lt; 7-digit-commit-id&gt; &lt; filename&gt;\ngit restore --source=HEAD~2 index.qmd # two commits before the current HEAD\n\nOlder way:\n\ngit checkout &lt;7-digit-commit-id&gt; &lt;filename&gt;\n\n\nYou can get the commit-id using\n\n\ngit log filename",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#create-branches",
    "href": "slides/04-git.html#create-branches",
    "title": "Git and GitHub",
    "section": "Create branches",
    "text": "Create branches\n\ngit branch new-branch-name # create a new branch\ngit switch -c new-branch-name # create and switch\ngit checkout -b new-branch-name # create and switch (old way)\ngit switch -c feature-x main # create from a specific branch\ngit branch feature-x HEAD~2 # create from a specific commit",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#show-branches",
    "href": "slides/04-git.html#show-branches",
    "title": "Git and GitHub",
    "section": "Show branches",
    "text": "Show branches\n\ngit remote -v #verbose: with details\ngit branch # show branches",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#clone-a-remote-repo",
    "href": "slides/04-git.html#clone-a-remote-repo",
    "title": "Git and GitHub",
    "section": "Clone a Remote repo",
    "text": "Clone a Remote repo\n\nIt let’s download an entire repo, including version history.\n\nhttps://ywanglab.github.io/stat1010/git.html\n\ngit clone &lt;repo-url&gt;",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/05-r-basics.html#packages",
    "href": "slides/05-r-basics.html#packages",
    "title": "R Basics",
    "section": "Packages",
    "text": "Packages\n\nbase comes from the installation of R.\nadd-on packages that can be obtained from CRAN\nUse install.packages to install the dslabs package from CRAN\nTry: sessionInfo, installed.packages"
  },
  {
    "objectID": "slides/05-r-basics.html#prebuilt-functions",
    "href": "slides/05-r-basics.html#prebuilt-functions",
    "title": "R Basics",
    "section": "Prebuilt functions",
    "text": "Prebuilt functions\n\nR base includes automatically loaded packages: stats, graphics, grDevices, utils, datasets, methods.\nVery popular packages not included in R base: ggplot2, dplyr, tidyr, and data.table, caret, etc."
  },
  {
    "objectID": "slides/05-r-basics.html#base-r-functions",
    "href": "slides/05-r-basics.html#base-r-functions",
    "title": "R Basics",
    "section": "Base R functions",
    "text": "Base R functions\n\nls, rm, library, search, factor, list, exists, str, typeof, and class.\nYou can see the raw code for a function by typing its name without the parentheses.\n\ntype ls on your console to see an example."
  },
  {
    "objectID": "slides/05-r-basics.html#help-system",
    "href": "slides/05-r-basics.html#help-system",
    "title": "R Basics",
    "section": "Help system",
    "text": "Help system\n\nYou can learn about function using\n\nhelp(\"ls\")\nor\n?ls\n\nmany packages provide vignettes that are like how-to manuals for different analyses"
  },
  {
    "objectID": "slides/05-r-basics.html#the-workspace",
    "href": "slides/05-r-basics.html#the-workspace",
    "title": "R Basics",
    "section": "The workspace",
    "text": "The workspace\n\neach time start R, a new (clean slate) workspace that does not have any variables or libraries is loaded\nwhen exit R you will be asked if you want to save the workspace\n\nprobably always be better off saying NO\n\nif you do save a workspace it will be saved as a hidden file and whenever R is started in a directory with a saved workspace then that workspace will be re-instantiated and used\n\nthis might be helpful if you do not want to recalculate."
  },
  {
    "objectID": "slides/05-r-basics.html#the-workspace-1",
    "href": "slides/05-r-basics.html#the-workspace-1",
    "title": "R Basics",
    "section": "The workspace",
    "text": "The workspace\n\neach time you start R you will get a new workspace that does not have any variables or libraries loaded\nwhen you quit R you will be asked if you want to save the workspace\n\nyou will probably always be better off saying NO\n\nif you do save a workspace it will be saved as a hidden file (Unix lecture) and whenever R is started in a directory with a saved workspace then that workspace will be re-instantiated and used\n\nthis might be helpful if you are working on a long complex analysis with large data\n\nmostly it is much easier to just use a markdown document to detail your steps and rerun them on a clean workspace\n\nthis can also help find errors in your analysis"
  },
  {
    "objectID": "slides/05-r-basics.html#the-workspace-2",
    "href": "slides/05-r-basics.html#the-workspace-2",
    "title": "R Basics",
    "section": "The Workspace",
    "text": "The Workspace\n\njust like Unix R uses a search path to find functions that you can evaluate\n\n\nsearch()\n\n[1] \".GlobalEnv\"        \"package:stats\"     \"package:graphics\" \n[4] \"package:grDevices\" \"package:utils\"     \"package:datasets\" \n[7] \"package:methods\"   \"Autoloads\"         \"package:base\""
  },
  {
    "objectID": "slides/05-r-basics.html#variable-name-convention",
    "href": "slides/05-r-basics.html#variable-name-convention",
    "title": "R Basics",
    "section": "Variable name convention",
    "text": "Variable name convention\n\nA nice convention to follow is to use meaningful words that describe what is stored, only lower case, and underscores as a substitute for spaces.\nR and RStudio both provide autocomplete capabilities so you don’t need to type the whole name\n\nthis makes it easier to use longer, more descriptive variable names\n\nIt is highly recommended that you not use the period . in variable names, there are situations where R treats it differently and those can cause unintended actions\nFor more we recommend this guide."
  },
  {
    "objectID": "slides/05-r-basics.html#data-types",
    "href": "slides/05-r-basics.html#data-types",
    "title": "R Basics",
    "section": "Data types",
    "text": "Data types\n\nstr stands for structure, gives us information about an object.\ntypeof gives you the basic data type of the object. It reveals the lower-level data type of an object.\nclass returns the class attribute of an object. The class of an object is essentially type_of at a higher, often user-facing level."
  },
  {
    "objectID": "slides/05-r-basics.html#data-types-1",
    "href": "slides/05-r-basics.html#data-types-1",
    "title": "R Basics",
    "section": "Data types",
    "text": "Data types\nLet’s see some example:\n\nlibrary(dslabs)\ntypeof(murders)\n\n[1] \"list\"\n\nclass(murders)\n\n[1] \"data.frame\"\n\nstr(murders)\n\n'data.frame':   51 obs. of  5 variables:\n $ state     : chr  \"Alabama\" \"Alaska\" \"Arizona\" \"Arkansas\" ...\n $ abb       : chr  \"AL\" \"AK\" \"AZ\" \"AR\" ...\n $ region    : Factor w/ 4 levels \"Northeast\",\"South\",..: 2 4 4 2 4 4 1 2 2 2 ...\n $ population: num  4779736 710231 6392017 2915918 37253956 ...\n $ total     : num  135 19 232 93 1257 ...\n\ndim(murders)\n\n[1] 51  5"
  },
  {
    "objectID": "slides/05-r-basics.html#data-types-2",
    "href": "slides/05-r-basics.html#data-types-2",
    "title": "R Basics",
    "section": "Data types",
    "text": "Data types\nLet’s see some example:\n\nlibrary(dslabs)\ntypeof(murders)\n\n[1] \"list\"\n\nclass(murders)\n\n[1] \"data.frame\"\n\nstr(murders)\n\n'data.frame':   51 obs. of  5 variables:\n $ state     : chr  \"Alabama\" \"Alaska\" \"Arizona\" \"Arkansas\" ...\n $ abb       : chr  \"AL\" \"AK\" \"AZ\" \"AR\" ...\n $ region    : Factor w/ 4 levels \"Northeast\",\"South\",..: 2 4 4 2 4 4 1 2 2 2 ...\n $ population: num  4779736 710231 6392017 2915918 37253956 ...\n $ total     : num  135 19 232 93 1257 ...\n\ndim(murders)\n\n[1] 51  5"
  },
  {
    "objectID": "slides/05-r-basics.html#data-frames",
    "href": "slides/05-r-basics.html#data-frames",
    "title": "R Basics",
    "section": "Data frames",
    "text": "Data frames\n\nData frames are the most common class used in data analysis.\nData frames are like a matrix, but where the columns can have different types.\nUsually, rows represents observations and columns variables.\nyou can index them like you would a matrix, x[i, j] refers to the element in row i column j\nYou can see part of the content like this\n\n\nhead(murders)\n\n       state abb region population total\n1    Alabama  AL  South    4779736   135\n2     Alaska  AK   West     710231    19\n3    Arizona  AZ   West    6392017   232\n4   Arkansas  AR  South    2915918    93\n5 California  CA   West   37253956  1257\n6   Colorado  CO   West    5029196    65\n\n\nView a Data frames\n\nView(murders)"
  },
  {
    "objectID": "slides/05-r-basics.html#data-frames-1",
    "href": "slides/05-r-basics.html#data-frames-1",
    "title": "R Basics",
    "section": "Data frames",
    "text": "Data frames\n\nA very common operation is adding columns like this:\n\n\nmurders$pop_rank &lt;- rank(murders$population)\nhead(murders)\n\n       state abb region population total pop_rank\n1    Alabama  AL  South    4779736   135       29\n2     Alaska  AK   West     710231    19        5\n3    Arizona  AZ   West    6392017   232       36\n4   Arkansas  AR  South    2915918    93       20\n5 California  CA   West   37253956  1257       51\n6   Colorado  CO   West    5029196    65       30"
  },
  {
    "objectID": "slides/05-r-basics.html#data-frames-2",
    "href": "slides/05-r-basics.html#data-frames-2",
    "title": "R Basics",
    "section": "Data frames",
    "text": "Data frames\n\nNote that we used the $.\nThis is called an accessor because it lets us access columns.\n\n\nmurders$population\n\n [1]  4779736   710231  6392017  2915918 37253956  5029196  3574097   897934\n [9]   601723 19687653  9920000  1360301  1567582 12830632  6483802  3046355\n[17]  2853118  4339367  4533372  1328361  5773552  6547629  9883640  5303925\n[25]  2967297  5988927   989415  1826341  2700551  1316470  8791894  2059179\n[33] 19378102  9535483   672591 11536504  3751351  3831074 12702379  1052567\n[41]  4625364   814180  6346105 25145561  2763885   625741  8001024  6724540\n[49]  1852994  5686986   563626\n\n\n\nMore generally: $ can be used to access named components of a list."
  },
  {
    "objectID": "slides/05-r-basics.html#data-frames-3",
    "href": "slides/05-r-basics.html#data-frames-3",
    "title": "R Basics",
    "section": "Data frames",
    "text": "Data frames\n\nOne way R confuses beginners is by having multiple ways of doing the same thing.\nFor example you can access the 4th column in the following five different ways:\n\n\nmurders$population\nmurders[, \"population\"]\nmurders[, 4]\nmurders[[\"population\"]]\nmurders[[4]]\n\n\nIn general, we recommend using the name rather than the number as adding or removing columns will change index values, but not names."
  },
  {
    "objectID": "slides/05-r-basics.html#data-frames-4",
    "href": "slides/05-r-basics.html#data-frames-4",
    "title": "R Basics",
    "section": "Data frames",
    "text": "Data frames\n\nOne way R confuses beginners is by having multiple ways of doing the same thing.\nFor example you can access the 4th column in the following five different ways:\n\n\nmurders$population\nmurders[, \"population\"]\nmurders[, 4]\nmurders[[\"population\"]]\nmurders[[4]]\n\n\nIn general, we recommend using the name rather than the number as adding or removing columns will change index values, but not names."
  },
  {
    "objectID": "slides/05-r-basics.html#with",
    "href": "slides/05-r-basics.html#with",
    "title": "R Basics",
    "section": "with",
    "text": "with\n\nNote you can write entire code chunks by enclosing it in curly brackets:\n\n\nwith(murders, {\n   rate &lt;- total/population\n   rate &lt;- round(rate*10^5)\n   print(rate[1:5])\n})\n\n[1] 3 3 4 3 3"
  },
  {
    "objectID": "slides/05-r-basics.html#with-1",
    "href": "slides/05-r-basics.html#with-1",
    "title": "R Basics",
    "section": "with",
    "text": "with\n\nNote you can write entire code chunks by enclosing it in curly brackets:\n\n\nwith(murders, {\n   rate &lt;- total/population\n   rate &lt;- round(rate*10^5)\n   print(rate[1:5])\n})\n\n[1] 3 3 4 3 3"
  },
  {
    "objectID": "slides/05-r-basics.html#vectors",
    "href": "slides/05-r-basics.html#vectors",
    "title": "R Basics",
    "section": "Vectors",
    "text": "Vectors\n\nThe columns of data frames are an example of one dimensional (atomic) vectors.\nAn atomic vector is a vector where every element must be the same type.\n\n\nlength(murders$population)\n\n[1] 51\n\ntypeof(murders$population)\n\n[1] \"double\""
  },
  {
    "objectID": "slides/05-r-basics.html#vectors-1",
    "href": "slides/05-r-basics.html#vectors-1",
    "title": "R Basics",
    "section": "Vectors",
    "text": "Vectors\n\nOften we have to create vectors.\nThe concatenate function c is the most basic way used to create vectors:\n\n\nx &lt;- c(\"b\", \"s\", \"t\", \" \", \"2\", \"6\", \"0\")\n\n\nWe access the elements using []\n\n\nx[5]\n\n[1] \"2\"\n\ntypeof(x[5])\n\n[1] \"character\"\n\nx[12]\n\n[1] NA\n\n\n\nNOTE R does not do array bounds checking…it silently pads with missing values"
  },
  {
    "objectID": "slides/05-r-basics.html#sequences",
    "href": "slides/05-r-basics.html#sequences",
    "title": "R Basics",
    "section": "Sequences",
    "text": "Sequences\n\nSequences are vectors with equally spaced elements.\n\n\nseq(1, 10)\n\n [1]  1  2  3  4  5  6  7  8  9 10\n\nseq(1, 9, by=3)  # why the output?\n\n[1] 1 4 7\n\n\n\nWhen you want a sequence that increases/decreases by 1 you can use the colon :\n\n\n1:10\n\n [1]  1  2  3  4  5  6  7  8  9 10\n\n3.3:7.8\n\n[1] 3.3 4.3 5.3 6.3 7.3\n\n4:-1\n\n[1]  4  3  2  1  0 -1"
  },
  {
    "objectID": "slides/05-r-basics.html#sequences-1",
    "href": "slides/05-r-basics.html#sequences-1",
    "title": "R Basics",
    "section": "Sequences",
    "text": "Sequences\n\nTo quickly generate a sequence the same length as a vector x is seq_along(x) cf. 1:length(x)\n\n\nx &lt;- c(\"b\", \"s\", \"t\", \" \", \"2\", \"6\", \"0\")\nseq_along(x)\n\n[1] 1 2 3 4 5 6 7\n\n\n\nfor (i in seq_along(x)) {\n  cat(toupper(x[i])) #concatenate and print\n}\n\nBST 260\n\n\n\nBut if the length of x is zero, then using 1:length(x) does not work for the above loop\n\n\nw = x[x==\"W\"]\nprint(w) # w=charactor(0): a char vector of length 0. \n\ncharacter(0)\n\n1:length(w) # a sequence [1 0]\n\n[1] 1 0\n\nseq_along(w) # an integer vector of legnth 0\n\ninteger(0)"
  },
  {
    "objectID": "slides/05-r-basics.html#vector-types-and-coercion",
    "href": "slides/05-r-basics.html#vector-types-and-coercion",
    "title": "R Basics",
    "section": "Vector types and coercion",
    "text": "Vector types and coercion\n\ncoercion is automatically performed when it is possible\ncoercison hierarchy: logical → integer → double → character\nTRUE coerces to 1 and FALSE to 0\nbut any non-zero integer coerces to TRUE, only 0 coerces to FALSE\nas.logical converts 0 and only 0 to FALSE, everything else to TRUE\nthe character string “NA” is not a missing value\n\n\ntypeof(1:10 + 0.1)\n\n[1] \"double\"\n\ntypeof(TRUE+1) # 1 is double by default in R; integer must be `1L`\n\n[1] \"double\"\n\nas.character(TRUE)\n\n[1] \"TRUE\"\n\nas.numeric(TRUE)\n\n[1] 1\n\nas.logical(1)\n\n[1] TRUE\n\nas.logical(.5)\n\n[1] TRUE"
  },
  {
    "objectID": "slides/05-r-basics.html#coercing",
    "href": "slides/05-r-basics.html#coercing",
    "title": "R Basics",
    "section": "Coercing",
    "text": "Coercing\n\nWhen you do something inconsistent with data types, R tries to figure out what you mean and change it accordingly.\nWe call this coercing.\nR does not return an error and in some cases does not return a warning either.\nThis can cause confusion and unnoticed errors."
  },
  {
    "objectID": "slides/05-r-basics.html#vector-types-and-coercion-1",
    "href": "slides/05-r-basics.html#vector-types-and-coercion-1",
    "title": "R Basics",
    "section": "Vector types and coercion",
    "text": "Vector types and coercion\n\ncoercion is automatically performed when it is possible\nTRUE coerces to 1 and FALSE to 0\nbut any non-zero integer coerces to TRUE, only 0 coerces to FALSE\nas.logical converts 0 and only 0 to FALSE, everything else to TRUE\nthe character string “NA” is not a missing value\n\n\ntypeof(1:10 + 0.1)\n\n[1] \"double\"\n\ntypeof(TRUE+1)\n\n[1] \"double\"\n\nas.character(TRUE)\n\n[1] \"TRUE\"\n\nas.numeric(TRUE)\n\n[1] 1\n\nas.logical(1)\n\n[1] TRUE\n\nas.logical(.5)\n\n[1] TRUE"
  },
  {
    "objectID": "slides/05-r-basics.html#coercing-1",
    "href": "slides/05-r-basics.html#coercing-1",
    "title": "R Basics",
    "section": "Coercing",
    "text": "Coercing\n\nThe readr package provides some tools for trying to par\n\n\nx &lt;- c(\"12323\", \"12,323\")\nas.numeric(x)\n\n[1] 12323    NA\n\nlibrary(readr)\nparse_guess(x)\n\n[1] 12323 12323"
  },
  {
    "objectID": "slides/05-r-basics.html#coercing-2",
    "href": "slides/05-r-basics.html#coercing-2",
    "title": "R Basics",
    "section": "Coercing",
    "text": "Coercing\n\nWhen R can’t figure out how to coerce, rather an error it returns an NA:\n\n\nas.numeric(\"a\")\n\n[1] NA\n\n\n\nNote that including NAs in arithmetical operations usually returns an NA.\n\n\n1 + 2 + NA\n\n[1] NA"
  },
  {
    "objectID": "slides/05-r-basics.html#coercing-3",
    "href": "slides/05-r-basics.html#coercing-3",
    "title": "R Basics",
    "section": "Coercing",
    "text": "Coercing\n\nYou can coerce explicitly\nMost coercion functions start with as.\nHere is an example.\n\n\nx &lt;- factor(c(\"a\",\"b\",\"b\",\"c\"))\nas.character(x)\n\n[1] \"a\" \"b\" \"b\" \"c\"\n\nas.numeric(x)\n\n[1] 1 2 2 3"
  },
  {
    "objectID": "slides/05-r-basics.html#coercing-4",
    "href": "slides/05-r-basics.html#coercing-4",
    "title": "R Basics",
    "section": "Coercing",
    "text": "Coercing\n\nThe readr package provides some tools for trying to par\n\n\nx &lt;- c(\"12323\", \"12,323\")\nas.numeric(x)\n\n[1] 12323    NA\n\nlibrary(readr)\nparse_guess(x)\n\n[1] 12323 12323"
  },
  {
    "objectID": "slides/05-r-basics.html#factors",
    "href": "slides/05-r-basics.html#factors",
    "title": "R Basics",
    "section": "Factors",
    "text": "Factors\n\nAnother reason we used factors is because they are stored more efficiently:\n\n\nx &lt;- sample(murders$state[c(5,33,44)], 10^7, replace = TRUE)\ny &lt;- factor(x)\nobject.size(x)\n\n80000232 bytes\n\nobject.size(y)\n\n40000648 bytes\n\n\n\nAn integer uses less memory than a character string (but it is a bit more complicated)"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-1",
    "href": "slides/05-r-basics.html#factors-1",
    "title": "R Basics",
    "section": "Factors",
    "text": "Factors\n\nA factor is a good representation for a variable, that has a fixed set of non-numeric values\n\nex: Sex has Male and Female\n\nIt is usually not a good representation for variables that have lots of levels (like state names in the murders dataset)\nInternally a factor is stored as the unique set of labels (called levels) and an integer vector with values in 1 to length(levels)\n\nif the ith entry is k then that corresponds to the kth element of the levels\n\nIn statistics we refer to this as categorical data, where all of the individuals are mapped into a relatively small number of categories.\nUsually order does not matter, but if it does you can also have ordered factors.\n\n\nx &lt;- murders$region\nlevels(x)\n\n[1] \"Northeast\"     \"South\"         \"North Central\" \"West\""
  },
  {
    "objectID": "slides/05-r-basics.html#setting-levels",
    "href": "slides/05-r-basics.html#setting-levels",
    "title": "R Basics",
    "section": "Setting Levels",
    "text": "Setting Levels\n\nyou can set up the levels (order) as you would like, when creating a factor\nif you do not set them up, then they will be created in lexicographic order (in the locale you are using)\n\n\nx = sample(c(\"Male\", \"Female\"), 50, replace =TRUE)\ny1 = factor(x, levels=c(\"Male\", \"Female\"))\ny2 = factor(x, levels = c(\"Female\", \"Male\"))\ny1[1:10]\n\n [1] Female Female Male   Male   Male   Male   Male   Male   Male   Female\nLevels: Male Female\n\ny2[1:10]\n\n [1] Female Female Male   Male   Male   Male   Male   Male   Male   Female\nLevels: Female Male"
  },
  {
    "objectID": "slides/05-r-basics.html#categories-based-on-strata",
    "href": "slides/05-r-basics.html#categories-based-on-strata",
    "title": "R Basics",
    "section": "Categories based on strata",
    "text": "Categories based on strata\n\nThe function cut bins a numeric vector into intervals and returns a factor\n\n\nage &lt;- c(5, 93, 18, 102, 14, 22, 45, 65, 67, 25, 30, 16, 21)\ncut(age, c(0, 11, 27, 43, 59, 78, 96, Inf)) # number of categories =length(age)-1=7\n\n [1] (0,11]   (78,96]  (11,27]  (96,Inf] (11,27]  (11,27]  (43,59]  (59,78] \n [9] (59,78]  (11,27]  (27,43]  (11,27]  (11,27] \nLevels: (0,11] (11,27] (27,43] (43,59] (59,78] (78,96] (96,Inf]\n\n# cut(age,\n#     c(0,11,27,43,59,78,96,Inf),\n#     labels = c(\"Child\",\"Young\",\"Adult\",\"Mid\",\"Senior\",\"Old\",\"Very Old\"))\n\n\ncut(age, breaks, right = FALSE) # -&gt;[a,b)\ncut(age, breaks, include.lowest = TRUE) # include the lowest age 0"
  },
  {
    "objectID": "slides/05-r-basics.html#categories-based-on-strata-1",
    "href": "slides/05-r-basics.html#categories-based-on-strata-1",
    "title": "R Basics",
    "section": "Categories based on strata",
    "text": "Categories based on strata\n\nWe can assign more meaningful level names:\n\n\nage &lt;- c(5, 93, 18, 102, 14, 22, 45, 65, 67, 25, 30, 16, 21)\ncut(age, c(0, 11, 27, 43, 59, 78, 96, Inf), \n    labels = c(\"Alpha\", \"Zoomer\", \"Millennial\", \"X\", \"Boomer\", \"Silent\", \"Greatest\"))\n\n [1] Alpha      Silent     Zoomer     Greatest   Zoomer     Zoomer    \n [7] X          Boomer     Boomer     Zoomer     Millennial Zoomer    \n[13] Zoomer    \nLevels: Alpha Zoomer Millennial X Boomer Silent Greatest"
  },
  {
    "objectID": "slides/05-r-basics.html#changing-levels",
    "href": "slides/05-r-basics.html#changing-levels",
    "title": "R Basics",
    "section": "Changing levels",
    "text": "Changing levels\n\nThis is often needed for ordinal data because R defaults to alphabetical order\n\n\ngen &lt;- factor(c(\"Alpha\", \"Zoomer\", \"Millennial\"))\nlevels(gen)\n\n[1] \"Alpha\"      \"Millennial\" \"Zoomer\"    \n\n\n\nYou can change this with the levels argument:\n\n\ngen &lt;- factor(gen, levels = c(\"Alpha\", \"Zoomer\", \"Millennial\", \"X\", \"Boomer\", \"Silent\", \"Greatest\"))\nlevels(gen)\n\n[1] \"Alpha\"      \"Zoomer\"     \"Millennial\" \"X\"          \"Boomer\"    \n[6] \"Silent\"     \"Greatest\""
  },
  {
    "objectID": "slides/05-r-basics.html#changing-levels-1",
    "href": "slides/05-r-basics.html#changing-levels-1",
    "title": "R Basics",
    "section": "Changing levels",
    "text": "Changing levels\n\nA common reason we want to change levels is to assure R is aware which is the reference strata.\nThis is important for linear models because the first level is assumed to be the reference.\n\n\nx &lt;- factor(c(\"no drug\", \"drug 1\", \"drug 2\"))\nlevels(x)\n\n[1] \"drug 1\"  \"drug 2\"  \"no drug\"\n\nx &lt;- relevel(x, ref = \"no drug\")\nlevels(x)          \n\n[1] \"no drug\" \"drug 1\"  \"drug 2\""
  },
  {
    "objectID": "slides/05-r-basics.html#changing-levels-2",
    "href": "slides/05-r-basics.html#changing-levels-2",
    "title": "R Basics",
    "section": "Changing levels",
    "text": "Changing levels\n\nWe often want to order strata based on a summary statistic.\nThis is common in data visualization.\nWe can use reorder for this:\n\n\nx &lt;- reorder(murders$region, murders$population, sum)"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-2",
    "href": "slides/05-r-basics.html#factors-2",
    "title": "R Basics",
    "section": "Factors",
    "text": "Factors\n\nAnother reason we used factors is because they are stored more efficiently:\n\n\nx &lt;- sample(murders$state[c(5,33,44)], 10^7, replace = TRUE)\ny &lt;- factor(x)\nobject.size(x)\n\n80000232 bytes\n\nobject.size(y)\n\n40000648 bytes\n\n\n\nAn integer uses less memory than a character string (but it is a bit more complicated)"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-can-be-confusing",
    "href": "slides/05-r-basics.html#factors-can-be-confusing",
    "title": "R Basics",
    "section": "Factors can be confusing",
    "text": "Factors can be confusing\n\nx &lt;- factor(c(\"3\",\"2\",\"1\"), levels = c(\"3\",\"2\",\"1\"))\nas.numeric(x)\n\n[1] 1 2 3\n\nx[1]\n\n[1] 3\nLevels: 3 2 1\n\nlevels(x[1])\n\n[1] \"3\" \"2\" \"1\"\n\ntable(x[1])\n\n\n3 2 1 \n1 0 0"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-can-be-confusing-1",
    "href": "slides/05-r-basics.html#factors-can-be-confusing-1",
    "title": "R Basics",
    "section": "Factors can be confusing",
    "text": "Factors can be confusing\n\nAvoid keeping extra levels with droplevels:\n\n\nz &lt;- x[1]\nz &lt;- droplevels(z)\n\n\nBut note what happens if we change to another level:\n\n\nz[1] &lt;- \"1\"\nz\n\n[1] &lt;NA&gt;\nLevels: 3"
  },
  {
    "objectID": "slides/05-r-basics.html#nas",
    "href": "slides/05-r-basics.html#nas",
    "title": "R Basics",
    "section": "NAs",
    "text": "NAs\n\nNA stands for not available and represents data that are missing.\nData analysts have to deal with NAs often.\nIn R there is a different kind of NA for each of the basic vector data types.\nThere is also the concept of NULL, which represents a zero length list and is often returned by functions or expressions that do not have a specified return value"
  },
  {
    "objectID": "slides/05-r-basics.html#nas-1",
    "href": "slides/05-r-basics.html#nas-1",
    "title": "R Basics",
    "section": "NAs",
    "text": "NAs\n\ndslabs includes an example dataset with NAs\n\n\nlibrary(dslabs)\nna_example[1:20]\n\n [1]  2  1  3  2  1  3  1  4  3  2  2 NA  2  2  1  4 NA  1  1  2\n\n\n\nThe is.na function is key for dealing with NAs\n\n\nis.na(na_example[1])\n\n[1] FALSE\n\nis.na(na_example[17])\n\n[1] TRUE\n\nis.na(NA)\n\n[1] TRUE\n\nis.na(\"NA\")\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#nas-2",
    "href": "slides/05-r-basics.html#nas-2",
    "title": "R Basics",
    "section": "NAs",
    "text": "NAs\n\nCaution logical operators like and (&) and or (|) coerce their arguments when needed and possible\nthe logical operators evaluate arguments in a “lazy” fashion, and left to right\n\n\nTRUE & NA\n\n[1] NA\n\nTRUE & 0\n\n[1] FALSE\n\nTRUE | NA\n\n[1] TRUE"
  },
  {
    "objectID": "slides/05-r-basics.html#nans-and-inf",
    "href": "slides/05-r-basics.html#nans-and-inf",
    "title": "R Basics",
    "section": "NaNs and Inf",
    "text": "NaNs and Inf\n\nNaN: Not a Number\nNaN is a double, coercing it to integer yields an NA\nInf and -Inf represent values of infinity and minus infinity\n\n\n0/0\n\n[1] NaN\n\nclass(0/0)\n\n[1] \"numeric\"\n\nsqrt(-1)\n\n[1] NaN\n\nlog(-1)\n\n[1] NaN\n\n1/Inf\n\n[1] 0\n\nInf-Inf\n\n[1] NaN"
  },
  {
    "objectID": "slides/05-r-basics.html#lists",
    "href": "slides/05-r-basics.html#lists",
    "title": "R Basics",
    "section": "Lists",
    "text": "Lists\n\nData frames are a type of list.\nLists permit components of different types and, unlike data frames, different lengths:\n\n\nx &lt;- list(name = \"John\", id = 112, grades = c(95, 87, 92))\n\n\nThe JSON format is best represented as list in R."
  },
  {
    "objectID": "slides/05-r-basics.html#lists-1",
    "href": "slides/05-r-basics.html#lists-1",
    "title": "R Basics",
    "section": "Lists",
    "text": "Lists\n\nYou can access components in different ways:\n\n\nx$name\n\n[1] \"John\"\n\nx[[1]]\n\n[1] \"John\"\n\nx[[\"name\"]]\n\n[1] \"John\""
  },
  {
    "objectID": "slides/05-r-basics.html#matrices",
    "href": "slides/05-r-basics.html#matrices",
    "title": "R Basics",
    "section": "Matrices",
    "text": "Matrices\n\nMatrices are another widely used data type.\nThey are similar to data frames except all entries need to be of the same type.\nWe will learn more about matrices in the High Dimensional Data Analysis part of the class."
  },
  {
    "objectID": "slides/05-r-basics.html#functions",
    "href": "slides/05-r-basics.html#functions",
    "title": "R Basics",
    "section": "Functions",
    "text": "Functions\n\nany symbol found in the body of the function that does not match an argument has to be matched to a value by a process called scoping\n\n\nx &lt;-10\ns &lt;- function(n){\n  print(x)\n   return(sum(1:n))\n}\ns(2)\n\n[1] 10\n\n\n[1] 3"
  },
  {
    "objectID": "slides/05-r-basics.html#functions-1",
    "href": "slides/05-r-basics.html#functions-1",
    "title": "R Basics",
    "section": "Functions",
    "text": "Functions\n\nin R functions are first class objects - this means they can be passed as arguments, assigned to symbols, stored in other data structures\nin particular they can be passed as arguments to a function and returned as values\nin some languages (e.g. C or Java) functions are not first class objects and they cannot be passed as arguments\nPython uses a fairly similar strategy for functions to the one used in R (as do many other languages)"
  },
  {
    "objectID": "slides/05-r-basics.html#flow-control-and-operators",
    "href": "slides/05-r-basics.html#flow-control-and-operators",
    "title": "R Basics",
    "section": "Flow-control and operators",
    "text": "Flow-control and operators\n\nif/else; while; repeat; for; break; next\nyou can read the manual pages by calling help or using ? (sometimes you must quote the argument)\n\n\n help(\"for\")\n ?\"break\"\n ?\"&\"\n ?\"/\""
  },
  {
    "objectID": "slides/05-r-basics.html#logical-operators",
    "href": "slides/05-r-basics.html#logical-operators",
    "title": "R Basics",
    "section": "Logical Operators",
    "text": "Logical Operators\n\n& and | perform element-wise comparison; use for vector oprations, filtering, subsetting\n\n\nx &lt;- c(TRUE, FALSE, TRUE)\ny &lt;- c(TRUE, TRUE, FALSE)\n\nx & y\n\n[1]  TRUE FALSE FALSE\n\nx | y\n\n[1] TRUE TRUE TRUE\n\n\n\nTypical use: Subsetting\n\n\nx[x &gt; 0 & x &lt; 10]\n\n\n&& and || evaluate the first element only (short-circuit), move left to right and return when the result is determined. Use for if, while, and guards\n\n\nx &lt;- c(TRUE, FALSE)\ny &lt;- c(FALSE, TRUE)\n\nx && y  # wrong\n\nx || y #wrong\n\n\nif (x &gt; 0 & x &lt; 10) { ... } # wrong\nif (x &gt; 0 && x &lt; 10) { ... } # correct"
  },
  {
    "objectID": "slides/05-r-basics.html#arithmetic-operators",
    "href": "slides/05-r-basics.html#arithmetic-operators",
    "title": "R Basics",
    "section": "Arithmetic Operators",
    "text": "Arithmetic Operators\n\noperators like ^ or +\n?Syntax will get you the manual page\nwhen in doubt always use parentheses\n\n\n2^1+1\n\n[1] 3\n\n2^(1+1)\n\n[1] 4\n\nTRUE || TRUE && FALSE   # is the same as\n\n[1] TRUE\n\nTRUE || (TRUE && FALSE) # and different from\n\n[1] TRUE\n\n(TRUE || TRUE) && FALSE\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#functions-2",
    "href": "slides/05-r-basics.html#functions-2",
    "title": "R Basics",
    "section": "Functions",
    "text": "Functions\n\nin R functions are first class objects - this means they can be passed as arguments, assigned to symbols, stored in other data structures\nin particular they can be passed as arguments to a function and returned as values\nin some languages (e.g. C or Java) functions are not first class objects and they cannot be passed as arguments\nPython uses a fairly similar strategy for functions to the one used in R (as do many other languages)"
  },
  {
    "objectID": "slides/05-r-basics.html#scope",
    "href": "slides/05-r-basics.html#scope",
    "title": "R Basics",
    "section": "Scope",
    "text": "Scope\n\nall computer languages have a set of rules that are used to match these symbols to values\none commonly used rule is to use lexical scope, but there are lots of different ways this is done\n\n\nfun1 = function(x)  x + y\nfun1(4)\n\n\nin fun1(4) we probably all agree that the value that should be used for x is 4, we probably expect that + is a system function\nbut what about y - where should it’s value come from?"
  },
  {
    "objectID": "slides/05-r-basics.html#scope-1",
    "href": "slides/05-r-basics.html#scope-1",
    "title": "R Basics",
    "section": "Scope",
    "text": "Scope\n\nf &lt;- function(x){\n  cat(\"y is\", y,\"\\n\")\n  y &lt;- x\n  cat(\"y is\", y,\"\\n\")\n  return(y)\n}\ny &lt;- 2\nf(3)\n\ny is 2 \ny is 3 \n\n\n[1] 3"
  },
  {
    "objectID": "slides/05-r-basics.html#lexical-scope",
    "href": "slides/05-r-basics.html#lexical-scope",
    "title": "R Basics",
    "section": "Lexical Scope",
    "text": "Lexical Scope\n\nlexical scope says that for any function with unbound values you should use the environment at the time the function was created to first look for bindings, in R (and Python) after that you look in the global environment (your workspace) and then in attached packages and system functions.\n\n\nsearch()\nfilter #stats::filter()-&gt;time-series filtering\nlibrary(dplyr)\nsearch()\nfilter\n\n\nby calling library(dplyr) the package dplyr has been put near the top of the search list. You can call search() before and after the call to library to check this.\nusers could inadvertently alter computations - and we will want to protect against that"
  },
  {
    "objectID": "slides/05-r-basics.html#lexical-scope-1",
    "href": "slides/05-r-basics.html#lexical-scope-1",
    "title": "R Basics",
    "section": "Lexical Scope",
    "text": "Lexical Scope\n\nwe can write some interesting functions - like a function that evaluates the log likelihood for any given set of data\nhere we use rexp to generate values from an Exponential distribution\nnotice that a function is returned and that R notes that it is a closure\n\n\nx = rexp(100, rate = 4)\n\nllExp = function(DATA) {\n   n = length(DATA)\n   sumx = sum(DATA)\n   return(function(mu) {n * log(mu) - mu * sumx})\n}\n\nmyLL = llExp(x)\nmyLL\n\nfunction (mu) \n{\n    n * log(mu) - mu * sumx\n}\n&lt;environment: 0x13418a510&gt;"
  },
  {
    "objectID": "slides/05-r-basics.html#lexical-scope-example",
    "href": "slides/05-r-basics.html#lexical-scope-example",
    "title": "R Basics",
    "section": "Lexical Scope Example",
    "text": "Lexical Scope Example\n\nhere we generate different potential values for the rate parameter and plot the log likelihood - the MLE is the maximum of this\n\n\n##possible values for mu\ny = seq(3,5,by = 0.1)\n\nplot(y, myLL(y), type=\"l\", xlab=\"mu\", ylab=\"log likelihood\")"
  },
  {
    "objectID": "slides/05-r-basics.html#name-collisions",
    "href": "slides/05-r-basics.html#name-collisions",
    "title": "R Basics",
    "section": "Name collisions",
    "text": "Name collisions\n\nwhat happens when authors of two different packages choose the same name for their functions?\nLook at how this function associated with the symbol filter changes in the following code segment:\n\n\nfilter\nlibrary(dplyr)\nfilter\n\n\nby calling library(dplyr) a new package has been put on the search list. You can call search() before and after the call to library\none implication of this observation is that users could inadvertently alter computations - and we will want to protect against that"
  },
  {
    "objectID": "slides/05-r-basics.html#evaluation-and-the-process-used-to-find-bindings",
    "href": "slides/05-r-basics.html#evaluation-and-the-process-used-to-find-bindings",
    "title": "R Basics",
    "section": "Evaluation and the process used to find bindings",
    "text": "Evaluation and the process used to find bindings\n\nwhen evaluating a function R first establishes an evaluation environment that contains the formal arguments matched to the supplied arguments\nif the function is in a package, then the Namespace directives of the package are used to augment this evaluation environment\nany symbol not found in that evaluation environment will be searched for in the Global Environment (your workspace).\nAnd after that the search path (search()) in order.\nThe evaluator will take the first match it finds and try to use that (sort of - it does know when it is looking for a function)"
  },
  {
    "objectID": "slides/05-r-basics.html#namespaces",
    "href": "slides/05-r-basics.html#namespaces",
    "title": "R Basics",
    "section": "Namespaces",
    "text": "Namespaces\n\nTo avoid binding conflict, using :::\n\n\nstats::filter\ndplyr::filter"
  },
  {
    "objectID": "slides/05-r-basics.html#examples",
    "href": "slides/05-r-basics.html#examples",
    "title": "R Basics",
    "section": "Examples",
    "text": "Examples\n\nRestart your R Console and study this example:\n\n\nlibrary(dslabs) #attach dsplabs to the search path\nexists(\"murders\")  # `murders` exists in `dslabs`\n\n[1] TRUE\n\nmurders &lt;- murders # create a copy `murders` in .GlobalEnv\nmurders2 &lt;- murders # 2nd copy\nrm(murders) # removes `murders` from .GlobalEnv\nexists(\"murders\") #R finds it in `dslabs`\n\n[1] TRUE\n\ndetach(\"package:dslabs\") #remove from the search path\nexists(\"murders\") # does not exist on the search path\n\n[1] FALSE\n\nexists(\"murders2\")\n\n[1] TRUE"
  },
  {
    "objectID": "slides/05-r-basics.html#object-oriented-programming",
    "href": "slides/05-r-basics.html#object-oriented-programming",
    "title": "R Basics",
    "section": "Object Oriented Programming",
    "text": "Object Oriented Programming\n\nR uses object oriented programming (OOP).\nBase R uses two approaches referred to as S3 and S4\nS3, the original approach, is more common, but has some limitations\nThe S4 approach is more similar to the conventions used by the Lisp family of languages.\nIn S4 there are classes that have attributes describing data structures and methods that are functions"
  },
  {
    "objectID": "slides/05-r-basics.html#object-oriented-programming-1",
    "href": "slides/05-r-basics.html#object-oriented-programming-1",
    "title": "R Basics",
    "section": "Object Oriented Programming",
    "text": "Object Oriented Programming\n\nTime seriesNumeric\n\n\n\nclass(co2) # ts object\n\n[1] \"ts\"\n\nplot(co2) # R calls plot.ts(co2)-&gt;x-axis: year\n\n\n\n\n\n\n\n\n\n\n\nplot(as.numeric(co2)) # strip away the time-index. R calls plot.default(). x-axix: index (1,2,3,...)"
  },
  {
    "objectID": "slides/05-r-basics.html#object-oriented-programming-2",
    "href": "slides/05-r-basics.html#object-oriented-programming-2",
    "title": "R Basics",
    "section": "Object Oriented Programming",
    "text": "Object Oriented Programming\n\nNote co2 is not numeric:\n\n\nclass(co2)\n\n[1] \"ts\"\n\n\n\nThe plots are different because plot behaves differently with different classes."
  },
  {
    "objectID": "slides/05-r-basics.html#object-oriented-programming-3",
    "href": "slides/05-r-basics.html#object-oriented-programming-3",
    "title": "R Basics",
    "section": "Object Oriented Programming",
    "text": "Object Oriented Programming\n\nThe first plot actually calls the function\n\n\nplot.ts\n\n\nNotice all the plot functions that start with plot by typing plot. and then tab.\nThe function plot will call different functions depending on the class of the arguments."
  },
  {
    "objectID": "slides/05-r-basics.html#plots",
    "href": "slides/05-r-basics.html#plots",
    "title": "R Basics",
    "section": "Plots",
    "text": "Plots\n\nSoon we will learn how to use the ggplot2 package to make plots.\nR base does have functions:\n\nplot - mainly for making scatterplots.\nlines - add lines/curves to an existing plot.\nhist - to make a histogram.\nboxplot - makes boxplots.\nimage - uses color to represent entries in a matrix."
  },
  {
    "objectID": "slides/05-r-basics.html#plots-1",
    "href": "slides/05-r-basics.html#plots-1",
    "title": "R Basics",
    "section": "Plots",
    "text": "Plots\n\nin general, we recommend using ggplot2, R base plots are often better for quick exploratory plots.\nFor example, to make a histogram of values in x simply type:\n\n\nhist(x)\n\n\nTo make a scatter plot of y versus x and then add connected line:\n\n\nplot(x,y) # open a new figure (canvas)\nlines(x,y) #adds connected line to an existing plot. It does not create a new figure(canvas)"
  },
  {
    "objectID": "slides/05-r-basics.html#variables",
    "href": "slides/05-r-basics.html#variables",
    "title": "R Basics",
    "section": "Variables",
    "text": "Variables\n\nDefine a variable.\n\n\na &lt;- 2\n\n\nUse ls to see if it’s there. Also take a look at the Environment tab in RStudio.\n\n\nls()\n\n[1] \"a\"\n\n\n\nUse rm to remove the variable you defined.\n\n\nrm(a)"
  },
  {
    "objectID": "slides/05-r-basics.html#the-search-paths",
    "href": "slides/05-r-basics.html#the-search-paths",
    "title": "R Basics",
    "section": "The search paths",
    "text": "The search paths\n\nsearch() # return the search path that R checks in order\n\n[1] \".GlobalEnv\"        \"package:stats\"     \"package:graphics\" \n[4] \"package:grDevices\" \"package:utils\"     \"package:datasets\" \n[7] \"package:methods\"   \"Autoloads\"         \"package:base\"     \n\n\n\nTwo functions have the same name will be searched in the order defeined in the search path.\nWhen you run\n\n\nlibrary(deplyr)\n\npackage deplyr is added near the top of the search path."
  },
  {
    "objectID": "slides/05-r-basics.html#variable-naming-convention",
    "href": "slides/05-r-basics.html#variable-naming-convention",
    "title": "R Basics",
    "section": "Variable naming convention",
    "text": "Variable naming convention\n\nuse meaningful words (nouns) that describe what is stored, only lower case, and underscores, no spaces.\nDo not use the period . in variable names. R may treat it differently and those can cause unintended actions\nFor more this guide."
  },
  {
    "objectID": "slides/05-r-basics.html#main-data-types",
    "href": "slides/05-r-basics.html#main-data-types",
    "title": "R Basics",
    "section": "Main data types",
    "text": "Main data types\n\nOne dimensional vectors: double, integer, logical, complex, characters.\ninteger and double are both numeric\nFactors\nLists: this includes data frames.\nArrays: Matrices are the most widely used.\nDate and time\ntibble (comes from tidyverse, behaves like a dataframe, print friendly, no automatic type change, avoids silent bugs)\nS3 objects (default R system, flexible, but can be fragile) vs. S4 objects (srongly typed classes, avoid silent bugs)"
  },
  {
    "objectID": "slides/05-r-basics.html#view-a-data-frames",
    "href": "slides/05-r-basics.html#view-a-data-frames",
    "title": "R Basics",
    "section": "View a Data frames",
    "text": "View a Data frames\n\nView(murders)"
  },
  {
    "objectID": "slides/05-r-basics.html#add-a-column",
    "href": "slides/05-r-basics.html#add-a-column",
    "title": "R Basics",
    "section": "Add a column",
    "text": "Add a column\n\nmurders$pop_rank &lt;- rank(murders$population)\nhead(murders)\n\n       state abb region population total pop_rank\n1    Alabama  AL  South    4779736   135       29\n2     Alaska  AK   West     710231    19        5\n3    Arizona  AZ   West    6392017   232       36\n4   Arkansas  AR  South    2915918    93       20\n5 California  CA   West   37253956  1257       51\n6   Colorado  CO   West    5029196    65       30"
  },
  {
    "objectID": "slides/05-r-basics.html#data-frames-accessor",
    "href": "slides/05-r-basics.html#data-frames-accessor",
    "title": "R Basics",
    "section": "Data frames: Accessor $",
    "text": "Data frames: Accessor $\n\n$ is called an accessor because it lets us access columns.\n\n\nmurders$population\n\n [1]  4779736   710231  6392017  2915918 37253956  5029196  3574097   897934\n [9]   601723 19687653  9920000  1360301  1567582 12830632  6483802  3046355\n[17]  2853118  4339367  4533372  1328361  5773552  6547629  9883640  5303925\n[25]  2967297  5988927   989415  1826341  2700551  1316470  8791894  2059179\n[33] 19378102  9535483   672591 11536504  3751351  3831074 12702379  1052567\n[41]  4625364   814180  6346105 25145561  2763885   625741  8001024  6724540\n[49]  1852994  5686986   563626\n\n\n\nMore generally: $ can be used to access named components of a list."
  },
  {
    "objectID": "slides/05-r-basics.html#alternative-ways-to-access-columns-confusing",
    "href": "slides/05-r-basics.html#alternative-ways-to-access-columns-confusing",
    "title": "R Basics",
    "section": "Alternative ways to access columns (confusing)",
    "text": "Alternative ways to access columns (confusing)\n\nmurders$population\nmurders[, \"population\"]\nmurders[, 4] \nmurders[[\"population\"]]\nmurders[[4]]\n\n\nIn general, using the name rather than the number as adding or removing columns will change index values, but not names."
  },
  {
    "objectID": "slides/05-r-basics.html#caution",
    "href": "slides/05-r-basics.html#caution",
    "title": "R Basics",
    "section": "Caution",
    "text": "Caution\nCompare\n\nmurders$population\nmurders[, \"population\"]\nmurders[[\"population\"]]. # access the column content\nmurders['population'].   # access the column as a data frame\nclass(murders['population'])\nclass(murders[[\"population\"]])."
  },
  {
    "objectID": "slides/05-r-basics.html#gotcha",
    "href": "slides/05-r-basics.html#gotcha",
    "title": "R Basics",
    "section": "Gotcha",
    "text": "Gotcha\nCompare\n\nmurders$population\nmurders[, \"population\"]\nmurders[[\"population\"]] # access the column content\nmurders['population']   # access the column as a data frame\n\n\nclass(murders['population'])\n\n[1] \"data.frame\"\n\nclass(murders[[\"population\"]])\n\n[1] \"numeric\""
  },
  {
    "objectID": "slides/05-r-basics.html#with-clause",
    "href": "slides/05-r-basics.html#with-clause",
    "title": "R Basics",
    "section": "with clause",
    "text": "with clause\n\nwith let’s us use the column names as symbols to access the data.\n\n\nrate &lt;- with(murders, total/population)"
  },
  {
    "objectID": "slides/05-r-basics.html#atomic-vectors",
    "href": "slides/05-r-basics.html#atomic-vectors",
    "title": "R Basics",
    "section": "Atomic vectors",
    "text": "Atomic vectors\n\nThe columns of data frames are one dimensional (atomic) vectors.\nAn atomic vector is a vector where every element must be the same type.\n\n\nlength(murders$population)\n\n[1] 51\n\ntypeof(murders$population)\n\n[1] \"double\""
  },
  {
    "objectID": "slides/05-r-basics.html#create-vectors",
    "href": "slides/05-r-basics.html#create-vectors",
    "title": "R Basics",
    "section": "Create vectors",
    "text": "Create vectors\n\nUSe the concatenate function c by listing its members.\n\n\nx &lt;- c(\"b\", \"s\", \"t\", \" \", \"2\", \"6\", \"0\")\n\n\nWe access the elements using []\n\n\nx[5]\n\n[1] \"2\"\n\ntypeof(x[5])\n\n[1] \"character\"\n\nx[12]\n\n[1] NA\n\n\n\nNOTE R does not do array bounds checking…it silently pads with missing values"
  },
  {
    "objectID": "slides/05-r-basics.html#a-code-chun-in-with",
    "href": "slides/05-r-basics.html#a-code-chun-in-with",
    "title": "R Basics",
    "section": "A code chun in with",
    "text": "A code chun in with\n\nNote you can write entire code chunks by enclosing it in curly brackets:\n\n\nwith(murders, {\n   rate &lt;- total/population\n   rate &lt;- round(rate*10^5)\n   print(rate[1:5])\n})\n\n[1] 3 3 4 3 3"
  },
  {
    "objectID": "slides/05-r-basics.html#data-types-and-coercion",
    "href": "slides/05-r-basics.html#data-types-and-coercion",
    "title": "R Basics",
    "section": "Data types and coercion",
    "text": "Data types and coercion\n\ndouble, integer, logical, complex, characters and numeric\nEach basic type has its own version of NA (a missing value)\ntesting for types: is.TYPE,\ncoercing : as.TYPE, will result in NA if it is not possible\n\n\nis.numeric(\"a\")\n\n[1] FALSE\n\nis.double(1L)\n\n[1] FALSE\n\nas.double(\"6\")\n\n[1] 6\n\nas.numeric(x) + 3\n\n[1] NA NA NA NA  5  9  3\n\ntypeof(1:10)\n\n[1] \"integer\""
  },
  {
    "objectID": "slides/05-r-basics.html#more-coercing-examples",
    "href": "slides/05-r-basics.html#more-coercing-examples",
    "title": "R Basics",
    "section": "More coercing examples",
    "text": "More coercing examples\n\ntypeof(1L)\n\n[1] \"integer\"\n\ntypeof(1)\n\n[1] \"double\"\n\ntypeof(1 + 1L)\n\n[1] \"double\"\n\nc(\"a\", 1, 2)\n\n[1] \"a\" \"1\" \"2\"\n\nTRUE + FALSE\n\n[1] 1\n\nfactor(\"a\") == \"a\" #`==` compare values\n\n[1] TRUE\n\nidentical(factor(\"a\"), \"a\") #check if they are the same objects\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#when-coercing-fails",
    "href": "slides/05-r-basics.html#when-coercing-fails",
    "title": "R Basics",
    "section": "When coercing fails",
    "text": "When coercing fails\n\nWhen R can’t figure out how to coerce, rather an error it returns an NA:\n\n\nas.numeric(\"a\")\n\n[1] NA\n\n\n\nNote that including NAs in arithmetical operations usually returns an NA.\n\n\n1 + 2 + NA\n\n[1] NA"
  },
  {
    "objectID": "slides/05-r-basics.html#explicitly-coercing",
    "href": "slides/05-r-basics.html#explicitly-coercing",
    "title": "R Basics",
    "section": "Explicitly coercing",
    "text": "Explicitly coercing\n\nMost coercion functions start with as.\n\n\nx &lt;- factor(c(\"a\",\"b\",\"b\",\"c\"))\nprint(x)\n\n[1] a b b c\nLevels: a b c\n\nas.character(x)\n\n[1] \"a\" \"b\" \"b\" \"c\"\n\nas.numeric(x)\n\n[1] 1 2 2 3"
  },
  {
    "objectID": "slides/05-r-basics.html#coercing-and-parsing-by-readr",
    "href": "slides/05-r-basics.html#coercing-and-parsing-by-readr",
    "title": "R Basics",
    "section": "Coercing and parsing by readr",
    "text": "Coercing and parsing by readr\n\nThe readr package provides some tools for trying to par\n\n\nx &lt;- c(\"12323\", \"12,323\")\nas.numeric(x)\n\n[1] 12323    NA\n\nlibrary(readr)\nparse_guess(x)\n\n[1] 12323 12323"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-and-characters",
    "href": "slides/05-r-basics.html#factors-and-characters",
    "title": "R Basics",
    "section": "Factors and Characters",
    "text": "Factors and Characters\n\nThe murder dataset has examples of both.\n\n\nclass(murders$state)\n\n[1] \"character\"\n\nclass(murders$region)\n\n[1] \"factor\""
  },
  {
    "objectID": "slides/05-r-basics.html#what-is-a-factor",
    "href": "slides/05-r-basics.html#what-is-a-factor",
    "title": "R Basics",
    "section": "What is a factor?",
    "text": "What is a factor?\n\nA factor is a R representation for a categorical variable, that has a fixed set of non-numeric values\n\nex: Sex has Male and Female\n\nusually not a good representation for variables that have lots of levels (like state names in the murders dataset)\nInternally a factor is stored as the unique set of labels (called levels) and an integer vector with values in 1 to length(levels)\n\nif the ith entry is k then that corresponds to the kth element of the levels\n\nUsually order does not matter, but if it does you can also have ordered factors.\n\n\nx &lt;- murders$region\nlevels(x)\n\n[1] \"Northeast\"     \"South\"         \"North Central\" \"West\""
  },
  {
    "objectID": "slides/05-r-basics.html#the-previous-example-contnued",
    "href": "slides/05-r-basics.html#the-previous-example-contnued",
    "title": "R Basics",
    "section": "The previous example contnued",
    "text": "The previous example contnued\n\nx = sample(c(\"Male\", \"Female\"), 50, replace =TRUE)\ny1 = factor(x, levels=c(\"Male\", \"Female\"))\ny2 = factor(x, levels = c(\"Female\", \"Male\"))\ny1[1:10]\n\n [1] Female Female Female Female Female Female Female Male   Female Male  \nLevels: Male Female\n\ny2[1:10]\n\n [1] Female Female Female Female Female Female Female Male   Female Male  \nLevels: Female Male\n\ny1==y2\n\n [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[46] TRUE TRUE TRUE TRUE TRUE\n\nidentical(y1,y2)\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#the-previous-example-continued",
    "href": "slides/05-r-basics.html#the-previous-example-continued",
    "title": "R Basics",
    "section": "The previous example continued",
    "text": "The previous example continued\n\nx = sample(c(\"Male\", \"Female\"), 50, replace =TRUE)\ny1 = factor(x, levels=c(\"Male\", \"Female\"))\ny2 = factor(x, levels = c(\"Female\", \"Male\"))\ny1[1:10]\n\n [1] Male   Female Male   Male   Male   Female Male   Male   Male   Male  \nLevels: Male Female\n\ny2[1:10]\n\n [1] Male   Female Male   Male   Male   Female Male   Male   Male   Male  \nLevels: Female Male\n\ny1==y2\n\n [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[46] TRUE TRUE TRUE TRUE TRUE\n\nidentical(y1,y2)\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#assigning-labels",
    "href": "slides/05-r-basics.html#assigning-labels",
    "title": "R Basics",
    "section": "Assigning labels",
    "text": "Assigning labels\n\nWe can assign more meaningful level names:\n\n\nage &lt;- c(5, 93, 18, 102, 14, 22, 45, 65, 67, 25, 30, 16, 21)\ncut(age, c(0, 11, 27, 43, 59, 78, 96, Inf), \n    labels = c(\"Alpha\", \"Zoomer\", \"Millennial\", \"X\", \"Boomer\", \"Silent\", \"Greatest\"))\n\n [1] Alpha      Silent     Zoomer     Greatest   Zoomer     Zoomer    \n [7] X          Boomer     Boomer     Zoomer     Millennial Zoomer    \n[13] Zoomer    \nLevels: Alpha Zoomer Millennial X Boomer Silent Greatest"
  },
  {
    "objectID": "slides/05-r-basics.html#reference-level",
    "href": "slides/05-r-basics.html#reference-level",
    "title": "R Basics",
    "section": "Reference level",
    "text": "Reference level\n\nA common reason we want to change levels is to assure R uses correct the reference strata.\nThis is important for linear models (lm) because the first level is assumed to be the reference.\n\n\nx &lt;- factor(c(\"no drug\", \"drug 1\", \"drug 2\"))\nlevels(x)\n\n[1] \"drug 1\"  \"drug 2\"  \"no drug\"\n\nx &lt;- relevel(x, ref = \"no drug\") \n# factor(c(\"no drug\", \"drug 1\", \"drug 2\"), levels = c(\"no drug\", \"drug 1\", \"drug 2\"))\nlevels(x)          \n\n[1] \"no drug\" \"drug 1\"  \"drug 2\""
  },
  {
    "objectID": "slides/05-r-basics.html#reorder-a-factor-categorical-variable",
    "href": "slides/05-r-basics.html#reorder-a-factor-categorical-variable",
    "title": "R Basics",
    "section": "Reorder a factor (categorical) variable",
    "text": "Reorder a factor (categorical) variable\n\nWe often want to order strata (factor) based on a summary statistic.\n\n\nx &lt;- reorder(murders$region, murders$population, sum) #reorder(x,by, FUN)\n#order the regions by their total populations by ascedning (default)\n# reorder(murders$region, murders$population, sum, decreasing = TRUE)\nlibrary(ggplot2)\nggplot(murders, aes(x = reorder(region, population, sum),\n                    y = population)) +\n  geom_bar(stat = \"summary\", fun = \"sum\")"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-use-less-memory",
    "href": "slides/05-r-basics.html#factors-use-less-memory",
    "title": "R Basics",
    "section": "Factors use less memory",
    "text": "Factors use less memory\n\nAnother reason we used factors is because they are stored more efficiently:\n\n\nx &lt;- sample(murders$state[c(5,33,44)], 10^7, replace = TRUE) #sample(x,size,replace)\ny &lt;- factor(x)\nobject.size(x)\n\n80000232 bytes\n\nobject.size(y)\n\n40000648 bytes\n\n\n\nAn integer uses less memory than a character string (but it is a bit more complicated)\n\n\nlength(x) #  10000000\n\n[1] 10000000\n\ntable(x) / length(x) #≈ 0.333, 0.333, 0.333\n\nx\nCalifornia   New York      Texas \n 0.3335080  0.3333783  0.3331137"
  },
  {
    "objectID": "slides/05-r-basics.html#factors-integers-use-less-memory",
    "href": "slides/05-r-basics.html#factors-integers-use-less-memory",
    "title": "R Basics",
    "section": "Factors (integers) use less memory",
    "text": "Factors (integers) use less memory\n\nx &lt;- sample(murders$state[c(5,33,44)], 10^7, replace = TRUE) #sample(x,size,replace)\ny &lt;- factor(x)\nobject.size(x)\n\n80000232 bytes\n\nobject.size(y)\n\n40000648 bytes\n\n\n\nlength(x) #  10000000\n\n[1] 10000000\n\ntable(x) / length(x) #≈ 0.333, 0.333, 0.333\n\nx\nCalifornia   New York      Texas \n 0.3332642  0.3335085  0.3332273 \n\n# table counts the frequency of each unique value"
  },
  {
    "objectID": "slides/05-r-basics.html#drop-extra-levels-with-droplevels",
    "href": "slides/05-r-basics.html#drop-extra-levels-with-droplevels",
    "title": "R Basics",
    "section": "Drop extra levels with droplevels",
    "text": "Drop extra levels with droplevels\n\nz &lt;- x[1]\nz &lt;- droplevels(z)\nz\n\n[1] 3\nLevels: 3\n\n\n\nBut note what happens if we change to another level:\n\n\nz[1] &lt;- \"1\" # Factors only allow values that exist in levels(z)\nz\n\n[1] &lt;NA&gt;\nLevels: 3"
  },
  {
    "objectID": "slides/05-r-basics.html#nas-and-nulls",
    "href": "slides/05-r-basics.html#nas-and-nulls",
    "title": "R Basics",
    "section": "NAs and NULLs",
    "text": "NAs and NULLs\n\nNA stands for not available and represents missing data.\nIn R there is a different kind of NA for each of the basic vector data types.\nNULL, represents a zero length list and is often returned by functions or expressions that do not have a specified return value"
  },
  {
    "objectID": "slides/05-r-basics.html#checking-nas-by-is.na",
    "href": "slides/05-r-basics.html#checking-nas-by-is.na",
    "title": "R Basics",
    "section": "Checking NAs by is.na",
    "text": "Checking NAs by is.na\n\ndslabs includes an example dataset with NAs\n\n\nlibrary(dslabs)\nna_example[1:20]\n\n [1]  2  1  3  2  1  3  1  4  3  2  2 NA  2  2  1  4 NA  1  1  2\n\n\n\nThe is.na function is key for dealing with NAs\n\n\nis.na(na_example[1])\n\n[1] FALSE\n\nis.na(na_example[17])\n\n[1] TRUE\n\nis.na(NA)\n\n[1] TRUE\n\nis.na(\"NA\")\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#nas-and-logical-operators",
    "href": "slides/05-r-basics.html#nas-and-logical-operators",
    "title": "R Basics",
    "section": "NAs and logical operators",
    "text": "NAs and logical operators\n\nlogical operators like and (&) and or (|) coerce their arguments when needed and possible\nthe logical operators do “lazy” evaluation, from left to right\n\n\nTRUE & NA\n\n[1] NA\n\nTRUE & 0\n\n[1] FALSE\n\nTRUE | NA\n\n[1] TRUE"
  },
  {
    "objectID": "slides/05-r-basics.html#access-compoenents-of-a-list",
    "href": "slides/05-r-basics.html#access-compoenents-of-a-list",
    "title": "R Basics",
    "section": "Access compoenents of a list",
    "text": "Access compoenents of a list\n\nYou can access components in different ways:\n\n\nx$name\n\n[1] \"John\"\n\nx[[1]]\n\n[1] \"John\"\n\nx[[\"name\"]]\n\n[1] \"John\""
  },
  {
    "objectID": "slides/05-r-basics.html#subsetsublist-and-extraction",
    "href": "slides/05-r-basics.html#subsetsublist-and-extraction",
    "title": "R Basics",
    "section": "subset(sublist)[] and extraction [[]]",
    "text": "subset(sublist)[] and extraction [[]]\n\nx$name == x[[1]]\n\n[1] TRUE\n\nclass(x[[1]])\n\n[1] \"character\"\n\nx[1]\n\n$name\n[1] \"John\"\n\nclass(x[1])\n\n[1] \"list\"\n\nx[[1]] == x[1]\n\nname \nTRUE \n\nidentical(x[1],x[[1]])\n\n[1] FALSE"
  },
  {
    "objectID": "slides/05-r-basics.html#matrices-faster-computation",
    "href": "slides/05-r-basics.html#matrices-faster-computation",
    "title": "R Basics",
    "section": "Matrices: Faster computation",
    "text": "Matrices: Faster computation\n\nsimilar to data frames except all entries need to be of the same type.\n\n\nmat &lt;- matrix(1:12, 4, 3)\nmat\n\n     [,1] [,2] [,3]\n[1,]    1    5    9\n[2,]    2    6   10\n[3,]    3    7   11\n[4,]    4    8   12\n\nmat[2, 3]  # 10\n\n[1] 10\n\nmat[2,]\n\n[1]  2  6 10\n\nmat[,3]\n\n[1]  9 10 11 12\n\nmat[,2:3]\n\n     [,1] [,2]\n[1,]    5    9\n[2,]    6   10\n[3,]    7   11\n[4,]    8   12\n\nmat[1:2,2:3]\n\n     [,1] [,2]\n[1,]    5    9\n[2,]    6   10\n\nas.data.frame(mat)\n\n  V1 V2 V3\n1  1  5  9\n2  2  6 10\n3  3  7 11\n4  4  8 12"
  },
  {
    "objectID": "slides/05-r-basics.html#customized-functions",
    "href": "slides/05-r-basics.html#customized-functions",
    "title": "R Basics",
    "section": "Customized functions",
    "text": "Customized functions\n\nf &lt;- function(x, y, z = 0){\n  ### do calculations with x, y, z to compute object\n  return(object)\n}\n\n\npositional arguments, keyword arguments\narguments are matched by either name (which takes precedence) or position\nreturned value: the value specified in a call to return or the value of the last statement evaluated"
  },
  {
    "objectID": "slides/05-r-basics.html#define-a-customized-functions",
    "href": "slides/05-r-basics.html#define-a-customized-functions",
    "title": "R Basics",
    "section": "Define a customized functions",
    "text": "Define a customized functions\n\nf &lt;- function(x, y, z = 0){\n  ### do calculations with x, y, z to compute object\n  return(object)\n}\n\n\npositional arguments, keyword arguments\narguments are matched by either exact name (which takes precedence) or position\nreturned value: the value specified in a call to return or the value of the last statement evaluated"
  },
  {
    "objectID": "slides/05-r-basics.html#how-r-matches-funciton-arguments",
    "href": "slides/05-r-basics.html#how-r-matches-funciton-arguments",
    "title": "R Basics",
    "section": "How R matches funciton arguments",
    "text": "How R matches funciton arguments\n\nR matches named arguments first, positional arguments last.\n\n\nf &lt;- function(a, b, c) {\n  c(a, b, c)\n}\n\nf(1, c = 3, 2)\n\n[1] 1 2 3\n\n\n\nmean(na.rm = TRUE, c(1, NA, 3))\n\n[1] 2\n\n\n\nf &lt;- function(a, b, c) a + b + c\nf(1, 2, c = 3, b = 4)"
  },
  {
    "objectID": "slides/05-r-basics.html#r-matches-named-arguments-first-positional-arguments-last",
    "href": "slides/05-r-basics.html#r-matches-named-arguments-first-positional-arguments-last",
    "title": "R Basics",
    "section": "R matches named arguments first, positional arguments last",
    "text": "R matches named arguments first, positional arguments last\n\nf &lt;- function(a, b, c) {\n  c(a, b, c)\n}\n\nf(1, c = 3, 2)\n\n[1] 1 2 3\n\n\n\nmean(na.rm = TRUE, c(1, NA, 3))\n\n[1] 2\n\n\n\nf &lt;- function(a, b, c) a + b + c\nf(1, 2, c = 3, b = 4)\n# Error in f(1, 2, c = 3, b = 4) : unused argument (2)"
  },
  {
    "objectID": "slides/05-r-basics.html#for-loop",
    "href": "slides/05-r-basics.html#for-loop",
    "title": "R Basics",
    "section": "For loop",
    "text": "For loop\n\nfor (i in 1:3) {\n  print(i)\n}\n\n[1] 1\n[1] 2\n[1] 3\n\ncompute_s_n &lt;- function(n) { \n  sum(1:n)\n}\nm &lt;- 5\ns_n &lt;- vector(length = m) # create an empty vector\nfor (n in 1:m) {\n  s_n[n] &lt;- compute_s_n(n)\n}\nn &lt;- 1:m\nplot(n, s_n)"
  },
  {
    "objectID": "slides/05-r-basics.html#if-else",
    "href": "slides/05-r-basics.html#if-else",
    "title": "R Basics",
    "section": "if-else",
    "text": "if-else\n\na &lt;- 0\n\nif (a != 0) {\n  print(1/a)\n} else{\n  print(\"No reciprocal for 0.\")\n}\n\n[1] \"No reciprocal for 0.\"\n\na &lt;- 0\nifelse(a &gt; 0, 1/a, NA)\n\n[1] NA\n\n#&gt; [1] NA"
  },
  {
    "objectID": "slides/05-r-basics.html#logical-operators-and",
    "href": "slides/05-r-basics.html#logical-operators-and",
    "title": "R Basics",
    "section": "Logical Operators & and |",
    "text": "Logical Operators & and |\n\n& and | perform element-wise comparison; use for vector oprations, filtering, subsetting\n\n\nx &lt;- c(TRUE, FALSE, TRUE)\ny &lt;- c(TRUE, TRUE, FALSE)\n\nx & y\n\n[1]  TRUE FALSE FALSE\n\nx | y\n\n[1] TRUE TRUE TRUE\n\n\n\nTypical use: Subsetting\n\n\nx[x &gt; 0 & x &lt; 10]"
  },
  {
    "objectID": "slides/05-r-basics.html#logical-operators-and-1",
    "href": "slides/05-r-basics.html#logical-operators-and-1",
    "title": "R Basics",
    "section": "Logical operators && and ||",
    "text": "Logical operators && and ||\n\n&& and || lazy eval (short-circuit), move left to right and return when the result is determined. Use for if, while, and guards\n\n\nx &lt;- c(TRUE, FALSE)\ny &lt;- c(FALSE, TRUE)\n\nx && y  # wrong. Each side must return a single TRUE/FALSE\n\nx || y #wrong\n\n\nif (x &gt; 0 & x &lt; 10) { ... } # wrong\nif (x &gt; 0 && x &lt; 10) { ... } # wrong if x is a vector of length &gt;1"
  },
  {
    "objectID": "slides/05-r-basics.html#function-as-an-argument",
    "href": "slides/05-r-basics.html#function-as-an-argument",
    "title": "R Basics",
    "section": "Function as an argument",
    "text": "Function as an argument\n\nin R functions are first class objects - this means they can be passed as arguments, assigned to symbols, stored in other data structures\nin particular they can be passed as arguments to a function and returned as values\nin some languages (e.g. C or Java) functions are not first class objects and they cannot be passed as arguments\nPython uses a fairly similar strategy as in R"
  },
  {
    "objectID": "slides/05-r-basics.html#exampe-function-as-a-returned-value",
    "href": "slides/05-r-basics.html#exampe-function-as-a-returned-value",
    "title": "R Basics",
    "section": "Exampe: function as a returned value",
    "text": "Exampe: function as a returned value\n\nrexp: generate values from an Exponential distribution \\(f(x;\\lambda)=\\begin{cases} \\lambda e^{-\\lambda x} & x\\ge 0 \\\\ 0 & x&lt;0. \\end{cases}\\).\nnotice that a function is returned\n\n\nx = rexp(100, rate = 4)\n\nllExp = function(DATA) {\n   n = length(DATA)\n   sumx = sum(DATA)\n   return(function(mu) {n * log(mu) - mu * sumx})\n}\n\nmyLL = llExp(x)\nmyLL\n\nfunction (mu) \n{\n    n * log(mu) - mu * sumx\n}\n&lt;environment: 0x11a230388&gt;"
  },
  {
    "objectID": "slides/05-r-basics.html#function-call-as-an-argument",
    "href": "slides/05-r-basics.html#function-call-as-an-argument",
    "title": "R Basics",
    "section": "Function call as an argument",
    "text": "Function call as an argument\n\n##possible values for mu\ny = seq(3,5,by = 0.1)\n\nplot(y, myLL(y), type=\"l\", xlab=\"mu\", ylab=\"log likelihood\") \n# \"l\"-line; \"p\"-points(default), \"b\"-both; \"h\"-vertical lines\nabline(v = y[which.max(myLL(y))], col = \"red\")\n\n\n\nMLE occurs at mu=3.7"
  },
  {
    "objectID": "slides/05-r-basics.html#function-call-as-an-argument-1",
    "href": "slides/05-r-basics.html#function-call-as-an-argument-1",
    "title": "R Basics",
    "section": "Function call as an argument",
    "text": "Function call as an argument\n\nwhat happens when authors of two different packages choose the same name for their functions?\nLook at how this function associated with the symbol filter changes in the following code segment:\n\n\nfilter\nlibrary(dplyr)\nfilter\n\n\nby calling library(dplyr) a new package has been put on the search list. You can call search() before and after the call to library\none implication of this observation is that users could inadvertently alter computations - and we will want to protect against that"
  },
  {
    "objectID": "slides/05-r-basics.html#order-of-binding",
    "href": "slides/05-r-basics.html#order-of-binding",
    "title": "R Basics",
    "section": "Order of binding",
    "text": "Order of binding\n\nsearch()\nfilter     #stats::filter()-&gt;time-series filtering\nlibrary(dplyr)\nsearch()\nfilter # dplyr::filter(): -&gt;row filtering\n\n\nby calling library(dplyr) the package dplyr has been put near the top of the search list. You can call search() before and after the call to library to check this.\nusers could inadvertently alter computations - and we will want to protect against that"
  },
  {
    "objectID": "slides/00-intro.html#general-information",
    "href": "slides/00-intro.html#general-information",
    "title": "Introduction",
    "section": "General Information",
    "text": "General Information\n\nSTAT 3000: Statistics with R Programming\nTentative Plan: lectures mixed with labs.",
    "crumbs": [
      "Lecture 0-Intro"
    ]
  },
  {
    "objectID": "slides/00-intro.html#course-description",
    "href": "slides/00-intro.html#course-description",
    "title": "Introduction",
    "section": "Course Description",
    "text": "Course Description\nLecture notes: https://ywanglab.github.io/STAT3000/\nLecture Repo: https://github.com/ywanglab/STAT3000/\nStatistics with R Notes: https://ywanglab.github.io/statistics_r/",
    "crumbs": [
      "Lecture 0-Intro"
    ]
  },
  {
    "objectID": "slides/00-intro.html#to-be-successful-in-this-course-you-will",
    "href": "slides/00-intro.html#to-be-successful-in-this-course-you-will",
    "title": "Introduction",
    "section": "To be successful in this course, you will",
    "text": "To be successful in this course, you will\n\nPre-read each chapter before coming to each lecture\nAttend each lecture\nReview lecture notes after the lecture\nComplete each ungraded lab solidly\nComplete homework Assignments",
    "crumbs": [
      "Lecture 0-Intro"
    ]
  },
  {
    "objectID": "slides/00-intro.html#whats-coming",
    "href": "slides/00-intro.html#whats-coming",
    "title": "Introduction",
    "section": "What’s coming",
    "text": "What’s coming\n\nUNIX/Linux shell\nReproducible document preparation\nR programming\nData wrangling with dplyr\nData visualization with ggplot2\nProbability theory, inference and modeling\nRegression Analysis with R\nIntro to Machine Learning",
    "crumbs": [
      "Lecture 0-Intro"
    ]
  },
  {
    "objectID": "slides/00-intro.html#llm-as-a-tutor-very-useful",
    "href": "slides/00-intro.html#llm-as-a-tutor-very-useful",
    "title": "Introduction",
    "section": "LLM as a Tutor-very Useful",
    "text": "LLM as a Tutor-very Useful",
    "crumbs": [
      "Lecture 0-Intro"
    ]
  },
  {
    "objectID": "slides/00-intro.html#lets-get-started",
    "href": "slides/00-intro.html#lets-get-started",
    "title": "Introduction",
    "section": "Let’s get started",
    "text": "Let’s get started\n\nSetting up Computing Environment: (Install R& R_Studio) https://ywanglab.github.io/statistics_r/intro.html\n\nWindows\nMac\nGetting Started\n\nInstall Git: https://ywanglab.github.io/stat1010/git.html",
    "crumbs": [
      "Lecture 0-Intro"
    ]
  },
  {
    "objectID": "slides/06-vectorization.html#vectorization",
    "href": "slides/06-vectorization.html#vectorization",
    "title": "Vectorization",
    "section": "Vectorization",
    "text": "Vectorization\nReading\n\nWe will be using the murders dataset in the dslabs package.\nIncludes data on 2010 gun murders for the US 50 states and DC.\nWe will answer questions such as “Which state is with the lowest crime rate in the Western part of the US?”"
  },
  {
    "objectID": "slides/06-vectorization.html#vectorization-1",
    "href": "slides/06-vectorization.html#vectorization-1",
    "title": "Vectorization",
    "section": "Vectorization",
    "text": "Vectorization\n\nFirst, some simple examples of vectorization.\nLet’s convert the following heights in inches to meters:\n\n\nheights &lt;- c(69, 62, 66, 70, 70, 73, 67, 73, 67, 70)\n\n\nRather than loop we use vectorization:\n\n\nheights*2.54/100\n\n [1] 1.7526 1.5748 1.6764 1.7780 1.7780 1.8542 1.7018 1.8542 1.7018 1.7780"
  },
  {
    "objectID": "slides/06-vectorization.html#vectorization-2",
    "href": "slides/06-vectorization.html#vectorization-2",
    "title": "Vectorization",
    "section": "Vectorization",
    "text": "Vectorization\n\nWe can subtract a constant from each element of a vector.\nThis is convenient for computing residuals or deviations from an average:\n\n\navg &lt;- mean(heights)\nheights - avg \n\n [1]  0.3 -6.7 -2.7  1.3  1.3  4.3 -1.7  4.3 -1.7  1.3"
  },
  {
    "objectID": "slides/06-vectorization.html#vectorization-3",
    "href": "slides/06-vectorization.html#vectorization-3",
    "title": "Vectorization",
    "section": "Vectorization",
    "text": "Vectorization\n\nThis means we can compute standard units like this:\n\n\ns &lt;- sd(heights)\n(heights - avg)/s\n\n [1]  0.08995503 -2.00899575 -0.80959530  0.38980515  0.38980515  1.28935548\n [7] -0.50974519  1.28935548 -0.50974519  0.38980515\n\n\n\nThere is actually a function, scale, that does this. We describe it soon."
  },
  {
    "objectID": "slides/06-vectorization.html#vectorization-4",
    "href": "slides/06-vectorization.html#vectorization-4",
    "title": "Vectorization",
    "section": "Vectorization",
    "text": "Vectorization\n\nIf we operate on two vectors, vectorization is componentwise.\nHere is an example:\n\n\nheights &lt;- c(69, 62, 66, 70, 70, 73, 67, 73, 67, 70)\nerror &lt;- rnorm(length(heights), 0, 0.1)\nheights + error\n\n [1] 69.02402 62.16355 66.02307 70.04780 69.96488 73.14858 66.93034 73.02845\n [9] 66.96575 69.80660"
  },
  {
    "objectID": "slides/06-vectorization.html#exercise",
    "href": "slides/06-vectorization.html#exercise",
    "title": "Vectorization",
    "section": "Exercise",
    "text": "Exercise\n\nAdd a column to the murders dataset with the murder rate.\nUse murders per 100,000 persons as the unit."
  },
  {
    "objectID": "slides/06-vectorization.html#functions-that-vectorize",
    "href": "slides/06-vectorization.html#functions-that-vectorize",
    "title": "Vectorization",
    "section": "Functions that vectorize",
    "text": "Functions that vectorize\n\nMost arithmetic functions work on vectors.\n\n\nx &lt;- 1:10\nsqrt(x)\n\n [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427\n [9] 3.000000 3.162278\n\nlog(x)\n\n [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379 1.7917595 1.9459101\n [8] 2.0794415 2.1972246 2.3025851\n\n2^x\n\n [1]    2    4    8   16   32   64  128  256  512 1024"
  },
  {
    "objectID": "slides/06-vectorization.html#functions-that-vectorize-1",
    "href": "slides/06-vectorization.html#functions-that-vectorize-1",
    "title": "Vectorization",
    "section": "Functions that vectorize",
    "text": "Functions that vectorize\n\nscale(heights)\n\n             [,1]\n [1,]  0.08995503\n [2,] -2.00899575\n [3,] -0.80959530\n [4,]  0.38980515\n [5,]  0.38980515\n [6,]  1.28935548\n [7,] -0.50974519\n [8,]  1.28935548\n [9,] -0.50974519\n[10,]  0.38980515\nattr(,\"scaled:center\")\n[1] 68.7\nattr(,\"scaled:scale\")\n[1] 3.335\n\n\nprovides the same results,\n\n(heights - mean(heights))/sd(heights)\n\n [1]  0.08995503 -2.00899575 -0.80959530  0.38980515  0.38980515  1.28935548\n [7] -0.50974519  1.28935548 -0.50974519  0.38980515"
  },
  {
    "objectID": "slides/06-vectorization.html#functions-that-vectorize-2",
    "href": "slides/06-vectorization.html#functions-that-vectorize-2",
    "title": "Vectorization",
    "section": "Functions that vectorize",
    "text": "Functions that vectorize\n\nBut scale coerces to a column matrix:\n\n\nclass(scale(heights))\n\n[1] \"matrix\" \"array\""
  },
  {
    "objectID": "slides/06-vectorization.html#most-functions-vectorize",
    "href": "slides/06-vectorization.html#most-functions-vectorize",
    "title": "Vectorization",
    "section": "Most functions vectorize",
    "text": "Most functions vectorize\n\nv &lt;- c(3, 7, 10, -2)\nany(v &lt; 0) # TRUE   (there is a negative)\n\n[1] TRUE\n\nall(v &gt; 0) # FALSE  (not all are positive)\n\n[1] FALSE\n\n\n\nx &lt;- c(1, 3, 5)\nif (all(x %% 2 == 1)) {\n  print(\"All numbers are odd\")\n}\n\n[1] \"All numbers are odd\"\n\nif (!is.null(x) && length(x) &gt; 0 && all(x &gt; 0)) {\n  print(\"x is a non-empty positive vector\")\n}\n\n[1] \"x is a non-empty positive vector\"\n\n\n\na &lt;- c(0, 1, 2, -4, 5)\nifelse(a &gt; 0, 1/a, NA) # ifelse: vectorized function\n\n[1]  NA 1.0 0.5  NA 0.2"
  },
  {
    "objectID": "slides/06-vectorization.html#subsetting",
    "href": "slides/06-vectorization.html#subsetting",
    "title": "Vectorization",
    "section": "Subsetting",
    "text": "Subsetting\n\nIndexing with a logical vector subsets to the set corresponding to the TRUE values\n\n\nlibrary(dslabs)\nind &lt;- murders$population &lt; 10^6\n\n\nA convenient aspect of this is that you can subset a vector using this logical vector for indexing:\n\n\nmurders$state[ind]\n\n[1] \"Alaska\"               \"Delaware\"             \"District of Columbia\"\n[4] \"Montana\"              \"North Dakota\"         \"South Dakota\"        \n[7] \"Vermont\"              \"Wyoming\""
  },
  {
    "objectID": "slides/06-vectorization.html#indexing",
    "href": "slides/06-vectorization.html#indexing",
    "title": "Vectorization",
    "section": "Indexing",
    "text": "Indexing\n\nYou can also use vectorization to apply logical operators:\n\n\nind &lt;- murders$population &lt; 10^6 & murders$region == \"West\"\nmurders$state[ind]\n\n[1] \"Alaska\"  \"Montana\" \"Wyoming\""
  },
  {
    "objectID": "slides/06-vectorization.html#split",
    "href": "slides/06-vectorization.html#split",
    "title": "Vectorization",
    "section": "split",
    "text": "split\n\nsplit(ind, f): split ind into groups defined by factor f:\n\n\ninds &lt;- with(murders, split(seq_along(region), region))\nstr(inds) # a list of row indices, one per region\n\nList of 4\n $ Northeast    : int [1:9] 7 20 22 30 31 33 39 40 46\n $ South        : int [1:17] 1 4 8 9 10 11 18 19 21 25 ...\n $ North Central: int [1:12] 14 15 16 17 23 24 26 28 35 36 ...\n $ West         : int [1:13] 2 3 5 6 12 13 27 29 32 38 ...\n\nmurders$state[inds$West] # states where region==\"West\"\n\n [1] \"Alaska\"     \"Arizona\"    \"California\" \"Colorado\"   \"Hawaii\"    \n [6] \"Idaho\"      \"Montana\"    \"Nevada\"     \"New Mexico\" \"Oregon\"    \n[11] \"Utah\"       \"Washington\" \"Wyoming\""
  },
  {
    "objectID": "slides/06-vectorization.html#functions-for-subsetting",
    "href": "slides/06-vectorization.html#functions-for-subsetting",
    "title": "Vectorization",
    "section": "Functions for subsetting",
    "text": "Functions for subsetting\n\nThe functions which, match and the operator %in% are useful for sub-setting"
  },
  {
    "objectID": "slides/06-vectorization.html#which",
    "href": "slides/06-vectorization.html#which",
    "title": "Vectorization",
    "section": "which",
    "text": "which\n\nx &lt;- c(10, 5, 8, 5)\n\nwhich(x == 5) # [1] 2 4 return all indices where the condtion is true\n\n[1] 2 4\n\nx==5 \n\n[1] FALSE  TRUE FALSE  TRUE\n\n\n\nind &lt;- which(murders$state == \"California\")\nind\n\n[1] 5\n\nmurders[ind,]\n\n       state abb region population total\n5 California  CA   West   37253956  1257"
  },
  {
    "objectID": "slides/06-vectorization.html#match",
    "href": "slides/06-vectorization.html#match",
    "title": "Vectorization",
    "section": "match",
    "text": "match\n\nx &lt;- c(\"b\", \"a\", \"c\")\ny &lt;- c(\"a\", \"b\", \"d\")\n\nmatch(x, y) # [1] 2 1 NA.  returns one index per element of x, gives the first match only. \n\n[1]  2  1 NA\n\n\n\nv &lt;- c(\"a\", \"b\", \"a\", \"c\")\nwhich(v == \"a\") # [1] 1 3\n\n[1] 1 3\n\nmatch(\"a\", v) # [1] 1 first postion only\n\n[1] 1\n\n\n\nind &lt;- match(c(\"New York\", \"Florida\", \"Texas\"), murders$state)\nind\n\n[1] 33 10 44\n\nmurders[ind,]\n\n      state abb    region population total\n33 New York  NY Northeast   19378102   517\n10  Florida  FL     South   19687653   669\n44    Texas  TX     South   25145561   805"
  },
  {
    "objectID": "slides/06-vectorization.html#in",
    "href": "slides/06-vectorization.html#in",
    "title": "Vectorization",
    "section": "%in%",
    "text": "%in%\n\nind &lt;- which(murders$state %in% c(\"New York\", \"Florida\", \"Texas\"))\nind\n\n[1] 10 33 44\n\nmurders[ind,]\n\n      state abb    region population total\n10  Florida  FL     South   19687653   669\n33 New York  NY Northeast   19378102   517\n44    Texas  TX     South   25145561   805\n\n\n\nNote this is similar to using match.\nBut note the order is different."
  },
  {
    "objectID": "slides/06-vectorization.html#match-versus-in",
    "href": "slides/06-vectorization.html#match-versus-in",
    "title": "Vectorization",
    "section": "match versus %in%",
    "text": "match versus %in%\n\nc(\"Boston\", \"Dakota\", \"Washington\") %in% murders$state\n\n[1] FALSE FALSE  TRUE\n\n\n\nmatch(c(\"Boston\", \"Dakota\", \"Washington\"), murders$state)\n\n[1] NA NA 48\n\n\n\nmatch(murders$state, c(\"Boston\", \"Dakota\", \"Washington\"))\n\n [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n[26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA  3 NA NA\n[51] NA\n\n\n\nthere are also set manipulation functions intersect, union, setdiff, setequal"
  },
  {
    "objectID": "slides/06-vectorization.html#the-apply-functions",
    "href": "slides/06-vectorization.html#the-apply-functions",
    "title": "Vectorization",
    "section": "The apply functions",
    "text": "The apply functions\n\nsapply - apply the function to each elemetn of a vector, matrix, data frame or a list.\napply - applies function to rows or columns of a matrix.\nlapply - returns a list. Convenient when the function returns something other than a number.\ntapply - can apply to subsets defined by second variable.\nmapply - multivector version of sapply."
  },
  {
    "objectID": "slides/06-vectorization.html#apply-examples",
    "href": "slides/06-vectorization.html#apply-examples",
    "title": "Vectorization",
    "section": "Apply Examples",
    "text": "Apply Examples\n\n mm = matrix(1:10, nc=2, byrow=T) # rows are filled first\n mm\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    3    4\n[3,]    5    6\n[4,]    7    8\n[5,]    9   10\n\n apply(mm, 1, sum) # operate on row. rowSums(mm) is faster\n\n[1]  3  7 11 15 19\n\n apply(mm, 2, \\(x) x^2) #&gt; operate on column; `\\(x) x^2: anonymous function\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    9   16\n[3,]   25   36\n[4,]   49   64\n[5,]   81  100\n\n # mm^2  # is faster\n\n{.smaller * For simply operations avoid apply(). apply() is best for non-vectorized functions. }"
  },
  {
    "objectID": "slides/06-vectorization.html#split-example",
    "href": "slides/06-vectorization.html#split-example",
    "title": "Vectorization",
    "section": "Split Example",
    "text": "Split Example\n\nsp1 = split(murders$population, murders$region)\nlapply(sp1, sum)\n\n$Northeast\n[1] 55317240\n\n$South\n[1] 115674434\n\n$`North Central`\n[1] 66927001\n\n$West\n[1] 71945553\n\n\n\nalternatively:\n\n\nwith(murders, tapply(population, region, sum))\n\n    Northeast         South North Central          West \n     55317240     115674434      66927001      71945553"
  },
  {
    "objectID": "slides/06-vectorization.html#multiplydivide-by-a-constatn",
    "href": "slides/06-vectorization.html#multiplydivide-by-a-constatn",
    "title": "Vectorization",
    "section": "Multiply/divide by a constatn",
    "text": "Multiply/divide by a constatn\n\nLet’s convert the following heights in inches to meters:\n\n\nheights &lt;- c(69, 62, 66, 70, 70, 73, 67, 73, 67, 70)\n\n\nRather than loop we use vectorization:\n\n\nheights*2.54/100\n\n [1] 1.7526 1.5748 1.6764 1.7780 1.7780 1.8542 1.7018 1.8542 1.7018 1.7780"
  },
  {
    "objectID": "slides/06-vectorization.html#addsubtract-a-constant",
    "href": "slides/06-vectorization.html#addsubtract-a-constant",
    "title": "Vectorization",
    "section": "Add/subtract a constant",
    "text": "Add/subtract a constant\n\nWe can subtract a constant from each element of a vector.\nThis is convenient for computing residuals or deviations from an average:\n\n\navg &lt;- mean(heights)\nheights - avg \n\n [1]  0.3 -6.7 -2.7  1.3  1.3  4.3 -1.7  4.3 -1.7  1.3"
  },
  {
    "objectID": "slides/06-vectorization.html#compute-sd",
    "href": "slides/06-vectorization.html#compute-sd",
    "title": "Vectorization",
    "section": "Compute SD",
    "text": "Compute SD\n\ns &lt;- sd(heights)\n(heights - avg)/s\n\n [1]  0.08995503 -2.00899575 -0.80959530  0.38980515  0.38980515  1.28935548\n [7] -0.50974519  1.28935548 -0.50974519  0.38980515\n\n\n\nThere is actually a function, scale, that does this."
  },
  {
    "objectID": "slides/06-vectorization.html#add-two-vectors",
    "href": "slides/06-vectorization.html#add-two-vectors",
    "title": "Vectorization",
    "section": "Add two vectors",
    "text": "Add two vectors\n\nIf we operate on two vectors, vectorization is componentwise.\n\n\nheights &lt;- c(69, 62, 66, 70, 70, 73, 67, 73, 67, 70)\nerror &lt;- rnorm(length(heights), 0, 0.1)\nheights + error\n\n [1] 69.08646 61.90637 66.12694 70.08938 69.84942 72.99502 66.88938 73.00221\n [9] 67.04623 70.01273"
  },
  {
    "objectID": "slides/06-vectorization.html#most-arithmetic-functions-vectorize",
    "href": "slides/06-vectorization.html#most-arithmetic-functions-vectorize",
    "title": "Vectorization",
    "section": "Most Arithmetic functions vectorize",
    "text": "Most Arithmetic functions vectorize\n\nMost arithmetic functions work on vectors.\n\n\nx &lt;- 1:10\nsqrt(x)\n\n [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427\n [9] 3.000000 3.162278\n\nlog(x)\n\n [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379 1.7917595 1.9459101\n [8] 2.0794415 2.1972246 2.3025851\n\n2^x\n\n [1]    2    4    8   16   32   64  128  256  512 1024"
  },
  {
    "objectID": "slides/06-vectorization.html#compute-standard-units-using-scale",
    "href": "slides/06-vectorization.html#compute-standard-units-using-scale",
    "title": "Vectorization",
    "section": "Compute standard units using scale",
    "text": "Compute standard units using scale\n\nscale(heights)\n\n             [,1]\n [1,]  0.08995503\n [2,] -2.00899575\n [3,] -0.80959530\n [4,]  0.38980515\n [5,]  0.38980515\n [6,]  1.28935548\n [7,] -0.50974519\n [8,]  1.28935548\n [9,] -0.50974519\n[10,]  0.38980515\nattr(,\"scaled:center\")\n[1] 68.7\nattr(,\"scaled:scale\")\n[1] 3.335\n\n\nprovides the same results,\n\n(heights - mean(heights))/sd(heights)\n\n [1]  0.08995503 -2.00899575 -0.80959530  0.38980515  0.38980515  1.28935548\n [7] -0.50974519  1.28935548 -0.50974519  0.38980515"
  },
  {
    "objectID": "slides/06-vectorization.html#scale-coerces-to-a-column-matrix",
    "href": "slides/06-vectorization.html#scale-coerces-to-a-column-matrix",
    "title": "Vectorization",
    "section": "scale coerces to a column matrix",
    "text": "scale coerces to a column matrix\n\nclass(scale(heights))\n\n[1] \"matrix\" \"array\""
  },
  {
    "objectID": "slides/06-vectorization.html#subsetting-using-alogical-vector",
    "href": "slides/06-vectorization.html#subsetting-using-alogical-vector",
    "title": "Vectorization",
    "section": "Subsetting using alogical vector",
    "text": "Subsetting using alogical vector\n\nIndexing with a logical vector subsets to the set corresponding to the TRUE values\n\n\nlibrary(dslabs)\nind &lt;- murders$population &lt; 10^6\n\n\nsubset a vector using this logical vector for indexing:\n\n\nmurders$state[ind]\n\n[1] \"Alaska\"               \"Delaware\"             \"District of Columbia\"\n[4] \"Montana\"              \"North Dakota\"         \"South Dakota\"        \n[7] \"Vermont\"              \"Wyoming\""
  },
  {
    "objectID": "slides/06-vectorization.html#indexing-by-a-logical-vector",
    "href": "slides/06-vectorization.html#indexing-by-a-logical-vector",
    "title": "Vectorization",
    "section": "Indexing by a logical vector",
    "text": "Indexing by a logical vector\n\nYou can also use vectorization to apply logical operators:\n\n\nind &lt;- murders$population &lt; 10^6 & murders$region == \"West\"\nmurders$state[ind]\n\n[1] \"Alaska\"  \"Montana\" \"Wyoming\""
  },
  {
    "objectID": "slides/06-vectorization.html#handle-na-with-which-and-match",
    "href": "slides/06-vectorization.html#handle-na-with-which-and-match",
    "title": "Vectorization",
    "section": "Handle NA with which and match",
    "text": "Handle NA with which and match\n\nx &lt;- c(1, NA, 3)\n\nwhich(is.na(x)) # [1] 2\n\n[1] 2\n\nmatch(NA, x) # [1] 2    \n\n[1] 2"
  },
  {
    "objectID": "slides/05-r-basics.html#scatterplot",
    "href": "slides/05-r-basics.html#scatterplot",
    "title": "R Basics",
    "section": "scatterplot",
    "text": "scatterplot\n\nlibrary(dslabs)\nwith(murders, plot(population, total))"
  },
  {
    "objectID": "slides/05-r-basics.html#histogram",
    "href": "slides/05-r-basics.html#histogram",
    "title": "R Basics",
    "section": "histogram",
    "text": "histogram\n\nx &lt;- with(murders, total / population * 100000)\nhist(x)"
  },
  {
    "objectID": "slides/05-r-basics.html#boxplot",
    "href": "slides/05-r-basics.html#boxplot",
    "title": "R Basics",
    "section": "boxplot",
    "text": "boxplot\n\nmurders$rate &lt;- with(murders, total / population * 100000)\nboxplot(rate~region, data = murders) #y:rate x:region"
  },
  {
    "objectID": "slides/06-vectorization.html#sapply",
    "href": "slides/06-vectorization.html#sapply",
    "title": "Vectorization",
    "section": "sapply",
    "text": "sapply\n\nx &lt;- 1:10\nsapply(x, sqrt) #&gt;  [1] 1.00 1.41 1.73 2.00 2.24 2.45 2.65 2.83 3.00 3.16\n\n [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427\n [9] 3.000000 3.162278"
  },
  {
    "objectID": "slides/07-tidyverse.html#tidyverse",
    "href": "slides/07-tidyverse.html#tidyverse",
    "title": "Tidyverse",
    "section": "Tidyverse",
    "text": "Tidyverse\n\nlibrary(tidyverse)\n\n\nThe tidyverse is not a package but a group of packages.\nA popular tool for data analysis by sacrificing some flexibility.\nOne way code is simplified by ensuring all functions take and return tidy data."
  },
  {
    "objectID": "slides/07-tidyverse.html#tidy-data",
    "href": "slides/07-tidyverse.html#tidy-data",
    "title": "Tidyverse",
    "section": "Tidy data",
    "text": "Tidy data\n\nThis is an example of a tidy dataset:\n\n\nlibrary(dslabs)\ntidy_data &lt;- gapminder |&gt; \n  filter(country %in% c(\"South Korea\", \"Germany\") & !is.na(fertility)) |&gt;\n  select(country, year, fertility)\nhead(tidy_data, 6)\n\n      country year fertility\n1     Germany 1960      2.41\n2 South Korea 1960      6.16\n3     Germany 1961      2.44\n4 South Korea 1961      5.99\n5     Germany 1962      2.47\n6 South Korea 1962      5.79"
  },
  {
    "objectID": "slides/07-tidyverse.html#tidy-data-1",
    "href": "slides/07-tidyverse.html#tidy-data-1",
    "title": "Tidyverse",
    "section": "Tidy data",
    "text": "Tidy data\n\nOriginally, the data was in the following format:\n\n\npath &lt;- system.file(\"extdata\", package = \"dslabs\") #return the full path of the directory \"extdata\" in \"dslabs\"\nfilename &lt;- file.path(path, \"fertility-two-countries-example.csv\") \n # return the path with the system-specific seprator (Win: \\; Mac/Linux: /)\nwide_data &lt;- read_csv(filename)\nselect(wide_data, country, `1960`:`1970`) |&gt; as.data.frame()\n\n      country 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970\n1     Germany 2.41 2.44 2.47 2.49 2.49 2.48 2.44 2.37 2.28 2.17 2.04\n2 South Korea 6.16 5.99 5.79 5.57 5.36 5.16 4.99 4.85 4.73 4.62 4.53\n\n\n\nThis is not tidy. Each row has multiple measures across multiple columns."
  },
  {
    "objectID": "slides/07-tidyverse.html#tidy-data-2",
    "href": "slides/07-tidyverse.html#tidy-data-2",
    "title": "Tidyverse",
    "section": "Tidy data",
    "text": "Tidy data\n\nOriginally, the data was in the following format:\n\n\n\n      country 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970\n1     Germany 2.41 2.44 2.47 2.49 2.49 2.48 2.44 2.37 2.28 2.17 2.04\n2 South Korea 6.16 5.99 5.79 5.57 5.36 5.16 4.99 4.85 4.73 4.62 4.53\n\n\n\nThis is not tidy."
  },
  {
    "objectID": "slides/07-tidyverse.html#tidyverse-packages",
    "href": "slides/07-tidyverse.html#tidyverse-packages",
    "title": "Tidyverse",
    "section": "Tidyverse packages",
    "text": "Tidyverse packages\n\ntibble - modifies the data frame class.\nreadr - import data.\ndplyr - used to modify data frames.\nggplot2 - simplifies plotting.\ntidyr - helps convert data into tidy format.\nstringr - string processing.\nforcats - utilities for categorical data.\npurrr - tidy version of apply functions."
  },
  {
    "objectID": "slides/07-tidyverse.html#dplyr",
    "href": "slides/07-tidyverse.html#dplyr",
    "title": "Tidyverse",
    "section": "dplyr",
    "text": "dplyr\n\nWe focus on the following functions:\n\nmutate\nselect\nacross\nfilter\ngroup_by\nsummarize"
  },
  {
    "objectID": "slides/07-tidyverse.html#adding-a-column-with-mutate",
    "href": "slides/07-tidyverse.html#adding-a-column-with-mutate",
    "title": "Tidyverse",
    "section": "Adding a column with mutate",
    "text": "Adding a column with mutate\n\ncolnames(murders)\n\n[1] \"state\"      \"abb\"        \"region\"     \"population\" \"total\"     \n\nmurders &lt;- mutate(murders, rate = total/population*100000)\ncolnames(murders)\n\n[1] \"state\"      \"abb\"        \"region\"     \"population\" \"total\"     \n[6] \"rate\"      \n\n\n\nNotice that here we used total and population inside the function, which are objects that are not defined in our workspace.\nThis is known as non-standard evaluation where the context is used to know what variable names means.\nTidyverse extensively uses non-standard evaluation."
  },
  {
    "objectID": "slides/07-tidyverse.html#subsetting-with-filter",
    "href": "slides/07-tidyverse.html#subsetting-with-filter",
    "title": "Tidyverse",
    "section": "Subsetting with filter",
    "text": "Subsetting with filter\n\nfilter(murders, rate &lt;= 0.71)\n\n          state abb        region population total      rate\n1        Hawaii  HI          West    1360301     7 0.5145920\n2          Iowa  IA North Central    3046355    21 0.6893484\n3 New Hampshire  NH     Northeast    1316470     5 0.3798036\n4  North Dakota  ND North Central     672591     4 0.5947151\n5       Vermont  VT     Northeast     625741     2 0.3196211"
  },
  {
    "objectID": "slides/07-tidyverse.html#selecting-columns-with-select",
    "href": "slides/07-tidyverse.html#selecting-columns-with-select",
    "title": "Tidyverse",
    "section": "Selecting columns with select",
    "text": "Selecting columns with select\n\nnew_table &lt;- select(murders, state, region, rate)\nfilter(new_table, rate &lt;= 0.71)\n\n          state        region      rate\n1        Hawaii          West 0.5145920\n2          Iowa North Central 0.6893484\n3 New Hampshire     Northeast 0.3798036\n4  North Dakota North Central 0.5947151\n5       Vermont     Northeast 0.3196211"
  },
  {
    "objectID": "slides/07-tidyverse.html#transforming-variables",
    "href": "slides/07-tidyverse.html#transforming-variables",
    "title": "Tidyverse",
    "section": "Transforming variables",
    "text": "Transforming variables\n\nThe function mutate can also be used to transform variables.\nFor example, the following code takes the log transformation of the population variable:\n\n\nmutate(murders, population = log10(population)) |&gt; head()\n\n       state abb region population total     rate\n1    Alabama  AL  South   6.679404   135 2.824424\n2     Alaska  AK   West   5.851400    19 2.675186\n3    Arizona  AZ   West   6.805638   232 3.629527\n4   Arkansas  AR  South   6.464775    93 3.189390\n5 California  CA   West   7.571172  1257 3.374138\n6   Colorado  CO   West   6.701499    65 1.292453"
  },
  {
    "objectID": "slides/07-tidyverse.html#transforming-variables-1",
    "href": "slides/07-tidyverse.html#transforming-variables-1",
    "title": "Tidyverse",
    "section": "Transforming variables",
    "text": "Transforming variables\n\nThe helper functions come in handy when using across.\nAn example is if we want to apply the same transformation to all numeric variables:\n\n\nmutate(murders, across(where(is.numeric), log10))\n\n                  state abb        region population    total          rate\n1               Alabama  AL         South   6.679404 2.130334  0.4509298587\n2                Alaska  AK          West   5.851400 1.278754  0.4273539766\n3               Arizona  AZ          West   6.805638 2.365488  0.5598500635\n4              Arkansas  AR         South   6.464775 1.968483  0.5037076418\n5            California  CA          West   7.571172 3.099335  0.5281628804\n6              Colorado  CO          West   6.701499 1.812913  0.1114147952\n7           Connecticut  CT     Northeast   6.553166 1.986772  0.4336053993\n8              Delaware  DE         South   5.953244 1.579784  0.6265391803\n9  District of Columbia  DC         South   5.779397 1.995635  1.2162385825\n10              Florida  FL         South   7.294194 2.825426  0.5312321716\n11              Georgia  GA         South   6.996512 2.575188  0.5786761728\n12               Hawaii  HI          West   6.133635 0.845098 -0.2885369773\n13                Idaho  ID          West   6.195230 1.079181 -0.1160490219\n14             Illinois  IL North Central   7.108248 2.561101  0.4528533347\n15              Indiana  IN North Central   6.811830 2.152288  0.3404586003\n16                 Iowa  IA North Central   6.483781 1.322219 -0.1615612167\n17               Kansas  KS North Central   6.455320 1.799341  0.3440208158\n18             Kentucky  KY         South   6.637426 2.064458  0.4270316073\n19            Louisiana  LA         South   6.656421 2.545307  0.8888857586\n20                Maine  ME     Northeast   6.123316 1.041393 -0.0819234313\n21             Maryland  MD         South   6.761443 2.466868  0.7054245387\n22        Massachusetts  MA     Northeast   6.816084 2.071882  0.2557979437\n23             Michigan  MI North Central   6.994917 2.615950  0.6210331333\n24            Minnesota  MN North Central   6.724597 1.724276 -0.0003215047\n25          Mississippi  MS         South   6.472361 2.079181  0.6068202285\n26             Missouri  MO North Central   6.777349 2.506505  0.7291560130\n27              Montana  MT          West   5.995378 1.079181  0.0838027559\n28             Nebraska  NE North Central   6.261582 1.505150  0.2435681095\n29               Nevada  NV          West   6.431452 1.924279  0.4928269027\n30        New Hampshire  NH     Northeast   6.119411 0.698970 -0.4204409624\n31           New Jersey  NJ     Northeast   6.944082 2.390935  0.4468526638\n32           New Mexico  NM          West   6.313694 1.826075  0.5123807022\n33             New York  NY     Northeast   7.287311 2.713491  0.4261793055\n34       North Carolina  NC         South   6.979343 2.456366  0.4770233369\n35         North Dakota  ND North Central   5.827751 0.602060 -0.2256910604\n36                 Ohio  OH North Central   7.062074 2.491362  0.4292874728\n37             Oklahoma  OK         South   6.574188 2.045323  0.4711352774\n38               Oregon  OR          West   6.583321 1.556303 -0.0270180400\n39         Pennsylvania  PA     Northeast   7.103885 2.659916  0.5560311335\n40         Rhode Island  RI     Northeast   6.022250 1.204120  0.1818702327\n41       South Carolina  SC         South   6.665146 2.315970  0.6508244296\n42         South Dakota  SD North Central   5.910720 0.903090 -0.0076304429\n43            Tennessee  TN         South   6.802507 2.340444  0.5379368614\n44                Texas  TX         South   7.400461 2.905796  0.5053345511\n45                 Utah  UT          West   6.441520 1.342423 -0.0990972881\n46              Vermont  VT     Northeast   5.796395 0.301030 -0.4953646162\n47             Virginia  VA         South   6.903146 2.397940  0.4947944355\n48           Washington  WA          West   6.827663 1.968483  0.1408203673\n49        West Virginia  WV         South   6.267874 1.431364  0.1634897511\n50            Wisconsin  WI North Central   6.754882 1.986772  0.2318895751\n51              Wyoming  WY          West   5.750991 0.698970 -0.0520210145\n\n\n\nor all character variables:\n\n\nmutate(murders, across(where(is.character), tolower))\n\n\nThere are several other useful helper functions."
  },
  {
    "objectID": "slides/07-tidyverse.html#transforming-variables-2",
    "href": "slides/07-tidyverse.html#transforming-variables-2",
    "title": "Tidyverse",
    "section": "Transforming variables",
    "text": "Transforming variables\n\nThe helper functions come in handy when using across.\nAn example is if we want to apply the same transformation to all numeric variables:\n\n\nmutate(murders, across(where(is.numeric), log10))\n\n\nor all character variables:\n\n\nmutate(murders, across(where(is.character), tolower))\n\n\nThere are several other useful helper functions."
  },
  {
    "objectID": "slides/07-tidyverse.html#the-pipe",
    "href": "slides/07-tidyverse.html#the-pipe",
    "title": "Tidyverse",
    "section": "The pipe: |>",
    "text": "The pipe: |&gt;\n\nWe use the pipe to chain a series of operations.\nFor example if we want to select columns and then filter rows: \\[ \\mbox{original data }\n\\rightarrow \\mbox{ select }\n\\rightarrow \\mbox{ filter } \\]\n\n\nmurders |&gt; select(state, region, rate) |&gt; filter(rate &lt;= 0.71)\n\n          state        region      rate\n1        Hawaii          West 0.5145920\n2          Iowa North Central 0.6893484\n3 New Hampshire     Northeast 0.3798036\n4  North Dakota North Central 0.5947151\n5       Vermont     Northeast 0.3196211\n\n\n\nThe output of the left side of a pipe is used as the input (as first argument) for the function on the right.\nHere is a simple example:\n\n\n16 |&gt; sqrt() |&gt; log(base = 2)\n\n[1] 2"
  },
  {
    "objectID": "slides/07-tidyverse.html#the-pipe-1",
    "href": "slides/07-tidyverse.html#the-pipe-1",
    "title": "Tidyverse",
    "section": "The pipe: |>",
    "text": "The pipe: |&gt;\n\nHere is a simple example:\n\n\n16 |&gt; sqrt() |&gt; log(base = 2)\n\n[1] 2"
  },
  {
    "objectID": "slides/07-tidyverse.html#the-pipe-2",
    "href": "slides/07-tidyverse.html#the-pipe-2",
    "title": "Tidyverse",
    "section": "The pipe: |>",
    "text": "The pipe: |&gt;\n\nHere is a simple example:\n\n\n16 |&gt; sqrt() |&gt; log(base = 2)\n\n[1] 2"
  },
  {
    "objectID": "slides/07-tidyverse.html#summarizing-data",
    "href": "slides/07-tidyverse.html#summarizing-data",
    "title": "Tidyverse",
    "section": "Summarizing data",
    "text": "Summarizing data\n\nWe use the dplyr summarize function, not to be confused with summary from R base.\n\n\nmurders |&gt; summarize(avg = mean(rate))\n\n       avg\n1 2.779125\n\n\n\nIs this calculation correct?"
  },
  {
    "objectID": "slides/07-tidyverse.html#summarizing-data-1",
    "href": "slides/07-tidyverse.html#summarizing-data-1",
    "title": "Tidyverse",
    "section": "Summarizing data",
    "text": "Summarizing data\n\nNo, the rate is NOT the average of rates.\nThe correct calculation is the total number of murders divided by total population:\n\n\nmurders |&gt; summarize(rate = sum(total)/sum(population)*100000)\n\n      rate\n1 3.034555"
  },
  {
    "objectID": "slides/07-tidyverse.html#multiple-summaries",
    "href": "slides/07-tidyverse.html#multiple-summaries",
    "title": "Tidyverse",
    "section": "Multiple summaries",
    "text": "Multiple summaries\n\nSuppose we want the median, minimum and max population size:\n\n\nmurders |&gt; summarize(median = median(population), min = min(population), max = max(population))\n\n   median    min      max\n1 4339367 563626 37253956\n\n\n\nuse quantiles?\n\n\nmurders |&gt; summarize(quantiles = quantile(population, c(0.5, 0, 1)))\n\nWarning: Returning more (or less) than 1 row per `summarise()` group was deprecated in\ndplyr 1.1.0.\nℹ Please use `reframe()` instead.\nℹ When switching from `summarise()` to `reframe()`, remember that `reframe()`\n  always returns an ungrouped data frame and adjust accordingly.\n\n\n  quantiles\n1   4339367\n2    563626\n3  37253956"
  },
  {
    "objectID": "slides/07-tidyverse.html#multiple-summaries-1",
    "href": "slides/07-tidyverse.html#multiple-summaries-1",
    "title": "Tidyverse",
    "section": "Multiple summaries",
    "text": "Multiple summaries\n\nTo have a column per summary, as when we called min, median, and max separately, we have to define a function that returns a data frame like this:\n\n\nmedian_min_max &lt;- function(x){\n  qs &lt;- quantile(x, c(0.5, 0, 1))\n  data.frame(median = qs[1], min = qs[2], max = qs[3])\n}\n\n\nThen we can call summarize:\n\n\nmurders |&gt; summarize(median_min_max(population))\n\n   median    min      max\n1 4339367 563626 37253956\n\n\nCompare\n\n median_min_max(murders$population) \n\n     median    min      max\n50% 4339367 563626 37253956\n\n#data.frame will use the first string `median` as the row name, but changed it to `50%`"
  },
  {
    "objectID": "slides/07-tidyverse.html#multiple-summaries-2",
    "href": "slides/07-tidyverse.html#multiple-summaries-2",
    "title": "Tidyverse",
    "section": "Multiple summaries",
    "text": "Multiple summaries\n\nHowever, if we want a column per summary, as when we called min, median, and max separately, we have to define a function that returns a data frame like this:\n\n\nmedian_min_max &lt;- function(x){\n  qs &lt;- quantile(x, c(0.5, 0, 1))\n  data.frame(median = qs[1], min = qs[2], max = qs[3])\n}\n\n\nThen we can call summarize:\n\n\nmurders |&gt; summarize(median_min_max(population))\n\n   median    min      max\n1 4339367 563626 37253956"
  },
  {
    "objectID": "slides/07-tidyverse.html#group-then-summarize",
    "href": "slides/07-tidyverse.html#group-then-summarize",
    "title": "Tidyverse",
    "section": "Group then summarize",
    "text": "Group then summarize\n\nLet’s compute murder rate by region.\n\n\nmurders |&gt; group_by(region) |&gt; head(4)\n\n# A tibble: 4 × 6\n# Groups:   region [2]\n  state    abb   region population total  rate\n  &lt;chr&gt;    &lt;chr&gt; &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Alabama  AL    South     4779736   135  2.82\n2 Alaska   AK    West       710231    19  2.68\n3 Arizona  AZ    West      6392017   232  3.63\n4 Arkansas AR    South     2915918    93  3.19\n\n\n\nNote the Groups: region at the top. Note that this is the number of groups in the first 4 rows.\nThis is a special data frame called a grouped data frame."
  },
  {
    "objectID": "slides/07-tidyverse.html#group-then-summarize-1",
    "href": "slides/07-tidyverse.html#group-then-summarize-1",
    "title": "Tidyverse",
    "section": "Group then summarize",
    "text": "Group then summarize\n\nIn particular summarize, will behave differently when acting on this object.\n\n\nmurders |&gt; \n  group_by(region) |&gt; \n  summarize(rate = sum(total) / sum(population) * 100000)\n\n# A tibble: 4 × 2\n  region         rate\n  &lt;fct&gt;         &lt;dbl&gt;\n1 Northeast      2.66\n2 South          3.63\n3 North Central  2.73\n4 West           2.66\n\n\n\nThe summarize function applies the summarization to each group separately."
  },
  {
    "objectID": "slides/07-tidyverse.html#group-then-summarize-2",
    "href": "slides/07-tidyverse.html#group-then-summarize-2",
    "title": "Tidyverse",
    "section": "Group then summarize",
    "text": "Group then summarize\n\nFor another example, let’s compute the median, minimum, and maximum population in the four regions of the country using the median_min_max previously defined:\n\n\nmurders |&gt; group_by(region) |&gt; summarize(median_min_max(population))\n\n# A tibble: 4 × 4\n  region          median    min      max\n  &lt;fct&gt;            &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n1 Northeast     3574097  625741 19378102\n2 South         4625364  601723 25145561\n3 North Central 5495456. 672591 12830632\n4 West          2700551  563626 37253956"
  },
  {
    "objectID": "slides/07-tidyverse.html#group-then-summarize-3",
    "href": "slides/07-tidyverse.html#group-then-summarize-3",
    "title": "Tidyverse",
    "section": "Group then summarize",
    "text": "Group then summarize\n\nYou can also summarize a variable but not collapse the dataset.\nWe use mutate instead of summarize.\nHere is an example where we add a column with the population in each region and the number of states in the region, shown for each state.\n\n\nmurders |&gt; group_by(region) |&gt; \n  mutate(region_pop = sum(population), n = n())"
  },
  {
    "objectID": "slides/07-tidyverse.html#ungroup",
    "href": "slides/07-tidyverse.html#ungroup",
    "title": "Tidyverse",
    "section": "ungroup",
    "text": "ungroup\n\nmurders |&gt; group_by(region) |&gt; \n  mutate(region_pop = sum(population), n = n()) |&gt;\n  ungroup() |&gt; head(2)\n\n# A tibble: 2 × 8\n  state   abb   region population total  rate region_pop     n\n  &lt;chr&gt;   &lt;chr&gt; &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;int&gt;\n1 Alabama AL    South     4779736   135  2.82  115674434    17\n2 Alaska  AK    West       710231    19  2.68   71945553    13\n\n\n\nThis avoids having a grouped data frame that we don’t need."
  },
  {
    "objectID": "slides/07-tidyverse.html#pull",
    "href": "slides/07-tidyverse.html#pull",
    "title": "Tidyverse",
    "section": "pull",
    "text": "pull\n\nTo get a numeric use pull:\n\n\nmurders |&gt; \n  summarize(rate = sum(total)/sum(population)*100000) |&gt;\n  pull(rate) \n\n[1] 3.034555"
  },
  {
    "objectID": "slides/07-tidyverse.html#pull-1",
    "href": "slides/07-tidyverse.html#pull-1",
    "title": "Tidyverse",
    "section": "pull",
    "text": "pull\n\nTo get a numeric use pull:\n\n\nmurders |&gt; \n  summarize(rate = sum(total)/sum(population)*100000) |&gt;\n  pull(rate) \n\n[1] 3.034555"
  },
  {
    "objectID": "slides/07-tidyverse.html#sorting-data-frames",
    "href": "slides/07-tidyverse.html#sorting-data-frames",
    "title": "Tidyverse",
    "section": "Sorting data frames",
    "text": "Sorting data frames\n\nStates order by rate\n\n\nmurders |&gt; arrange(rate) |&gt; head()\n\n          state abb        region population total      rate\n1       Vermont  VT     Northeast     625741     2 0.3196211\n2 New Hampshire  NH     Northeast    1316470     5 0.3798036\n3        Hawaii  HI          West    1360301     7 0.5145920\n4  North Dakota  ND North Central     672591     4 0.5947151\n5          Iowa  IA North Central    3046355    21 0.6893484\n6         Idaho  ID          West    1567582    12 0.7655102"
  },
  {
    "objectID": "slides/07-tidyverse.html#sorting-data-frames-1",
    "href": "slides/07-tidyverse.html#sorting-data-frames-1",
    "title": "Tidyverse",
    "section": "Sorting data frames",
    "text": "Sorting data frames\n\nIf we want decreasing we can either use the negative or, for more readability, use desc:\n\n\nmurders |&gt; arrange(desc(rate)) |&gt; head()\n\n                 state abb        region population total      rate\n1 District of Columbia  DC         South     601723    99 16.452753\n2            Louisiana  LA         South    4533372   351  7.742581\n3             Missouri  MO North Central    5988927   321  5.359892\n4             Maryland  MD         South    5773552   293  5.074866\n5       South Carolina  SC         South    4625364   207  4.475323\n6             Delaware  DE         South     897934    38  4.231937"
  },
  {
    "objectID": "slides/07-tidyverse.html#sorting-data-frames-2",
    "href": "slides/07-tidyverse.html#sorting-data-frames-2",
    "title": "Tidyverse",
    "section": "Sorting data frames",
    "text": "Sorting data frames\n\nWe can use two variables as well:\n\n\nmurders |&gt; arrange(region, desc(rate)) |&gt; head(11)\n\n                  state abb    region population total       rate\n1          Pennsylvania  PA Northeast   12702379   457  3.5977513\n2            New Jersey  NJ Northeast    8791894   246  2.7980319\n3           Connecticut  CT Northeast    3574097    97  2.7139722\n4              New York  NY Northeast   19378102   517  2.6679599\n5         Massachusetts  MA Northeast    6547629   118  1.8021791\n6          Rhode Island  RI Northeast    1052567    16  1.5200933\n7                 Maine  ME Northeast    1328361    11  0.8280881\n8         New Hampshire  NH Northeast    1316470     5  0.3798036\n9               Vermont  VT Northeast     625741     2  0.3196211\n10 District of Columbia  DC     South     601723    99 16.4527532\n11            Louisiana  LA     South    4533372   351  7.7425810"
  },
  {
    "objectID": "slides/07-tidyverse.html#tidy-data-long-data",
    "href": "slides/07-tidyverse.html#tidy-data-long-data",
    "title": "Tidyverse",
    "section": "Tidy data (long data)",
    "text": "Tidy data (long data)\n\nStored in a data frame.\nEach observation is exactly one row.\nVariables are stored in columns.\nNot all data can be represented this way.\nAssuming data is tidy simplifies coding."
  },
  {
    "objectID": "slides/07-tidyverse.html#transforming-several-variables",
    "href": "slides/07-tidyverse.html#transforming-several-variables",
    "title": "Tidyverse",
    "section": "Transforming several variables",
    "text": "Transforming several variables\n\nOften, we need to apply the same transformation to several variables.\nThe function across facilitates the operation.\nFor example if want to log transform both population and total murders we can use:\n\n\nmutate(murders, across(c(population, total), log10)) |&gt; head()\n\n       state abb region population    total     rate\n1    Alabama  AL  South   6.679404 2.130334 2.824424\n2     Alaska  AK   West   5.851400 1.278754 2.675186\n3    Arizona  AZ   West   6.805638 2.365488 3.629527\n4   Arkansas  AR  South   6.464775 1.968483 3.189390\n5 California  CA   West   7.571172 3.099335 3.374138\n6   Colorado  CO   West   6.701499 1.812913 1.292453"
  },
  {
    "objectID": "slides/07-tidyverse.html#more-examples-with-across",
    "href": "slides/07-tidyverse.html#more-examples-with-across",
    "title": "Tidyverse",
    "section": "More examples with across",
    "text": "More examples with across\n\napply the same transformation to all numeric variables:\n\n\nmutate(murders, across(where(is.numeric), log10)) |&gt;head(2)\n\n    state abb region population    total      rate\n1 Alabama  AL  South   6.679404 2.130334 0.4509299\n2  Alaska  AK   West   5.851400 1.278754 0.4273540\n\n\n\nor all character variables:\n\n\nmutate(murders, across(where(is.character), tolower)) |&gt; head(2)\n\n    state abb region population total     rate\n1 alabama  al  South    4779736   135 2.824424\n2  alaska  ak   West     710231    19 2.675186"
  },
  {
    "objectID": "slides/07-tidyverse.html#summarizing-data-correct-calculation",
    "href": "slides/07-tidyverse.html#summarizing-data-correct-calculation",
    "title": "Tidyverse",
    "section": "Summarizing data: Correct calculation",
    "text": "Summarizing data: Correct calculation\n\nNo.\nThe correct calculation is\n\n\nmurders |&gt; summarize(rate = sum(total)/sum(population)*100000)\n\n      rate\n1 3.034555"
  },
  {
    "objectID": "slides/07-tidyverse.html#multiple-summaries-with-reframe",
    "href": "slides/07-tidyverse.html#multiple-summaries-with-reframe",
    "title": "Tidyverse",
    "section": "Multiple summaries with reframe",
    "text": "Multiple summaries with reframe\n\nmurders |&gt; reframe(quantiles = quantile(population, c(0.5, 0, 1)))\n\n  quantiles\n1   4339367\n2    563626\n3  37253956"
  },
  {
    "objectID": "slides/07-tidyverse.html#multiple-summaries-with-a-dataframe",
    "href": "slides/07-tidyverse.html#multiple-summaries-with-a-dataframe",
    "title": "Tidyverse",
    "section": "Multiple summaries with a dataframe",
    "text": "Multiple summaries with a dataframe\n\nTo have a column per summary, as when we called min, median, and max separately, we have to define a function that returns a data frame like this:\n\n\nmedian_min_max &lt;- function(x){\n  qs &lt;- quantile(x, c(0.5, 0, 1))\n  data.frame(median = qs[1], min = qs[2], max = qs[3])\n}\n\n\nThen we can call summarize:\n\n\nmurders |&gt; summarize(median_min_max(population))\n\n   median    min      max\n1 4339367 563626 37253956\n\n\nCompare\n\n median_min_max(murders$population) \n\n     median    min      max\n50% 4339367 563626 37253956\n\n#data.frame will use the first string `median` as the row name, but changed it to `50%`"
  },
  {
    "objectID": "slides/07-tidyverse.html#group-using-group_by",
    "href": "slides/07-tidyverse.html#group-using-group_by",
    "title": "Tidyverse",
    "section": "Group using group_by",
    "text": "Group using group_by\n\nLet’s compute murder rate by region.\n\n\nmurders |&gt; group_by(region) |&gt; head(4)\n\n# A tibble: 4 × 6\n# Groups:   region [2]\n  state    abb   region population total  rate\n  &lt;chr&gt;    &lt;chr&gt; &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Alabama  AL    South     4779736   135  2.82\n2 Alaska   AK    West       710231    19  2.68\n3 Arizona  AZ    West      6392017   232  3.63\n4 Arkansas AR    South     2915918    93  3.19\n\n\n\nNote the Groups: region at the top. This is the number of groups in the first 4 rows.\nThis is a special data frame called a grouped data frame."
  },
  {
    "objectID": "slides/07-tidyverse.html#group_by-then-summarize",
    "href": "slides/07-tidyverse.html#group_by-then-summarize",
    "title": "Tidyverse",
    "section": "Group_by then summarize",
    "text": "Group_by then summarize\n\nmurders |&gt; \n  group_by(region) |&gt; \n  summarize(rate = sum(total) / sum(population) * 100000)\n\n# A tibble: 4 × 2\n  region         rate\n  &lt;fct&gt;         &lt;dbl&gt;\n1 Northeast      2.66\n2 South          3.63\n3 North Central  2.73\n4 West           2.66\n\n\n\nThe summarize function applies the summarization to each group separately."
  },
  {
    "objectID": "slides/07-tidyverse.html#group_by-then-summarize-1",
    "href": "slides/07-tidyverse.html#group_by-then-summarize-1",
    "title": "Tidyverse",
    "section": "Group_by then summarize",
    "text": "Group_by then summarize\n\ncompute the median, minimum, and maximum population in the four regions\n\n\nmurders |&gt; group_by(region) |&gt; summarize(median_min_max(population))\n\n# A tibble: 4 × 4\n  region          median    min      max\n  &lt;fct&gt;            &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n1 Northeast     3574097  625741 19378102\n2 South         4625364  601723 25145561\n3 North Central 5495456. 672591 12830632\n4 West          2700551  563626 37253956\n\n\n\nsummarize takes a dataframe or a column, or a list of values, as an input"
  },
  {
    "objectID": "slides/07-tidyverse.html#group_by-then-mutate",
    "href": "slides/07-tidyverse.html#group_by-then-mutate",
    "title": "Tidyverse",
    "section": "group_by then mutate",
    "text": "group_by then mutate\n\nTo summarize a variable but not collapse the dataset, use group_by then mutate instead of summarize.\nNext example adds a column with the population in each region and the number of states in the region, shown for each state.\n\n\nmurders |&gt; group_by(region) |&gt; \n  mutate(region_pop = sum(population), n = n()) |&gt; head(2)\n\n# A tibble: 2 × 8\n# Groups:   region [2]\n  state   abb   region population total  rate region_pop     n\n  &lt;chr&gt;   &lt;chr&gt; &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;int&gt;\n1 Alabama AL    South     4779736   135  2.82  115674434    17\n2 Alaska  AK    West       710231    19  2.68   71945553    13"
  },
  {
    "objectID": "slides/07-tidyverse.html#tydeverse-returns-a-df",
    "href": "slides/07-tidyverse.html#tydeverse-returns-a-df",
    "title": "Tidyverse",
    "section": "Tydeverse returns a df",
    "text": "Tydeverse returns a df\n\nTidyverse function always returns a data frame. Even if its just one number.\n\n\nmurders |&gt; \n  summarize(rate = sum(total)/sum(population)*100000) |&gt;\n  class()\n\n[1] \"data.frame\""
  },
  {
    "objectID": "slides/07-tidyverse.html#sorting-data-frames-with-arrange",
    "href": "slides/07-tidyverse.html#sorting-data-frames-with-arrange",
    "title": "Tidyverse",
    "section": "Sorting data frames with arrange",
    "text": "Sorting data frames with arrange\n\nStates order by rate\n\n\nmurders |&gt; arrange(rate) |&gt; head()\n\n          state abb        region population total      rate\n1       Vermont  VT     Northeast     625741     2 0.3196211\n2 New Hampshire  NH     Northeast    1316470     5 0.3798036\n3        Hawaii  HI          West    1360301     7 0.5145920\n4  North Dakota  ND North Central     672591     4 0.5947151\n5          Iowa  IA North Central    3046355    21 0.6893484\n6         Idaho  ID          West    1567582    12 0.7655102"
  },
  {
    "objectID": "slides/07-tidyverse.html#sorting-in-descending-order",
    "href": "slides/07-tidyverse.html#sorting-in-descending-order",
    "title": "Tidyverse",
    "section": "Sorting in descending order",
    "text": "Sorting in descending order\n\nwe can either use the negative or, use desc:\n\n\nmurders |&gt; arrange(desc(rate)) |&gt; head()\n\n                 state abb        region population total      rate\n1 District of Columbia  DC         South     601723    99 16.452753\n2            Louisiana  LA         South    4533372   351  7.742581\n3             Missouri  MO North Central    5988927   321  5.359892\n4             Maryland  MD         South    5773552   293  5.074866\n5       South Carolina  SC         South    4625364   207  4.475323\n6             Delaware  DE         South     897934    38  4.231937"
  },
  {
    "objectID": "slides/07-tidyverse.html#sorting-by-multiple-variabls",
    "href": "slides/07-tidyverse.html#sorting-by-multiple-variabls",
    "title": "Tidyverse",
    "section": "Sorting by multiple variabls",
    "text": "Sorting by multiple variabls\n\nmurders |&gt; arrange(region, desc(rate)) |&gt; head(11)\n\n                  state abb    region population total       rate\n1          Pennsylvania  PA Northeast   12702379   457  3.5977513\n2            New Jersey  NJ Northeast    8791894   246  2.7980319\n3           Connecticut  CT Northeast    3574097    97  2.7139722\n4              New York  NY Northeast   19378102   517  2.6679599\n5         Massachusetts  MA Northeast    6547629   118  1.8021791\n6          Rhode Island  RI Northeast    1052567    16  1.5200933\n7                 Maine  ME Northeast    1328361    11  0.8280881\n8         New Hampshire  NH Northeast    1316470     5  0.3798036\n9               Vermont  VT Northeast     625741     2  0.3196211\n10 District of Columbia  DC     South     601723    99 16.4527532\n11            Louisiana  LA     South    4533372   351  7.7425810"
  },
  {
    "objectID": "slides/08-ggplot2.html#ggplot2",
    "href": "slides/08-ggplot2.html#ggplot2",
    "title": "ggplot2",
    "section": "ggplot2",
    "text": "ggplot2\nWe fist load three libraries:\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(dslabs)\nlibrary(lattice)"
  },
  {
    "objectID": "slides/08-ggplot2.html#the-components-of-a-graph",
    "href": "slides/08-ggplot2.html#the-components-of-a-graph",
    "title": "ggplot2",
    "section": "The components of a graph",
    "text": "The components of a graph\n\ngg stands for grammar of graphics.\nAnalogy: we learn verbs and nouns to construct sentences.\nThe first step in learning ggplot2 is breaking a graph apart into components."
  },
  {
    "objectID": "slides/08-ggplot2.html#the-components-of-a-graph-1",
    "href": "slides/08-ggplot2.html#the-components-of-a-graph-1",
    "title": "ggplot2",
    "section": "The components of a graph",
    "text": "The components of a graph\n\nWe also note that:\n\nThe points are labeled with the state abbreviations.\nThe range of the x-axis and y-axis appears to be defined by the range of the data.\nAxes are in the log-scales.\nThere are labels, a title, a legend, and we use the style of The Economist magazine.\n\nWe will now construct the plot, piece by piece."
  },
  {
    "objectID": "slides/08-ggplot2.html#the-components-of-a-graph-2",
    "href": "slides/08-ggplot2.html#the-components-of-a-graph-2",
    "title": "ggplot2",
    "section": "The components of a graph",
    "text": "The components of a graph\n\nThe main three components to note are:\n\nData: The US murders data table is being summarized. We refer to this as the data component.\n\nGeometry: The plot above is a scatterplot. This is referred to as the geometry component.\nAesthetic mapping: How we map visual cues to information provided by the dataset."
  },
  {
    "objectID": "slides/08-ggplot2.html#aesthetic-mapping",
    "href": "slides/08-ggplot2.html#aesthetic-mapping",
    "title": "ggplot2",
    "section": "Aesthetic mapping",
    "text": "Aesthetic mapping\n\nThe two most important cues in the plot we are recreating are the point positions on the x-axis and y-axis.\nEach point represents a different observation, and we map data about these observations to visual cues like x- and y-scale.\nColor is another visual cue that we map to region.\nHow we define the mapping depends on what geometry we are using."
  },
  {
    "objectID": "slides/08-ggplot2.html#the-components-of-a-graph-3",
    "href": "slides/08-ggplot2.html#the-components-of-a-graph-3",
    "title": "ggplot2",
    "section": "The components of a graph",
    "text": "The components of a graph\n\nWe also note that:\n\nThe points are labeled with the state abbreviations.\nThe range of the x-axis and y-axis appears to be defined by the range of the data.\nAxes are in the log-scales.\nThere are labels, a title, a legend, and we use the style of The Economist magazine.\n\nWe will now construct the plot, piece by piece."
  },
  {
    "objectID": "slides/08-ggplot2.html#ggplot-objects",
    "href": "slides/08-ggplot2.html#ggplot-objects",
    "title": "ggplot2",
    "section": "ggplot objects",
    "text": "ggplot objects\n\nStart by defining the dataset:\n\n\nggplot(data = murders)\n\n\nWe can also use the pipe:\n\n\nmurders |&gt; ggplot()\n\n\nWe assign the output to a variable\n\n\np &lt;- ggplot(data = murders)\nclass(p)\n\n[1] \"gg\"     \"ggplot\""
  },
  {
    "objectID": "slides/08-ggplot2.html#ggplot-objects-1",
    "href": "slides/08-ggplot2.html#ggplot-objects-1",
    "title": "ggplot2",
    "section": "ggplot objects",
    "text": "ggplot objects\nTo see the plot we can print it:\n\nprint(p)"
  },
  {
    "objectID": "slides/08-ggplot2.html#geometries",
    "href": "slides/08-ggplot2.html#geometries",
    "title": "ggplot2",
    "section": "Geometries",
    "text": "Geometries\n\nIf we want to make a scatterplot, what geometry do we use?\nLet’s look at the cheat sheet: https://rstudio.github.io/cheatsheets/data-visualization.pdf"
  },
  {
    "objectID": "slides/08-ggplot2.html#geometries-1",
    "href": "slides/08-ggplot2.html#geometries-1",
    "title": "ggplot2",
    "section": "Geometries",
    "text": "Geometries\n\nSo if we want to make a scatterplot, what geometry do we use?\nLet’s look at the cheat sheet: https://rstudio.github.io/cheatsheets/data-visualization.pdf"
  },
  {
    "objectID": "slides/08-ggplot2.html#aesthetic-mappings",
    "href": "slides/08-ggplot2.html#aesthetic-mappings",
    "title": "ggplot2",
    "section": "Aesthetic mappings",
    "text": "Aesthetic mappings\n\nTo make a scatter plot we use geom_points.\nThe help file tells us this is how we use it:\n\n\nmurders |&gt; ggplot() + geom_point(aes(x = population/10^6, y = total))"
  },
  {
    "objectID": "slides/08-ggplot2.html#aesthetic-mappings-1",
    "href": "slides/08-ggplot2.html#aesthetic-mappings-1",
    "title": "ggplot2",
    "section": "Aesthetic mappings",
    "text": "Aesthetic mappings\n\nSince we defined p earlier, we can add a layer like this:\n\n\np + geom_point(aes(population/10^6, total))\n\n\n\nNote we are no longer using x= and y =."
  },
  {
    "objectID": "slides/08-ggplot2.html#layers",
    "href": "slides/08-ggplot2.html#layers",
    "title": "ggplot2",
    "section": "Layers",
    "text": "Layers\n\nTo add text we use geom_text:\n\n\np + geom_point(aes(population/10^6, total)) +\n  geom_text(aes(population/10^6, total, label = abb))"
  },
  {
    "objectID": "slides/08-ggplot2.html#layers-1",
    "href": "slides/08-ggplot2.html#layers-1",
    "title": "ggplot2",
    "section": "Layers",
    "text": "Layers\n\nAs an example of the unique behavior of aes note that this call:\n\n\np_test &lt;- p + geom_text(aes(population/10^6, total, label = abb))\n\nis fine, whereas this call:\n\np_test &lt;- p + geom_text(aes(population/10^6, total), label = abb) \n\nwill give you an error since abb is not found because it is outside of the aes function.\n\nThe layer geom_text does not know where to find abb: it’s a column name and not a global variable."
  },
  {
    "objectID": "slides/08-ggplot2.html#multipanel-plots---lattice",
    "href": "slides/08-ggplot2.html#multipanel-plots---lattice",
    "title": "ggplot2",
    "section": "Multipanel plots - lattice",
    "text": "Multipanel plots - lattice\n\npl &lt;- xyplot(total ~ population/10^6 | region, data = murders, #group by region\n      type = c(\"p\", \"g\"), xlab = \"Population/10^6\", ylab = \"Total\", # points +grid\n     strip = strip.custom(strip.names = TRUE, var.name = \"region\"), layout=c(2,2))\n# strip: title bar in each panel. strip.names=TRUE: show the var.name \"region\"\nprint(pl)"
  },
  {
    "objectID": "slides/08-ggplot2.html#multipanel-plots---ggplot2",
    "href": "slides/08-ggplot2.html#multipanel-plots---ggplot2",
    "title": "ggplot2",
    "section": "Multipanel plots - ggplot2",
    "text": "Multipanel plots - ggplot2\n\npg &lt;- ggplot(murders, aes(population/10^6, total)) + geom_point(shape = 1) +\n    facet_wrap(~region) + theme(aspect.ratio = 1) #square panels\nprint(pg)\n\n# shape =1: open circles; shape=16: filled circles"
  },
  {
    "objectID": "slides/08-ggplot2.html#tinkering-with-arguments",
    "href": "slides/08-ggplot2.html#tinkering-with-arguments",
    "title": "ggplot2",
    "section": "Tinkering with arguments",
    "text": "Tinkering with arguments\n\np + geom_point(aes(population/10^6, total), size = 3) +\n  geom_text(aes(population/10^6, total, label = abb))\n\n\n\nsize can be an aesthetic mapping, but here it is not, so all points get bigger."
  },
  {
    "objectID": "slides/08-ggplot2.html#tinkering-with-arguments-1",
    "href": "slides/08-ggplot2.html#tinkering-with-arguments-1",
    "title": "ggplot2",
    "section": "Tinkering with arguments",
    "text": "Tinkering with arguments\n\np + geom_point(aes(population/10^6, total), size = 3) +\n  geom_text(aes(population/10^6, total, label = abb), nudge_x = 1.5)\n\n\n\nnudge_x is not an aesthetic mapping."
  },
  {
    "objectID": "slides/08-ggplot2.html#global-versus-local-mappings",
    "href": "slides/08-ggplot2.html#global-versus-local-mappings",
    "title": "ggplot2",
    "section": "Global versus local mappings",
    "text": "Global versus local mappings\n\nAll the layers will assume the global mapping unless we explicitly define another one.\n\n\np &lt;- murders |&gt; ggplot(aes(population/10^6, total, label = abb))\np + geom_point(size = 3) + geom_text(nudge_x = 1.5)\n\n\n\nThe two layers use the global mapping."
  },
  {
    "objectID": "slides/08-ggplot2.html#global-versus-local-mappings-1",
    "href": "slides/08-ggplot2.html#global-versus-local-mappings-1",
    "title": "ggplot2",
    "section": "Global versus local mappings",
    "text": "Global versus local mappings\n\nWe can override the global aes by defining one in the geometry functions:\n\n\np + geom_point(size = 3) +  # global mapping\n  geom_text(aes(x = 10, y = 800, label = \"Hello there!\")) #local mapping"
  },
  {
    "objectID": "slides/08-ggplot2.html#global-versus-local-mappings-2",
    "href": "slides/08-ggplot2.html#global-versus-local-mappings-2",
    "title": "ggplot2",
    "section": "Global versus local mappings",
    "text": "Global versus local mappings\n\nWe can override the global aes by defining one in the geometry functions:\n\n\np + geom_point(size = 3) +  \n  geom_text(aes(x = 10, y = 800, label = \"Hello there!\"))"
  },
  {
    "objectID": "slides/08-ggplot2.html#scales",
    "href": "slides/08-ggplot2.html#scales",
    "title": "ggplot2",
    "section": "Scales",
    "text": "Scales\n\nLayers can define transformations:\n\n\np + geom_point(size = 3) +  \n  geom_text(nudge_x = 0.05) + \n  scale_x_continuous(trans = \"log10\") +\n  scale_y_continuous(trans = \"log10\")"
  },
  {
    "objectID": "slides/08-ggplot2.html#scales-1",
    "href": "slides/08-ggplot2.html#scales-1",
    "title": "ggplot2",
    "section": "Scales",
    "text": "Scales\n\nThis particular transformation is so common that ggplot2 provides the specialized functions:\n\n\np + geom_point(size = 3) +  \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10()"
  },
  {
    "objectID": "slides/08-ggplot2.html#labels-and-titles",
    "href": "slides/08-ggplot2.html#labels-and-titles",
    "title": "ggplot2",
    "section": "Labels and titles",
    "text": "Labels and titles\n\np + geom_point(size = 3) +  \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  xlab(\"Populations in millions (log scale)\") + \n  ylab(\"Total number of murders (log scale)\") +\n  ggtitle(\"US Gun Murders in 2010\")"
  },
  {
    "objectID": "slides/08-ggplot2.html#labels-and-titles-1",
    "href": "slides/08-ggplot2.html#labels-and-titles-1",
    "title": "ggplot2",
    "section": "Labels and titles",
    "text": "Labels and titles\n\nWe can also use the labs function:\n\n\np + geom_point(size = 3) +  \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\")\n\n\nThis produces the same graph as in the previous slide."
  },
  {
    "objectID": "slides/08-ggplot2.html#almost-there",
    "href": "slides/08-ggplot2.html#almost-there",
    "title": "ggplot2",
    "section": "Almost there",
    "text": "Almost there\n\nTargetCurrent draftCode\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\np + geom_point(size = 3) +  \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\")"
  },
  {
    "objectID": "slides/08-ggplot2.html#adding-color",
    "href": "slides/08-ggplot2.html#adding-color",
    "title": "ggplot2",
    "section": "Adding color",
    "text": "Adding color\n\nmurders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\") +\n  geom_point(size = 3, color = \"blue\")"
  },
  {
    "objectID": "slides/08-ggplot2.html#a-mapped-color",
    "href": "slides/08-ggplot2.html#a-mapped-color",
    "title": "ggplot2",
    "section": "A mapped color",
    "text": "A mapped color\n\nmurders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\") +\n  geom_point(aes(col = region), size = 3)\n\n\nA legend is added automatically!"
  },
  {
    "objectID": "slides/08-ggplot2.html#change-legend-name",
    "href": "slides/08-ggplot2.html#change-legend-name",
    "title": "ggplot2",
    "section": "Change legend name",
    "text": "Change legend name\n\nmurders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\",\n       color = \"Region\") + # Lgend name comes from inside labs()\n  geom_point(aes(col = region), size = 3)"
  },
  {
    "objectID": "slides/08-ggplot2.html#other-adjustments",
    "href": "slides/08-ggplot2.html#other-adjustments",
    "title": "ggplot2",
    "section": "Other adjustments",
    "text": "Other adjustments\n\nadd a line with intercept the US rate.\n\n\n\nr &lt;- murders |&gt; \n  summarize(rate = sum(total) /  sum(population) * 10^6) |&gt; \n  pull(rate)"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-a-line",
    "href": "slides/08-ggplot2.html#add-a-line",
    "title": "ggplot2",
    "section": "Add a line",
    "text": "Add a line\n\nmurders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\",\n       color = \"Region\") +\n  geom_point(aes(col = region), size = 3) +\n  geom_abline(intercept = log10(r), lty = 2, color = \"darkgrey\") \n\n#default slope=1; lty=2: dashed line\n\n0= no line, 1=solid, 2=dashed, 3=dotted, 4=dotdash, 5=longdash, 6=twodash"
  },
  {
    "objectID": "slides/08-ggplot2.html#we-are-close",
    "href": "slides/08-ggplot2.html#we-are-close",
    "title": "ggplot2",
    "section": "We are close!",
    "text": "We are close!"
  },
  {
    "objectID": "slides/08-ggplot2.html#other-adjustments-1",
    "href": "slides/08-ggplot2.html#other-adjustments-1",
    "title": "ggplot2",
    "section": "Other adjustments",
    "text": "Other adjustments\n\nTo make the final adjustments we will save our current draft in p and add layers.\n\n\np &lt;- murders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\",\n       color = \"Region\") +\n  geom_point(aes(col = region), size = 3) +\n  geom_abline(intercept = log10(r), lty = 2, color = \"darkgrey\")"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages",
    "href": "slides/08-ggplot2.html#add-on-packages",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\n\nThe dslabs package can define the look used in the textbook:\n\n\nds_theme_set()\n\n\nMany other themes are added by the package ggthemes."
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages-1",
    "href": "slides/08-ggplot2.html#add-on-packages-1",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\nggthemes provides pre-designed themes.\n\nlibrary(ggthemes)\np + theme_economist()"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages-2",
    "href": "slides/08-ggplot2.html#add-on-packages-2",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\nHere is the FiveThirtyEight theme:\n\np + theme_fivethirtyeight()"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages-3",
    "href": "slides/08-ggplot2.html#add-on-packages-3",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\nIf you want to ruin the plot use the excel theme:\n\np + theme_excel()"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages-4",
    "href": "slides/08-ggplot2.html#add-on-packages-4",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\nThemePark provides fun themes:\n\nlibrary(ThemePark)\np + theme_starwars()"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages-5",
    "href": "slides/08-ggplot2.html#add-on-packages-5",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\nThis is a fan favorite:\n\np + theme_barbie()"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-on-packages-6",
    "href": "slides/08-ggplot2.html#add-on-packages-6",
    "title": "ggplot2",
    "section": "Add-on packages",
    "text": "Add-on packages\n\nTo avoid the state abbreviations being on top of each other we can use the ggrepel package.\nWe change the layer geom_text(nudge_x = 0.05) to geom_text_repel()"
  },
  {
    "objectID": "slides/08-ggplot2.html#putting-it-all-together",
    "href": "slides/08-ggplot2.html#putting-it-all-together",
    "title": "ggplot2",
    "section": "Putting it all together",
    "text": "Putting it all together\n\nCodePlot\n\n\n\nlibrary(ggthemes)\nlibrary(ggrepel)\n\nr &lt;- murders |&gt; \n  summarize(rate = sum(total) /  sum(population) * 10^6) |&gt;\n  pull(rate)\n\nmurders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_abline(intercept = log10(r), lty = 2, color = \"darkgrey\") +\n  geom_point(aes(col = region), size = 3) +\n  geom_text_repel() + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\",\n       color = \"Region\") +\n  theme_economist()"
  },
  {
    "objectID": "slides/08-ggplot2.html#grids-of-plots",
    "href": "slides/08-ggplot2.html#grids-of-plots",
    "title": "ggplot2",
    "section": "Grids of plots",
    "text": "Grids of plots\n\nWe often want to put plots next to each other.\nThe gridExtra package permits us to do that:\n\n\nCodePlot\n\n\n\nlibrary(gridExtra)\np1 &lt;- murders |&gt; \n  ggplot(aes(log10(population))) + \n  geom_histogram()\np2 &lt;- murders |&gt; \n  ggplot(aes(log10(population), log10(total))) + \n  geom_point()\ngrid.arrange(p1, p2, ncol = 2)"
  },
  {
    "objectID": "slides/08-ggplot2.html#grids-of-plots-1",
    "href": "slides/08-ggplot2.html#grids-of-plots-1",
    "title": "ggplot2",
    "section": "Grids of plots",
    "text": "Grids of plots\n\nThere are several additional packages for combining ggplot2 plots into visually appealing layouts:**\ncowplot: A versatile package designed for publication-quality plots, offering seamless integration with ggplot2.\nggpubr: Provides user-friendly functions for combining and annotating ggplot2 plots with minimal effort.\nNew packages frequently emerge. Explore beyond these options and stay curious—there might be new tools that suit your needs even better!"
  },
  {
    "objectID": "slides/08-ggplot2.html#the-graph-we-will-create",
    "href": "slides/08-ggplot2.html#the-graph-we-will-create",
    "title": "ggplot2",
    "section": "The graph we will create",
    "text": "The graph we will create"
  },
  {
    "objectID": "slides/08-ggplot2.html#three-main-components-of-a-graph",
    "href": "slides/08-ggplot2.html#three-main-components-of-a-graph",
    "title": "ggplot2",
    "section": "Three main components of a graph",
    "text": "Three main components of a graph\n\nData: ususally a data frame, such as murders used to generate the previous plot\nGeometry: plot type, such as the scatterplot above.\nAesthetic mapping: How we map visual cues (\\(x, y,\\) color, labels, etc.) to the data"
  },
  {
    "objectID": "slides/08-ggplot2.html#the-components-of-a-graph-visibilityhidden",
    "href": "slides/08-ggplot2.html#the-components-of-a-graph-visibilityhidden",
    "title": "ggplot2",
    "section": "The components of a graph (visibility=“hidden”)",
    "text": "The components of a graph (visibility=“hidden”)\n\nWe also note that:\n\nThe points are labeled with the state abbreviations.\nThe range of the x-axis and y-axis appears to be defined by the range of the data.\nAxes are in the log-scales.\nThere are labels, a title, a legend, and we use the style of The Economist magazine.\n\nWe will now construct the plot, piece by piece."
  },
  {
    "objectID": "slides/08-ggplot2.html#print-a-ggplot-graph",
    "href": "slides/08-ggplot2.html#print-a-ggplot-graph",
    "title": "ggplot2",
    "section": "Print a ggplot graph",
    "text": "Print a ggplot graph\nTo see the plot we can print it:\n\nprint(p)"
  },
  {
    "objectID": "slides/08-ggplot2.html#graph-layers",
    "href": "slides/08-ggplot2.html#graph-layers",
    "title": "ggplot2",
    "section": "Graph layers",
    "text": "Graph layers\n\nWe create graphs by adding layers.\nLayers define geometries, compute summary statistics, define what scales to use, or even change styles.\nTo add layers, we use the symbol +.\nIn general, a line of code will look like this:\n\n\nDATA |&gt; ggplot() + LAYER 1 + LAYER 2 + ... + LAYER N\n\n\nUsually, the first added layer defines the geometry."
  },
  {
    "objectID": "slides/08-ggplot2.html#scatter-plot-geom_points",
    "href": "slides/08-ggplot2.html#scatter-plot-geom_points",
    "title": "ggplot2",
    "section": "Scatter plot: geom_points",
    "text": "Scatter plot: geom_points\n\nmurders |&gt; ggplot() + geom_point(aes(x = population/10^6, y = total))"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-a-layer",
    "href": "slides/08-ggplot2.html#add-a-layer",
    "title": "ggplot2",
    "section": "Add a layer",
    "text": "Add a layer\n\nSince we defined p earlier, we can add a layer like this:\n\n\np + geom_point(aes(population/10^6, total))\n\n\n\nNote x= and y = can be omitted"
  },
  {
    "objectID": "slides/08-ggplot2.html#add-text-with-geom_text",
    "href": "slides/08-ggplot2.html#add-text-with-geom_text",
    "title": "ggplot2",
    "section": "Add text with geom_text",
    "text": "Add text with geom_text\n\np + geom_point(aes(population/10^6, total)) +\n  geom_text(aes(population/10^6, total, label = abb))"
  },
  {
    "objectID": "slides/08-ggplot2.html#scopes-of-aesthetical-mapping",
    "href": "slides/08-ggplot2.html#scopes-of-aesthetical-mapping",
    "title": "ggplot2",
    "section": "Scopes of aesthetical mapping",
    "text": "Scopes of aesthetical mapping\n\nThis one is fine\n\n\np_test &lt;- p + geom_text(aes(population/10^6, total, label = abb))\n\nis fine, whereas this call: this one is not\n\np_test &lt;- p + geom_text(aes(population/10^6, total), label = abb) \n\nwill give you an error since abb is not found because it is outside of the aes function.\n\ngeom_text does not know where to find abb: it’s a column name and not a global variable."
  },
  {
    "objectID": "slides/08-ggplot2.html#point-size",
    "href": "slides/08-ggplot2.html#point-size",
    "title": "ggplot2",
    "section": "point size",
    "text": "point size\n\np + geom_point(aes(population/10^6, total), size = 3) +\n  geom_text(aes(population/10^6, total, label = abb))\n\n\n\nsize can be an aesthetic mapping, but here it is not, so all points get bigger."
  },
  {
    "objectID": "slides/08-ggplot2.html#tinkering-with-argumentsnudege_x",
    "href": "slides/08-ggplot2.html#tinkering-with-argumentsnudege_x",
    "title": "ggplot2",
    "section": "Tinkering with argumentsnudege_x`",
    "text": "Tinkering with argumentsnudege_x`\n\np + geom_point(aes(population/10^6, total), size = 3) +\n  geom_text(aes(population/10^6, total, label = abb), nudge_x = 1.5) #shift x right\n\n\n\nnudge_x is not an aesthetic mapping."
  },
  {
    "objectID": "slides/08-ggplot2.html#global-mappings",
    "href": "slides/08-ggplot2.html#global-mappings",
    "title": "ggplot2",
    "section": "Global mappings",
    "text": "Global mappings\n\nDefined in aes in the ggplot function:\n\n\nargs(ggplot)\n\nfunction (data = NULL, mapping = aes(), ..., environment = parent.frame()) \nNULL"
  },
  {
    "objectID": "slides/08-ggplot2.html#labels-and-titles-with-labs",
    "href": "slides/08-ggplot2.html#labels-and-titles-with-labs",
    "title": "ggplot2",
    "section": "Labels and titles with labs",
    "text": "Labels and titles with labs\n\np + geom_point(size = 3) +  \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\")\n\n\nThis produces the same graph as in the previous slide."
  },
  {
    "objectID": "slides/08-ggplot2.html#no-line-1solid-2dashed-3dotted-4dotdash-5longdash-6twodash",
    "href": "slides/08-ggplot2.html#no-line-1solid-2dashed-3dotted-4dotdash-5longdash-6twodash",
    "title": "ggplot2",
    "section": "0= no line, 1=solid, 2=dashed, 3=dotted, 4=dotdash, 5=longdash, 6=twodash",
    "text": "0= no line, 1=solid, 2=dashed, 3=dotted, 4=dotdash, 5=longdash, 6=twodash"
  },
  {
    "objectID": "slides/08-ggplot2.html#assign-the-graph-to-a-variable",
    "href": "slides/08-ggplot2.html#assign-the-graph-to-a-variable",
    "title": "ggplot2",
    "section": "Assign the graph to a variable",
    "text": "Assign the graph to a variable\n\np &lt;- murders |&gt; ggplot(aes(population/10^6, total, label = abb)) +   \n  geom_text(nudge_x = 0.05) + \n  scale_x_log10() +\n  scale_y_log10() +\n  labs(x = \"Populations in millions (log scale)\", \n       y = \"Total number of murders (log scale)\", \n       title = \"US Gun Murders in 2010\",\n       color = \"Region\") +\n  geom_point(aes(col = region), size = 3) +\n  geom_abline(intercept = log10(r), lty = 2, color = \"darkgrey\")"
  },
  {
    "objectID": "slides/08-ggplot2.html#theme_fivethirtyeight",
    "href": "slides/08-ggplot2.html#theme_fivethirtyeight",
    "title": "ggplot2",
    "section": "theme_Fivethirtyeight()",
    "text": "theme_Fivethirtyeight()\nHere is the FiveThirtyEight theme:\n\np + theme_fivethirtyeight()"
  },
  {
    "objectID": "slides/08-ggplot2.html#theme_cecel",
    "href": "slides/08-ggplot2.html#theme_cecel",
    "title": "ggplot2",
    "section": "theme_cecel()",
    "text": "theme_cecel()\nmaybe not a good one!\n\np + theme_excel()"
  },
  {
    "objectID": "slides/08-ggplot2.html#theme_starwars",
    "href": "slides/08-ggplot2.html#theme_starwars",
    "title": "ggplot2",
    "section": "theme_starwars()",
    "text": "theme_starwars()\nThemePark provides fun themes:\n\nlibrary(ThemePark)\np + theme_starwars()"
  },
  {
    "objectID": "slides/08-ggplot2.html#theme_barbie",
    "href": "slides/08-ggplot2.html#theme_barbie",
    "title": "ggplot2",
    "section": "theme_barbie()",
    "text": "theme_barbie()\nThis is a fan favorite:\n\np + theme_barbie()"
  },
  {
    "objectID": "slides/08-ggplot2.html#geom_text_repel",
    "href": "slides/08-ggplot2.html#geom_text_repel",
    "title": "ggplot2",
    "section": "geom_text_repel()",
    "text": "geom_text_repel()\n\nTo avoid the state abbreviations being on top of each other we can use the ggrepel package.\nWe change the layer geom_text(nudge_x = 0.05) to geom_text_repel()"
  },
  {
    "objectID": "slides/08-ggplot2.html#other-packages-for-grids-of-plots",
    "href": "slides/08-ggplot2.html#other-packages-for-grids-of-plots",
    "title": "ggplot2",
    "section": "Other packages for grids of plots",
    "text": "Other packages for grids of plots\n\ncowplot: A versatile package designed for publication-quality plots, offering seamless integration with ggplot2.\nggpubr: Provides user-friendly functions for combining and annotating ggplot2 plots with minimal effort."
  },
  {
    "objectID": "slides/09-tidyr.html#tidying-data",
    "href": "slides/09-tidyr.html#tidying-data",
    "title": "Tidying data",
    "section": "Tidying data",
    "text": "Tidying data\n\nWe will a wide format dataset as an example:\n\n\nlibrary(tidyverse) \nlibrary(dslabs)\npath &lt;- system.file(\"extdata\", package = \"dslabs\")\nfilename &lt;- file.path(path, \"fertility-two-countries-example.csv\")\nwide_data &lt;- read_csv(filename)\nselect(wide_data, 1:10)\n\n# A tibble: 2 × 10\n  country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967` `1968`\n  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37   2.28\n2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85   4.73"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer",
    "href": "slides/09-tidyr.html#pivot_longer",
    "title": "Tidying data",
    "section": "pivot_longer",
    "text": "pivot_longer\n\nOne of the most used functions in tidyr.\nThe first argument is a data frame, the one that will be converted.\nthe second argument, cols, specify the columns that will be pivoted, which containi observed values;\nThe default is to pivot all columns so, in most cases, we have to specify the columns. In our example we want columns 1960, 1961 up to 2015.\nThe names_to specify a (new, default name) column name we want to assign to the (pivoted) current columns\nThe values_to argument specifies a (new, default value) column name we want to assign to the observations"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer-1",
    "href": "slides/09-tidyr.html#pivot_longer-1",
    "title": "Tidying data",
    "section": "pivot_longer",
    "text": "pivot_longer\nThe code to pivot the fertility data:\n\nnew_tidy_data &lt;- wide_data |&gt;\n  pivot_longer(`1960`:`2015`, names_to = \"year\", values_to = \"fertility\")\nhead(new_tidy_data)\n\n# A tibble: 6 × 3\n  country year  fertility\n  &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;\n1 Germany 1960       2.41\n2 Germany 1961       2.44\n3 Germany 1962       2.47\n4 Germany 1963       2.49\n5 Germany 1964       2.49\n6 Germany 1965       2.48\n\n\n\nData have been converted to tidy format with columns year and fertility."
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer-2",
    "href": "slides/09-tidyr.html#pivot_longer-2",
    "title": "Tidying data",
    "section": "pivot_longer",
    "text": "pivot_longer\n\nA quicker way to write this code is to specify which column will not include in the pivot:\n\n\nnew_tidy_data &lt;- wide_data |&gt;\n  pivot_longer(-country, names_to = \"year\", values_to = \"fertility\")"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer-3",
    "href": "slides/09-tidyr.html#pivot_longer-3",
    "title": "Tidying data",
    "section": "pivot_longer",
    "text": "pivot_longer\n\nNow that the data is tidy, we can use it with other tidyverse functions, such ggplot2:\n\n\nnew_tidy_data |&gt; \n  mutate(year = as.numeric(year)) |&gt;\n  ggplot(aes(year, fertility, color = country)) + \n  geom_line()"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer-4",
    "href": "slides/09-tidyr.html#pivot_longer-4",
    "title": "Tidying data",
    "section": "pivot_longer",
    "text": "pivot_longer\n\nA quicker way to write this code is to specify which column will not include in the pivot:\n\n\nnew_tidy_data &lt;- wide_data |&gt;\n  pivot_longer(-country, names_to = \"year\", values_to = \"fertility\")"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer-5",
    "href": "slides/09-tidyr.html#pivot_longer-5",
    "title": "Tidying data",
    "section": "pivot_longer",
    "text": "pivot_longer\n\nNow that the data is tidy, we can use it with other tidyverse functions, such ggplot2:\n\n\nnew_tidy_data |&gt; \n  mutate(year = as.numeric(year)) |&gt;\n  ggplot(aes(year, fertility, color = country)) + \n  geom_line()"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_wider",
    "href": "slides/09-tidyr.html#pivot_wider",
    "title": "Tidying data",
    "section": "pivot_wider",
    "text": "pivot_wider\n\nIt is sometimes useful for data wrangling purposes to convert tidy data into wide data.\nThe pivot_wider function is basically the inverse of pivot_longer."
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_wider-1",
    "href": "slides/09-tidyr.html#pivot_wider-1",
    "title": "Tidying data",
    "section": "pivot_wider",
    "text": "pivot_wider\n\nThe first argument is for the data, but since we are using the pipe, we don’t show it.\nThe names_from argument tells pivot_wider which variable will be used as the (new) column names.\nThe values_from argument specifies which variable to use to fill out the cells."
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_wider-2",
    "href": "slides/09-tidyr.html#pivot_wider-2",
    "title": "Tidying data",
    "section": "pivot_wider",
    "text": "pivot_wider\nHere is some example code\n\nnew_wide_data &lt;- new_tidy_data |&gt; \n  pivot_wider(names_from = year, values_from = fertility)\nselect(new_wide_data, country, `1960`:`1967`)\n\n# A tibble: 2 × 9\n  country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967`\n  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37\n2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85\n\n\nSimilar to pivot_wider, names_from and values_from default to name and value."
  },
  {
    "objectID": "slides/09-tidyr.html#example",
    "href": "slides/09-tidyr.html#example",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\n\nWe start with the pivot_longer function, but we should no longer use the column name year for the new column since it also contains the variable type.\nWe will call it name, the default, for now:\n\n\nraw_dat |&gt; pivot_longer(-country) |&gt; head()\n\n# A tibble: 6 × 3\n  country name                 value\n  &lt;chr&gt;   &lt;chr&gt;                &lt;dbl&gt;\n1 Germany 1960_fertility        2.41\n2 Germany 1960_life_expectancy 69.3 \n3 Germany 1961_fertility        2.44\n4 Germany 1961_life_expectancy 69.8 \n5 Germany 1962_fertility        2.47\n6 Germany 1962_life_expectancy 70.0"
  },
  {
    "objectID": "slides/09-tidyr.html#example-1",
    "href": "slides/09-tidyr.html#example-1",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\n\nThe result is not exactly what we refer to as tidy since each observation is associated with two, not one, rows.\nWe want to have the values from the two variables, fertility and life expectancy, in two separate columns.\nThe first challenge to achieve this is to separate the name column into the year and the variable type."
  },
  {
    "objectID": "slides/09-tidyr.html#example-2",
    "href": "slides/09-tidyr.html#example-2",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\n\nEncoding multiple variables in a column name is such a common problem that the tidyr package includes function to separate these columns into two or more:\n\n\nraw_dat |&gt; \n  pivot_longer(-country) |&gt; \n  separate_wider_delim(name, delim = \"_\",  names = c(\"year\", \"name\"), \n                       too_many = \"merge\") |&gt;\n  head()\n\n# A tibble: 6 × 4\n  country year  name            value\n  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;           &lt;dbl&gt;\n1 Germany 1960  fertility        2.41\n2 Germany 1960  life_expectancy 69.3 \n3 Germany 1961  fertility        2.44\n4 Germany 1961  life_expectancy 69.8 \n5 Germany 1962  fertility        2.47\n6 Germany 1962  life_expectancy 70.0"
  },
  {
    "objectID": "slides/09-tidyr.html#example-3",
    "href": "slides/09-tidyr.html#example-3",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\n\nBut we are not done yet.\nWe need to create a column for each variable and change year to a number.\nAs we learned, the pivot_wider function can do this."
  },
  {
    "objectID": "slides/09-tidyr.html#example-4",
    "href": "slides/09-tidyr.html#example-4",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\n\ndat &lt;- raw_dat |&gt; \n  pivot_longer(-country) |&gt; \n  separate_wider_delim(name, delim = \"_\", \n                       names = c(\"year\", \"name\"), \n                       too_many = \"merge\") |&gt;\n  pivot_wider() |&gt;\n  mutate(year = as.integer(year))\nhead(dat)\n\n# A tibble: 6 × 4\n  country  year fertility life_expectancy\n  &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;           &lt;dbl&gt;\n1 Germany  1960      2.41            69.3\n2 Germany  1961      2.44            69.8\n3 Germany  1962      2.47            70.0\n4 Germany  1963      2.49            70.1\n5 Germany  1964      2.49            70.7\n6 Germany  1965      2.48            70.6"
  },
  {
    "objectID": "slides/09-tidyr.html#example-5",
    "href": "slides/09-tidyr.html#example-5",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\nThe data is now is now in tidy form and we can use with other packages:\n\np1 &lt;- dat |&gt; ggplot(aes(year, fertility, color = country)) + geom_line(show.legend = FALSE)\np2 &lt;- dat |&gt; ggplot(aes(year, life_expectancy, color = country)) + geom_line()\ngridExtra::grid.arrange(p1, p2, ncol = 2, widths = c(3,4))"
  },
  {
    "objectID": "slides/09-tidyr.html#example-6",
    "href": "slides/09-tidyr.html#example-6",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\n\ndat &lt;- raw_dat |&gt; \n  pivot_longer(-country) |&gt; \n  separate_wider_delim(name, delim = \"_\", \n                       names = c(\"year\", \"name\"), \n                       too_many = \"merge\") |&gt;\n  pivot_wider() |&gt;\n  mutate(year = as.integer(year))\nhead(dat)\n\n# A tibble: 6 × 4\n  country  year fertility life_expectancy\n  &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;           &lt;dbl&gt;\n1 Germany  1960      2.41            69.3\n2 Germany  1961      2.44            69.8\n3 Germany  1962      2.47            70.0\n4 Germany  1963      2.49            70.1\n5 Germany  1964      2.49            70.7\n6 Germany  1965      2.48            70.6"
  },
  {
    "objectID": "slides/09-tidyr.html#example-7",
    "href": "slides/09-tidyr.html#example-7",
    "title": "Tidying data",
    "section": "Example",
    "text": "Example\nThe data is now is now in tidy form and we can use with other packages:\n\np1 &lt;- dat |&gt; ggplot(aes(year, fertility, color = country)) + geom_line(show.legend = FALSE)\np2 &lt;- dat |&gt; ggplot(aes(year, life_expectancy, color = country)) + geom_line()\ngridExtra::grid.arrange(p1, p2, ncol = 2, widths = c(3,4))"
  },
  {
    "objectID": "slides/01-unix.html#wath-is-a-terminal",
    "href": "slides/01-unix.html#wath-is-a-terminal",
    "title": "Unix/Linux",
    "section": "Wath is a terminal",
    "text": "Wath is a terminal\n\nThe terminal is integrated into Mac and Linux systems,\nbut Windows users will have to install an emulator (we will use Git Bash).\nYou may experience it also in Colab.",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/01-unix.html#shell",
    "href": "slides/01-unix.html#shell",
    "title": "Unix/Linux",
    "section": "Shell",
    "text": "Shell\n\nThe shell is a program to organize and facilitate your interactions with the operating system\necho $SHELL will display the shell you are using\nhidden files and directories to provide customization e.g. .gitconfig or .ssh\nmost shells have two files that are commonly used to provide user level customization .zsh, and .zprofile",
    "crumbs": [
      "Lecture 1-Unix"
    ]
  },
  {
    "objectID": "slides/09-tidyr.html#wide-data-set",
    "href": "slides/09-tidyr.html#wide-data-set",
    "title": "Tidying data",
    "section": "Wide data set",
    "text": "Wide data set\n\na wide format dataset (not tidy):\n\n\nlibrary(tidyverse) \nlibrary(dslabs)\npath &lt;- system.file(\"extdata\", package = \"dslabs\")\nfilename &lt;- file.path(path, \"fertility-two-countries-example.csv\")\nwide_data &lt;- read_csv(filename)\nselect(wide_data, 1:10)\n\n# A tibble: 2 × 10\n  country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967` `1968`\n  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37   2.28\n2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85   4.73"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_longer-exclude-columns",
    "href": "slides/09-tidyr.html#pivot_longer-exclude-columns",
    "title": "Tidying data",
    "section": "pivot_longer: exclude columns",
    "text": "pivot_longer: exclude columns\n\nA quicker way to write this code is to specify which column will not be included in the pivot:\n\n\nnew_tidy_data &lt;- wide_data |&gt;\n  pivot_longer(-country, names_to = \"year\", values_to = \"fertility\")"
  },
  {
    "objectID": "slides/09-tidyr.html#use-tidy-data-with-tidyverse-functions",
    "href": "slides/09-tidyr.html#use-tidy-data-with-tidyverse-functions",
    "title": "Tidying data",
    "section": "Use tidy data with tidyverse functions",
    "text": "Use tidy data with tidyverse functions\n\nNow that the data is tidy, we can use it with other tidyverse functions, such ggplot2:\n\n\nnew_tidy_data |&gt; \n  mutate(year = as.numeric(year)) |&gt;\n  ggplot(aes(year, fertility, color = country)) + \n  geom_line()"
  },
  {
    "objectID": "slides/09-tidyr.html#pivot_wider-example",
    "href": "slides/09-tidyr.html#pivot_wider-example",
    "title": "Tidying data",
    "section": "pivot_wider example",
    "text": "pivot_wider example\n\nnew_wide_data &lt;- new_tidy_data |&gt; \n  pivot_wider(names_from = year, values_from = fertility)\nselect(new_wide_data, country, `1960`:`1967`)\n\n# A tibble: 2 × 9\n  country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967`\n  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37\n2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85\n\n\nSimilar to pivot_wider, names_from and values_from default to name and value."
  },
  {
    "objectID": "slides/09-tidyr.html#a-complex-example",
    "href": "slides/09-tidyr.html#a-complex-example",
    "title": "Tidying data",
    "section": "A complex example",
    "text": "A complex example\n\npath &lt;- system.file(\"extdata\", package = \"dslabs\")\n\nfilename &lt;- \"life-expectancy-and-fertility-two-countries-example.csv\"\nfilename &lt;-  file.path(path, filename)\n\nraw_dat &lt;- read_csv(filename)\nselect(raw_dat, 1:5)\n\n# A tibble: 2 × 5\n  country     `1960_fertility` `1960_life_expectancy` `1961_fertility`\n  &lt;chr&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;            &lt;dbl&gt;\n1 Germany                 2.41                   69.3             2.44\n2 South Korea             6.16                   53.0             5.99\n# ℹ 1 more variable: `1961_life_expectancy` &lt;dbl&gt;\n\n\n\nThe data is in wide format.\nincludes values for two variables, fertility and life expectancy,\nEncoding information in the column names is not recommended but, unfortunately, it is quite common."
  },
  {
    "objectID": "slides/09-tidyr.html#a-complex-example-data",
    "href": "slides/09-tidyr.html#a-complex-example-data",
    "title": "Tidying data",
    "section": "A complex example-data",
    "text": "A complex example-data\n\npath &lt;- system.file(\"extdata\", package = \"dslabs\")\n\nfilename &lt;- \"life-expectancy-and-fertility-two-countries-example.csv\"\nfilename &lt;-  file.path(path, filename)\n\nraw_dat &lt;- read_csv(filename)\nselect(raw_dat, 1:5)\n\n# A tibble: 2 × 5\n  country     `1960_fertility` `1960_life_expectancy` `1961_fertility`\n  &lt;chr&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;            &lt;dbl&gt;\n1 Germany                 2.41                   69.3             2.44\n2 South Korea             6.16                   53.0             5.99\n# ℹ 1 more variable: `1961_life_expectancy` &lt;dbl&gt;\n\n\n\nThe data is in wide format.\nincludes values for two variables, fertility and life expectancy, in two years"
  },
  {
    "objectID": "slides/09-tidyr.html#example-pivot_longer",
    "href": "slides/09-tidyr.html#example-pivot_longer",
    "title": "Tidying data",
    "section": "Example: pivot_longer",
    "text": "Example: pivot_longer\n\nWe start with the pivot_longer function, but we should no longer use the column name year for the new column since it also contains the variable type.\nWe will use the default name, for now:\n\n\nraw_dat |&gt; pivot_longer(-country) |&gt; head()\n\n# A tibble: 6 × 3\n  country name                 value\n  &lt;chr&gt;   &lt;chr&gt;                &lt;dbl&gt;\n1 Germany 1960_fertility        2.41\n2 Germany 1960_life_expectancy 69.3 \n3 Germany 1961_fertility        2.44\n4 Germany 1961_life_expectancy 69.8 \n5 Germany 1962_fertility        2.47\n6 Germany 1962_life_expectancy 70.0"
  },
  {
    "objectID": "slides/09-tidyr.html#example-chanllenge",
    "href": "slides/09-tidyr.html#example-chanllenge",
    "title": "Tidying data",
    "section": "Example: chanllenge",
    "text": "Example: chanllenge\n\nThe result is not exactly tidy since each observation is associated with two, not one, rows.\nWe want to have the values from the two variables, fertility and life expectancy, in two separate columns.\nThe first challenge to achieve this is to separate the name column into the year and the variable type."
  },
  {
    "objectID": "slides/09-tidyr.html#example-split-a-column-by-delim",
    "href": "slides/09-tidyr.html#example-split-a-column-by-delim",
    "title": "Tidying data",
    "section": "Example: Split a column by delim",
    "text": "Example: Split a column by delim\n\nEncoding multiple variables in a column name is such a common problem that the tidyr package includes function to separate these columns into two or more:\n\n\nraw_dat |&gt; \n  pivot_longer(-country) |&gt; \n  separate_wider_delim(name, delim = \"_\",  names = c(\"year\", \"name\"), \n                       too_many = \"merge\") |&gt; # merge the rest pieces into \"name\"\n  head()\n\n# A tibble: 6 × 4\n  country year  name            value\n  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;           &lt;dbl&gt;\n1 Germany 1960  fertility        2.41\n2 Germany 1960  life_expectancy 69.3 \n3 Germany 1961  fertility        2.44\n4 Germany 1961  life_expectancy 69.8 \n5 Germany 1962  fertility        2.47\n6 Germany 1962  life_expectancy 70.0"
  },
  {
    "objectID": "slides/09-tidyr.html#example-more-work-needed",
    "href": "slides/09-tidyr.html#example-more-work-needed",
    "title": "Tidying data",
    "section": "Example: More work needed",
    "text": "Example: More work needed\n\nBut we are not done yet.\nWe need to create a column for each variable and change year to a number.\nthe pivot_wider function can do this."
  },
  {
    "objectID": "slides/09-tidyr.html#example-pivot_wider",
    "href": "slides/09-tidyr.html#example-pivot_wider",
    "title": "Tidying data",
    "section": "Example: pivot_wider",
    "text": "Example: pivot_wider\n\ndat &lt;- raw_dat |&gt; \n  pivot_longer(-country) |&gt; \n  separate_wider_delim(name, delim = \"_\", \n                       names = c(\"year\", \"name\"), \n                       too_many = \"merge\") |&gt;\n  pivot_wider() |&gt; #used the default `name` and `value`\n  mutate(year = as.integer(year))\nhead(dat)\n\n# A tibble: 6 × 4\n  country  year fertility life_expectancy\n  &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;           &lt;dbl&gt;\n1 Germany  1960      2.41            69.3\n2 Germany  1961      2.44            69.8\n3 Germany  1962      2.47            70.0\n4 Germany  1963      2.49            70.1\n5 Germany  1964      2.49            70.7\n6 Germany  1965      2.48            70.6"
  },
  {
    "objectID": "slides/09-tidyr.html#example-plot-using-the-tidy-data",
    "href": "slides/09-tidyr.html#example-plot-using-the-tidy-data",
    "title": "Tidying data",
    "section": "Example: plot using the tidy data",
    "text": "Example: plot using the tidy data\nThe data is now is in tidy form\n\np1 &lt;- dat |&gt; ggplot(aes(year, fertility, color = country)) + geom_line(show.legend = FALSE)\np2 &lt;- dat |&gt; ggplot(aes(year, life_expectancy, color = country)) + geom_line()\ngridExtra::grid.arrange(p1, p2, ncol = 2, widths = c(3,4)) # left:right (width)=3:4"
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling",
    "text": "Data Wrangling\n\nData wrangling is the process of processing data from it’s original state into a form that permits us to focus on analysis.\nTidy data is such an example\nother forms such as matrices."
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling-1",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling-1",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nWe will discuss five concepts/tools considered essential for data wrangling:\n\nImporting data from files\nREST (Representational State Transfer) APIs: interact with a web server via HTTP\nJoining tables\nhtml parsing\nworking with dates and times\nlocales"
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling-2",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling-2",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nData wrangling can involve several complicated steps such as:\n\nextracting data from a file,\nconverting nested key-value pairs into a data frame,\nintegrating data from different source, and\nconstructing requests for data bases."
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling-3",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling-3",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nToday we briefly discuss five concepts/tools considered essential for data wrangling:\n\nImporting data from files\nRESTful APIs\nJoining tables\nhtml parsing\nworking with dates and times\nlocales"
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling-4",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling-4",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling",
    "text": "Data Wrangling\n\nWe barely scratch the surface on these topics.\nRarely are all these relevant for a single analysis.\nYou will likely face them all at some point.\nLecture goal is to make you aware of challenges, tools to tackle them, and help you learn how to learn more."
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#further-learning",
    "href": "slides/10-intro-to-wrangling.html#further-learning",
    "title": "Introduction to Wrangling",
    "section": "Further learning",
    "text": "Further learning\n\nSQL widely used in data-intensive industries to manage and manipulate large databases.\nIn R, dplyr functions like filter, select, and the joins mirror SQL operations.\nRecommended SQL Resources: W3Schools, Codecademy, Khan Academy, and SQLZoo"
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#raw-data",
    "href": "slides/10-intro-to-wrangling.html#raw-data",
    "title": "Introduction to Wrangling",
    "section": "Raw data",
    "text": "Raw data\n\nvery rarely in a data science project a data set is already in tidy format.\nOften data is in a file, a database, or extracted from a document, including web pages, tweets, or PDFs.\nAs a result, data might be unstructured in complex ways."
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling-tasks",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling-tasks",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling Tasks",
    "text": "Data Wrangling Tasks\nData wrangling can involve several complicated steps such as:\n\nextracting data from a file,\nhandling missing values\ncleaning data to have desired format/data type\nconverting nested key-value pairs into a data frame,\nintegrating data from different source, and\nconstructing requests for data bases."
  },
  {
    "objectID": "slides/11-importing-files.html#importing-data",
    "href": "slides/11-importing-files.html#importing-data",
    "title": "Importing files",
    "section": "Importing data",
    "text": "Importing data\nTo import data we need to:\n\nIdentify the file’s location.\nKnow what function or parsers to use.\n\nFor the second step it helps to know the file type and encoding."
  },
  {
    "objectID": "slides/11-importing-files.html#importing-data-1",
    "href": "slides/11-importing-files.html#importing-data-1",
    "title": "Importing files",
    "section": "Importing data",
    "text": "Importing data\nTo import data we need to:\n\nIdentify the file’s location.\nKnow what function or parsers to use.\n\nFor the second step it helps to know the file type and encoding."
  },
  {
    "objectID": "slides/11-importing-files.html#file-types",
    "href": "slides/11-importing-files.html#file-types",
    "title": "Importing files",
    "section": "File types",
    "text": "File types\n\nFiles can generally be classified into two categories: text and binary."
  },
  {
    "objectID": "slides/11-importing-files.html#text-files",
    "href": "slides/11-importing-files.html#text-files",
    "title": "Importing files",
    "section": "Text files",
    "text": "Text files\n\ncommon data text file format: .csv\nscript files: .r, .qmd\n\n\ndir &lt;- system.file(package = \"dslabs\") \nfile_path &lt;- file.path(dir, \"extdata/murders.csv\") \nfile.copy(file_path, \"murders.csv\") \n\n[1] TRUE\n\n# file.copy(from, to), returns TRUE/FALSE (success/failure)"
  },
  {
    "objectID": "slides/11-importing-files.html#text-files-1",
    "href": "slides/11-importing-files.html#text-files-1",
    "title": "Importing files",
    "section": "Text files",
    "text": "Text files\n\nAn advantage of text files is that we can easily “look” at them without having to purchase any kind of special software or follow complicated instructions.\nExercise:\n\ncopy murders.csv into your working directory and examine it with less.\nThen try the Open file RStudio tool."
  },
  {
    "objectID": "slides/11-importing-files.html#text-files-2",
    "href": "slides/11-importing-files.html#text-files-2",
    "title": "Importing files",
    "section": "Text files",
    "text": "Text files\n\nLine breaks are used to separate rows and a delimiter to separate columns within a row.\nThe most common delimiters are comma (,), semicolon (;), space (), and tab (\\t).\nDifferent parsers are used to read these files, so we need to know what delimiter was used.\nIn some cases, the delimiter can be inferred from file suffix: csv, tsv, for example.\nBut we recommend looking at the file rather than inferring from the suffix."
  },
  {
    "objectID": "slides/11-importing-files.html#text-files-3",
    "href": "slides/11-importing-files.html#text-files-3",
    "title": "Importing files",
    "section": "Text files",
    "text": "Text files\n\nIn R, you can look at any number of lines from within R using the readLines function:\n\n\nreadLines(\"murders.csv\", n = 3) \n\n[1] \"state,abb,region,population,total\" \"Alabama,AL,South,4779736,135\"     \n[3] \"Alaska,AK,West,710231,19\""
  },
  {
    "objectID": "slides/11-importing-files.html#binary-files",
    "href": "slides/11-importing-files.html#binary-files",
    "title": "Importing files",
    "section": "Binary files",
    "text": "Binary files\n\nOpening image files such as jpg or png in a text editor or using readLines in R will not show comprehensible content: these are binary files.\nbinary files have many formats specific to their data type, are not human readable\nR’s readBin function can process any binary file"
  },
  {
    "objectID": "slides/11-importing-files.html#r-base-parsers",
    "href": "slides/11-importing-files.html#r-base-parsers",
    "title": "Importing files",
    "section": "R Base Parsers",
    "text": "R Base Parsers\n\nread.table(\"murders.csv\", sep = \"\\t\") |&gt; head(2) #wrong delimiter\n\n                                 V1\n1 state,abb,region,population,total\n2      Alabama,AL,South,4779736,135\n\nread.csv(\"murders.csv\") |&gt; head(2)\n\n    state abb region population total\n1 Alabama  AL  South    4779736   135\n2  Alaska  AK   West     710231    19\n\n\nCompare the difference."
  },
  {
    "objectID": "slides/11-importing-files.html#readr-parsers",
    "href": "slides/11-importing-files.html#readr-parsers",
    "title": "Importing files",
    "section": "readr Parsers",
    "text": "readr Parsers\nreadr provides alternatives that produce tibbles:\n\nlibrary(readr)\nread_csv(\"murders.csv\") |&gt; head(2)\n\n# A tibble: 2 × 5\n  state   abb   region population total\n  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Alabama AL    South     4779736   135\n2 Alaska  AK    West       710231    19\n\nread_delim(\"murders.csv\", delim = \"\\t\") |&gt; head(2) #incorrect delimiter\n\n# A tibble: 2 × 1\n  `state,abb,region,population,total`\n  &lt;chr&gt;                              \n1 Alabama,AL,South,4779736,135       \n2 Alaska,AK,West,710231,19"
  },
  {
    "objectID": "slides/11-importing-files.html#readr-parsers-1",
    "href": "slides/11-importing-files.html#readr-parsers-1",
    "title": "Importing files",
    "section": "readr Parsers",
    "text": "readr Parsers\n\n\n\n\n\n\n\n\nFunction\nFormat\nSuffix\n\n\n\n\nread_table\nwhite space separated values\ntxt\n\n\nread_csv\ncomma separated values\ncsv\n\n\nread_csv2\nsemicolon separated values\ncsv\n\n\nread_tsv\ntab separated values\ntsv\n\n\nread_delim\nmust define delimiter\ntxt\n\n\nread_lines\nsimilar to readLines\nany file"
  },
  {
    "objectID": "slides/11-importing-files.html#readxl-parsers",
    "href": "slides/11-importing-files.html#readxl-parsers",
    "title": "Importing files",
    "section": "readxl Parsers",
    "text": "readxl Parsers\nFor Excel files can use the readxl package.\n\nlibrary(readxl)\nfn &lt;- file.path(dir, \"extdata/2010_bigfive_regents.xls\") \nread_xls(fn) |&gt; head(2)\n\n# A tibble: 2 × 6\n  label     `INTEGRATED ALGEBRA` `GLOBAL HISTORY` `LIVING ENVIRONMENT` ENGLISH\n  &lt;chr&gt;                    &lt;dbl&gt;            &lt;dbl&gt;                &lt;dbl&gt;   &lt;dbl&gt;\n1 test_year                 2010             2010                 2010    2010\n2 Scores                  131024           113804               104201  103886\n# ℹ 1 more variable: `U.S. HISTORY` &lt;dbl&gt;"
  },
  {
    "objectID": "slides/11-importing-files.html#readxl-parsers-1",
    "href": "slides/11-importing-files.html#readxl-parsers-1",
    "title": "Importing files",
    "section": "readxl Parsers",
    "text": "readxl Parsers\nYou can read specific sheets and see them using\n\nexcel_sheets(fn)\n\n[1] \"Sheet1\" \"Sheet2\" \"Sheet3\"\n\n\nNote that read_xls has a sheet argument."
  },
  {
    "objectID": "slides/11-importing-files.html#readxl-parsers-2",
    "href": "slides/11-importing-files.html#readxl-parsers-2",
    "title": "Importing files",
    "section": "readxl Parsers",
    "text": "readxl Parsers\n\n\n\n\n\n\n\n\nFunction\nFormat\nSuffix\n\n\n\n\nread_excel\nauto detect the format\nxls, xlsx\n\n\nread_xls\noriginal format\nxls\n\n\nread_xlsx\nnew format\nxlsx\n\n\nexcel_sheets\ndetects sheets\nxls, xlsx"
  },
  {
    "objectID": "slides/11-importing-files.html#data.table-parsers",
    "href": "slides/11-importing-files.html#data.table-parsers",
    "title": "Importing files",
    "section": "data.table Parsers",
    "text": "data.table Parsers\nThe data.table package provide a very fast parser:\n\nlibrary(data.table)\nx &lt;- fread(\"murders.csv\")\nclass(x)\n\n[1] \"data.table\" \"data.frame\"\n\n\nNote: It returns a file in data.table format which we have mentioned but not explained."
  },
  {
    "objectID": "slides/11-importing-files.html#scan",
    "href": "slides/11-importing-files.html#scan",
    "title": "Importing files",
    "section": "scan",
    "text": "scan\n\nThe scan function is the most general parser.\nIt will read in any text file and return a vector so you are on your own coverting it to a data frame.\nBecause it returns a vector, you need to tell it in advance what data type to expect:\n\n\nscan(\"murders.csv\", what = \"c\", sep = \",\", n = 10)\n\n [1] \"state\"      \"abb\"        \"region\"     \"population\" \"total\"     \n [6] \"Alabama\"    \"AL\"         \"South\"      \"4779736\"    \"135\"       \n\n\n\nIt can also be used to read from the console. Try typing scan(). Hit return to stop."
  },
  {
    "objectID": "slides/11-importing-files.html#encoding",
    "href": "slides/11-importing-files.html#encoding",
    "title": "Importing files",
    "section": "Encoding",
    "text": "Encoding\n\nWe can now see that the characters in the header were read in correctly:\n\n\ndat\n\n# A tibble: 7 × 4\n  nombre   f.n.                     estampa             puntuación\n  &lt;chr&gt;    &lt;chr&gt;                    &lt;dttm&gt;                   &lt;dbl&gt;\n1 Beyoncé  04 de septiembre de 1981 2023-09-22 02:11:02        875\n2 Blümchen 20 de abril de 1980      2023-09-22 03:23:05        990\n3 João     10 de junio de 1931      2023-09-21 22:43:28        989\n4 López    24 de julio de 1969      2023-09-22 01:06:59        887\n5 Ñengo    15 de diciembre de 1981  2023-09-21 23:35:37        931\n6 Plácido  24 de enero de 1941      2023-09-21 23:17:21        887\n7 Thalía   26 de agosto de 1971     2023-09-21 23:08:02        830"
  },
  {
    "objectID": "slides/11-importing-files.html#encoding-1",
    "href": "slides/11-importing-files.html#encoding-1",
    "title": "Importing files",
    "section": "Encoding",
    "text": "Encoding\n\nThe readr parsers permit us to specify an encoding.\nIt also includes a function that tries to guess the encoding:\n\n\nguess_encoding(\"murders.csv\") \n\n# A tibble: 1 × 2\n  encoding confidence\n  &lt;chr&gt;         &lt;dbl&gt;\n1 ASCII             1\n\nguess_encoding(\"calificaciones.csv\") \n\n# A tibble: 3 × 2\n  encoding   confidence\n  &lt;chr&gt;           &lt;dbl&gt;\n1 ISO-8859-1       0.92\n2 ISO-8859-2       0.72\n3 ISO-8859-9       0.53"
  },
  {
    "objectID": "slides/11-importing-files.html#encoding-2",
    "href": "slides/11-importing-files.html#encoding-2",
    "title": "Importing files",
    "section": "Encoding",
    "text": "Encoding\n\nOnce we know the encoding we can specify it through the locale argument:\n\n\ndat &lt;- read_csv(\"calificaciones.csv\", show_col_types = FALSE, \n                locale = locale(encoding = \"ISO-8859-1\")) \n\n\nWe learn about locales in later."
  },
  {
    "objectID": "slides/11-importing-files.html#encoding-3",
    "href": "slides/11-importing-files.html#encoding-3",
    "title": "Importing files",
    "section": "Encoding",
    "text": "Encoding\n\nWe can now see that the characters in the header were read in correctly:\n\n\ndat\n\n# A tibble: 7 × 4\n  nombre   f.n.                     estampa             puntuación\n  &lt;chr&gt;    &lt;chr&gt;                    &lt;dttm&gt;                   &lt;dbl&gt;\n1 Beyoncé  04 de septiembre de 1981 2023-09-22 02:11:02        875\n2 Blümchen 20 de abril de 1980      2023-09-22 03:23:05        990\n3 João     10 de junio de 1931      2023-09-21 22:43:28        989\n4 López    24 de julio de 1969      2023-09-22 01:06:59        887\n5 Ñengo    15 de diciembre de 1981  2023-09-21 23:35:37        931\n6 Plácido  24 de enero de 1941      2023-09-21 23:17:21        887\n7 Thalía   26 de agosto de 1971     2023-09-21 23:08:02        830"
  },
  {
    "objectID": "slides/11-importing-files.html#encoding-4",
    "href": "slides/11-importing-files.html#encoding-4",
    "title": "Importing files",
    "section": "Encoding",
    "text": "Encoding\n\nOnce we know the encoding we can specify it through the locale argument:\n\n\ndat &lt;- read_csv(\"calificaciones.csv\", show_col_types = FALSE, \n                locale = locale(encoding = \"ISO-8859-1\")) \n\n\nWe learn about locales in later."
  },
  {
    "objectID": "slides/11-importing-files.html#encoding-5",
    "href": "slides/11-importing-files.html#encoding-5",
    "title": "Importing files",
    "section": "Encoding",
    "text": "Encoding\n\nWe can now see that the characters in the header were read in correctly:\n\n\ndat\n\n# A tibble: 7 × 4\n  nombre   f.n.                     estampa             puntuación\n  &lt;chr&gt;    &lt;chr&gt;                    &lt;dttm&gt;                   &lt;dbl&gt;\n1 Beyoncé  04 de septiembre de 1981 2023-09-22 02:11:02        875\n2 Blümchen 20 de abril de 1980      2023-09-22 03:23:05        990\n3 João     10 de junio de 1931      2023-09-21 22:43:28        989\n4 López    24 de julio de 1969      2023-09-22 01:06:59        887\n5 Ñengo    15 de diciembre de 1981  2023-09-21 23:35:37        931\n6 Plácido  24 de enero de 1941      2023-09-21 23:17:21        887\n7 Thalía   26 de agosto de 1971     2023-09-21 23:08:02        830"
  },
  {
    "objectID": "slides/11-importing-files.html#downloading-files",
    "href": "slides/11-importing-files.html#downloading-files",
    "title": "Importing files",
    "section": "Downloading files",
    "text": "Downloading files\n\ndownload.file(url, \"murders.csv\") \n\n\nThis will download the file and save it on your system with the name murders.csv.\nYou can use any name here, not necessarily murders.csv.\n\n\n\n\n\n\n\nWarning\n\n\nThe function download.file overwrites existing files without warning."
  },
  {
    "objectID": "slides/11-importing-files.html#downloading-files-1",
    "href": "slides/11-importing-files.html#downloading-files-1",
    "title": "Importing files",
    "section": "Downloading files",
    "text": "Downloading files\n\nTwo functions that are sometimes useful when downloading data from the internet are tempdir and tempfile.\n\n\ntmp_filename &lt;- tempfile() \ndownload.file(url, tmp_filename) \ndat &lt;- read_csv(tmp_filename) \nfile.remove(tmp_filename)"
  },
  {
    "objectID": "slides/11-importing-files.html#downloading-files-2",
    "href": "slides/11-importing-files.html#downloading-files-2",
    "title": "Importing files",
    "section": "Downloading files",
    "text": "Downloading files\n\n\n\n\n\n\nWarning\n\n\nThe function download.file overwrites existing files without warning.\n\n\n\n\nTwo functions that are sometimes useful when downloading data from the internet are tempdir and tempfile.\n\n\ntmp_filename &lt;- tempfile() \ndownload.file(url, tmp_filename) \ndat &lt;- read_csv(tmp_filename) \nfile.remove(tmp_filename)"
  },
  {
    "objectID": "slides/11-importing-files.html#advantages-of-text-files",
    "href": "slides/11-importing-files.html#advantages-of-text-files",
    "title": "Importing files",
    "section": "Advantages of text files",
    "text": "Advantages of text files\n\nAn advantage of text files is that we can easily view its content.\nExercise:\n\ncopy murders.csv into your working directory and examine it with less.\nThen try the Open file RStudio tool."
  },
  {
    "objectID": "slides/11-importing-files.html#line-breaks-and-delimters",
    "href": "slides/11-importing-files.html#line-breaks-and-delimters",
    "title": "Importing files",
    "section": "Line breaks and delimters",
    "text": "Line breaks and delimters\n\nLine breaks are used to separate rows\na delimiter to separate columns within a row.\nThe most common delimiters are comma (,), semicolon (;), space (), and tab (\\t).\nwe need to know what delimiter was used to choose a parser to read a file; The same file can be read by multiple parsers.\nIn some cases, the delimiter can be inferred from file extension: csv, tsv"
  },
  {
    "objectID": "slides/11-importing-files.html#readlines",
    "href": "slides/11-importing-files.html#readlines",
    "title": "Importing files",
    "section": "readLines",
    "text": "readLines\n\nreadLines(\"murders.csv\", n = 3) \n\n[1] \"state,abb,region,population,total\" \"Alabama,AL,South,4779736,135\"     \n[3] \"Alaska,AK,West,710231,19\""
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#data-wrangling-steps",
    "href": "slides/10-intro-to-wrangling.html#data-wrangling-steps",
    "title": "Introduction to Wrangling",
    "section": "Data Wrangling Steps",
    "text": "Data Wrangling Steps\nData wrangling can involve several complicated steps such as:\n\nextracting data from a file\nhandling missing values\ncleaning data to have desired format/data type\nconverting nested key-value pairs into a data frame\nintegrating data from different source, and\nconstructing requests for data bases."
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#five-concepts-of-data-wrangling",
    "href": "slides/10-intro-to-wrangling.html#five-concepts-of-data-wrangling",
    "title": "Introduction to Wrangling",
    "section": "Five concepts of data wrangling",
    "text": "Five concepts of data wrangling\n\nImporting data from files\nREST (Representational State Transfer) APIs: interact with a web server via HTTP\nJoining tables\nhtml parsing\nworking with dates and times\nlocales"
  },
  {
    "objectID": "slides/10-intro-to-wrangling.html#sql-and-further-learning",
    "href": "slides/10-intro-to-wrangling.html#sql-and-further-learning",
    "title": "Introduction to Wrangling",
    "section": "SQL and further learning",
    "text": "SQL and further learning\n\nSQL widely used in data-intensive industries to manage and manipulate large databases.\nIn R, dplyr functions like filter, select, and the joins mirror SQL operations.\nSQL Resources: W3Schools, Codecademy, Khan Academy, and SQLZoo"
  },
  {
    "objectID": "slides/02-rstudio.html#the-header",
    "href": "slides/02-rstudio.html#the-header",
    "title": "RStudio IDE and Quarto",
    "section": "The header",
    "text": "The header\n\nStart a new empty document.\nAt the top you see:\n\n\n---\ntitle: \"Untitled\"\n---\n\n\nThe things between the --- are the YAML header.\nQuarto guide.",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#quick-markdown-text-formating",
    "href": "slides/02-rstudio.html#quick-markdown-text-formating",
    "title": "RStudio IDE and Quarto",
    "section": "Quick Markdown Text formating",
    "text": "Quick Markdown Text formating\n*italics* or _italics_ = italics\n**bold** = bold\n***bold italics*** = bold italics\n~~strikethrough~~ = strikethrough\n`code` = code",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#code-chunk",
    "href": "slides/02-rstudio.html#code-chunk",
    "title": "RStudio IDE and Quarto",
    "section": "Code chunk",
    "text": "Code chunk\nThis:\n```\nline 1\nline 2\n```\nshows a code chunk:\nline 1\nline 2",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#links",
    "href": "slides/02-rstudio.html#links",
    "title": "RStudio IDE and Quarto",
    "section": "Links",
    "text": "Links\n\nShow the link: &lt;https://quarto.org/docs/guide/&gt;\nAdd link to text: [Quarto Guide](https://quarto.org/docs/guide/)\n\nLooks like this:\nhttps://quarto.org/docs/guide/\nQuarto Guide",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#images",
    "href": "slides/02-rstudio.html#images",
    "title": "RStudio IDE and Quarto",
    "section": "Images",
    "text": "Images\n![Introductory Statistics with R](https://m.media-amazon.com/images/I/51gZOXbaNnL._AC_UF1000,1000_QL80_.jpg)\nShows the plot and caption:\n\nIntroductory Statistics with R\nThe image can also be a local file (replacing the html link with the path to the image.)",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#unordered-lists",
    "href": "slides/02-rstudio.html#unordered-lists",
    "title": "RStudio IDE and Quarto",
    "section": "Unordered Lists",
    "text": "Unordered Lists\nBullets:\n-   bullet 1\n    -   sub-bullet 1\n    -   sub-bullet 2\n-   bullet 2\nLooks like this:\n\nbullet 1\n\nsub-bullet 1\nsub-bullet 2\n\nbullet 2",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#ordered-lists",
    "href": "slides/02-rstudio.html#ordered-lists",
    "title": "RStudio IDE and Quarto",
    "section": "Ordered Lists",
    "text": "Ordered Lists\nOrdered list:\n1.  Item 1\n2.  Item 2\nLooks like this:\n\nItem 1\nItem 2",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#equations",
    "href": "slides/02-rstudio.html#equations",
    "title": "RStudio IDE and Quarto",
    "section": "Equations",
    "text": "Equations\n\n\n\n\n\n\n\nNote\n\n\nTechnical report often uses LaTeX for typesetting.\nThere are many online tutorials, like this one.",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#equations-using-latex.",
    "href": "slides/02-rstudio.html#equations-using-latex.",
    "title": "RStudio IDE and Quarto",
    "section": "Equations using LaTeX.",
    "text": "Equations using LaTeX.\nExamples:\n\nInline: $Y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i$ looks like this \\(Y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i\\)\nDisplay math:\n\n$$\n\\mathbf{Y} = \\mathbf{X\\beta} + \\mathbf{\\varepsilon}\n$$\nlooks like this:\n\\[\n\\mathbf{Y} = \\mathbf{X\\beta} + \\mathbf{\\varepsilon}\n\\]",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#code-in-quarto-document-.qmd-or-rmarkdown-.rmd",
    "href": "slides/02-rstudio.html#code-in-quarto-document-.qmd-or-rmarkdown-.rmd",
    "title": "RStudio IDE and Quarto",
    "section": "Code in Quarto document .qmd (or RMarkdown .rmd)",
    "text": "Code in Quarto document .qmd (or RMarkdown .rmd)\nOne can include and execute the code chunks in .qmd document by\n```{r}\n# R code here, e.g.\n2+3\n```\n\n\n\n\n\n\nNote\n\n\nTo add an R chunks, type the shortcut key binding command-option-I on the Mac and Ctrl-Alt-I on Windows.",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#r-code-chuns",
    "href": "slides/02-rstudio.html#r-code-chuns",
    "title": "RStudio IDE and Quarto",
    "section": "R Code Chuns",
    "text": "R Code Chuns\nWe can write something like this:\n```{r}\nx &lt;- 1\ny &lt;- 2\nx + y\n```\nIt looks like this:\n\n\n[1] 3\n\n\nNote that it was evaluated and the result is shown.",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#computations",
    "href": "slides/02-rstudio.html#computations",
    "title": "RStudio IDE and Quarto",
    "section": "Computations",
    "text": "Computations\n\nBy default, the code and result will show up.\nYou can send arguments to control the behavior with #|\nFor example, to avoid showing code in the final document, use echo: FALSE.\n\n```{r}\n#| echo: false\nx &lt;- 1\ny &lt;- 2\nx + y\n```",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#computations-1",
    "href": "slides/02-rstudio.html#computations-1",
    "title": "RStudio IDE and Quarto",
    "section": "Computations",
    "text": "Computations\n\nThere are many options (auto-complete shows them).\nFor example, to avoid executing the code use eval: FALSE.\nTo avoid showing warnings warning: FALSE, to avoid showing messages message: FALSE.\n\n\n\n\n\n\n\nNote\n\n\nto apply an option globally, these can be set globally in the header.\nexecute:\n  echo: false",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#computations-2",
    "href": "slides/02-rstudio.html#computations-2",
    "title": "RStudio IDE and Quarto",
    "section": "Computations",
    "text": "Computations\n\nWe recommend getting into the habit of labeling code chunks:\n\n```{r}\n#| label: one-plus-two\nx &lt;- 1\ny &lt;- 2\nx + y\n```\n\nHelps with debugging\nHelps reading the code",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#more-on-markdown",
    "href": "slides/02-rstudio.html#more-on-markdown",
    "title": "RStudio IDE and Quarto",
    "section": "More on markdown",
    "text": "More on markdown\n\nRStudio’s tutorial: https://quarto.org/docs/get-started/hello/rstudio.html\nThe knitR book: https://yihui.name/knitr/\nPandoc’s Markdown in-depth documentation\nGuide for academic reports\nRMarkdwon Cheatsheet",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#quarto-render",
    "href": "slides/02-rstudio.html#quarto-render",
    "title": "RStudio IDE and Quarto",
    "section": "Quarto render",
    "text": "Quarto render\n\nRStudio provided Render button to compile the document.\nquarto render filename.qmd in a terminal renders single qmd file.\nquarto render renders all qmd files.\nYou can produce html, pdf, or word documents.\nYou can specify the default in the YAML header using: format: html, format: pdf,format: docx, or format: gfm (GitHub flavored markdown).",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/11-importing-files.html#data.table-fast-parsers",
    "href": "slides/11-importing-files.html#data.table-fast-parsers",
    "title": "Importing files",
    "section": "data.table fast Parsers",
    "text": "data.table fast Parsers\n\nlibrary(data.table)\nx &lt;- fread(\"murders.csv\")\nclass(x)\n\n[1] \"data.table\" \"data.frame\"\n\n\n\nAn R object can have multiple classes. data.table is compatible with data.frame. The object x has both data.frame and data.table behavior.\ndata.table core syntax DT[i,j,by]\n\ni: filter rows; j: compute/select columns; by: group\n\n\n\nx[region == \"South\", .(avg_total = mean(total)), by = state] |&gt; head(2)  # `.` alias for list()\n\n      state avg_total\n1:  Alabama       135\n2: Arkansas        93\n\n\n\ndata.table can modify columns inplace (no copyig) using :=\n\n\nx[, pop_millions := population/1e6]"
  },
  {
    "objectID": "slides/11-importing-files.html#scan-lower-level-base-r",
    "href": "slides/11-importing-files.html#scan-lower-level-base-r",
    "title": "Importing files",
    "section": "scan (lower-level base R)",
    "text": "scan (lower-level base R)\n\nThe scan function is the most general parser.\nIt will read in any text file and return a vector so you are on your own coverting it to a data frame.\nBecause it returns a vector, you need to tell it in advance what data type to expect:\n\n\nscan(\"murders.csv\", what = \"c\", sep = \",\", n = 10) #c: as char. \n\n [1] \"state\"      \"abb\"        \"region\"     \"population\" \"total\"     \n [6] \"Alabama\"    \"AL\"         \"South\"      \"4779736\"    \"135\"       \n\n# read the first 10 items"
  },
  {
    "objectID": "slides/11-importing-files.html#encoding-ascii",
    "href": "slides/11-importing-files.html#encoding-ascii",
    "title": "Importing files",
    "section": "Encoding: ASCII",
    "text": "Encoding: ASCII\nhttps://rafalab.dfci.harvard.edu/dsbook-part-1/wrangling/locales.html\n\nComputer translates everything into 0s and 1s.\nASCII is an encoding system that assigns specific numbers to characters.\nUsing 7 bits, ASCII can represent \\(2^7 = 128\\) unique symbols, sufficient for all English keyboard characters.\nHowever, many global languages contain characters outside ASCII’s range."
  },
  {
    "objectID": "slides/11-importing-files.html#unicode-transoformation-format-utf",
    "href": "slides/11-importing-files.html#unicode-transoformation-format-utf",
    "title": "Importing files",
    "section": "Unicode Transoformation Format (UTF)",
    "text": "Unicode Transoformation Format (UTF)\n\nFor instance, the é in “México” isn’t in ASCII’s catalog.\nTo address this, broader encodings emerged.\nUnicode (all writing systems + symbols) offers variations using 8, 16, or 32 bits, known as UTF-8, UTF-16, and UTF-32.\nRStudio typically uses UTF-8 as its default.\nASCII is a subset of UTF-8, if a file is ASCII-encoded, presuming it’s UTF-8 encoded won’t cause issues."
  },
  {
    "objectID": "slides/11-importing-files.html#other-encodings",
    "href": "slides/11-importing-files.html#other-encodings",
    "title": "Importing files",
    "section": "Other Encodings",
    "text": "Other Encodings\n\nHowever, there other encodings, such as ISO-8859-1 (also known as Latin-1) developed for the western European languages (Spanish accents like á, é, ñ), Big5 for Traditional Chinese, and ISO-8859-6 for Arabic.\n\n\nfn &lt;- \"calificaciones.csv\" \nfile.copy(file.path(system.file(\"extdata\", package = \"dslabs\"), fn), fn) \n\n[1] TRUE\n\nreadLines(fn, n = 1) #return the first line\n\n[1] \"\\\"nombre\\\",\\\"f.n.\\\",\\\"estampa\\\",\\\"puntuaci\\xf3n\\\"\""
  },
  {
    "objectID": "slides/11-importing-files.html#guess_encoding",
    "href": "slides/11-importing-files.html#guess_encoding",
    "title": "Importing files",
    "section": "guess_encoding",
    "text": "guess_encoding\n\nThe readr parsers permit us to specify an encoding.\nIt also includes a function that tries to guess the encoding:\n\n\nguess_encoding(\"murders.csv\") \n\n# A tibble: 1 × 2\n  encoding confidence\n  &lt;chr&gt;         &lt;dbl&gt;\n1 ASCII             1\n\nguess_encoding(\"calificaciones.csv\") \n\n# A tibble: 3 × 2\n  encoding   confidence\n  &lt;chr&gt;           &lt;dbl&gt;\n1 ISO-8859-1       0.92\n2 ISO-8859-2       0.72\n3 ISO-8859-9       0.53"
  },
  {
    "objectID": "slides/11-importing-files.html#specify-locale",
    "href": "slides/11-importing-files.html#specify-locale",
    "title": "Importing files",
    "section": "Specify locale",
    "text": "Specify locale\n\nOnce we know the encoding we can specify it through the locale argument:\n\n\ndat &lt;- read_csv(\"calificaciones.csv\", show_col_types = FALSE, #suppress col info\n                locale = locale(encoding = \"ISO-8859-1\")) \ndat\n\n# A tibble: 7 × 4\n  nombre   f.n.                     estampa             puntuación\n  &lt;chr&gt;    &lt;chr&gt;                    &lt;dttm&gt;                   &lt;dbl&gt;\n1 Beyoncé  04 de septiembre de 1981 2023-09-22 02:11:02        875\n2 Blümchen 20 de abril de 1980      2023-09-22 03:23:05        990\n3 João     10 de junio de 1931      2023-09-21 22:43:28        989\n4 López    24 de julio de 1969      2023-09-22 01:06:59        887\n5 Ñengo    15 de diciembre de 1981  2023-09-21 23:35:37        931\n6 Plácido  24 de enero de 1941      2023-09-21 23:17:21        887\n7 Thalía   26 de agosto de 1971     2023-09-21 23:08:02        830"
  },
  {
    "objectID": "slides/11-importing-files.html#read-csv-directly-from-web",
    "href": "slides/11-importing-files.html#read-csv-directly-from-web",
    "title": "Importing files",
    "section": "Read csv directly from web",
    "text": "Read csv directly from web\n\nurl &lt;- paste0(\"https://raw.githubusercontent.com/\", \n              \"rafalab/dslabs/master/inst/extdata/murders.csv\") \nx &lt;- read.csv(url) \nx |&gt; head(3)\n\n    state abb region population total\n1 Alabama  AL  South    4779736   135\n2  Alaska  AK   West     710231    19\n3 Arizona  AZ   West    6392017   232\n\n\n\npaste0(): join strings with no separators"
  },
  {
    "objectID": "slides/11-importing-files.html#tempfile-and-tempdir",
    "href": "slides/11-importing-files.html#tempfile-and-tempdir",
    "title": "Importing files",
    "section": "tempfile and tempdir",
    "text": "tempfile and tempdir\n\ncreate temp file name or dir name\n\n\ntmp_filename &lt;- tempfile() \ntmp_filename\n\n[1] \"C:\\\\Users\\\\ywang2\\\\AppData\\\\Local\\\\Temp\\\\RtmpM7vSFr\\\\file3d741897f51\"\n\ndownload.file(url, tmp_filename) \ndat &lt;- read_csv(tmp_filename) \nfile.remove(tmp_filename) \n\n[1] TRUE"
  },
  {
    "objectID": "slides/12-dates-and-times.html#parsing-dates-and-times",
    "href": "slides/12-dates-and-times.html#parsing-dates-and-times",
    "title": "Dates And Times",
    "section": "Parsing dates and times",
    "text": "Parsing dates and times\n\nIf I tell you it’s November 2, 2017, you know what this means immediately.\nIf I tell you it’s day 17204, you will be quite confused.\nSimilar problems arise with times and even more complications can appear due to time zones.\nFor this reason, R defines a data type just for dates and times."
  },
  {
    "objectID": "slides/12-dates-and-times.html#parsing-dates-and-times-1",
    "href": "slides/12-dates-and-times.html#parsing-dates-and-times-1",
    "title": "Dates And Times",
    "section": "Parsing dates and times",
    "text": "Parsing dates and times\n\nIf I tell you it’s November 2, 2017, you know what this means immediately.\nIf I tell you it’s day 17204, you will be quite confused.\nSimilar problems arise with times and even more complications can appear due to time zones.\nFor this reason, R defines a data type just for dates and times."
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-date-data-type",
    "href": "slides/12-dates-and-times.html#the-date-data-type",
    "title": "Dates And Times",
    "section": "The date data type",
    "text": "The date data type\n\nlibrary(tidyverse) \nlibrary(dslabs) \npolls_us_election_2016$startdate |&gt; head() \n\n[1] \"2016-11-03\" \"2016-11-01\" \"2016-11-02\" \"2016-11-04\" \"2016-11-03\"\n[6] \"2016-11-03\"\n\n\n\nThe dates look like strings, but they are not:\n\n\nclass(polls_us_election_2016$startdate) \n\n[1] \"Date\"\n\n\n\nwhen we convert them to numbers:\n\n\nas.numeric(polls_us_election_2016$startdate) |&gt; head() \n\n[1] 17108 17106 17107 17109 17108 17108\n\n\n\nIt turns them into days since the epoch."
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-date-data-type-1",
    "href": "slides/12-dates-and-times.html#the-date-data-type-1",
    "title": "Dates And Times",
    "section": "The date data type",
    "text": "The date data type\n\nScatterplots use the numeric representation to assign positions, but include the string in the labels:\n\n\npolls_us_election_2016 |&gt; \n  filter(startdate &gt;= make_date(2016, 6, 1)) |&gt; #2026-06-01\n  filter(pollster == \"Ipsos\" & state == \"U.S.\") |&gt; \n  ggplot(aes(startdate, rawpoll_clinton)) + \n  geom_line()"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-date-data-type-2",
    "href": "slides/12-dates-and-times.html#the-date-data-type-2",
    "title": "Dates And Times",
    "section": "The date data type",
    "text": "The date data type\n\nCodePlot\n\n\nggplot offers convenient functions to change labels:\n\npolls_us_election_2016 |&gt; \n  filter(startdate &gt;= make_date(2016, 6, 1)) |&gt;\n  filter(pollster == \"Ipsos\" & state == \"U.S.\") |&gt; \n  ggplot(aes(startdate, rawpoll_clinton)) + \n  geom_line() +\n  scale_x_date(date_breaks = \"2 weeks\", date_labels = \"%b %d\") + \n  geom_vline(xintercept = as.Date(\"2016-10-28\"), linetype = \"dashed\")\n\n\nplace tick marks every two weeks on the x-axis (can be “1 month”, “3 day”)\n%b: abbreviated month (Jan, Feb)\nd: day of month (01-31)"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-date-data-type-3",
    "href": "slides/12-dates-and-times.html#the-date-data-type-3",
    "title": "Dates And Times",
    "section": "The date data type",
    "text": "The date data type\n\nCodePlot\n\n\nggplot offers convenient functions to change labels:\n\npolls_us_election_2016 |&gt; \n  filter(startdate &gt;= make_date(2016, 6, 1)) |&gt;\n  filter(pollster == \"Ipsos\" & state == \"U.S.\") |&gt; \n  ggplot(aes(startdate, rawpoll_clinton)) + \n  geom_line() +\n  scale_x_date(date_breaks = \"2 weeks\", date_labels = \"%b %d\") + \n  geom_vline(xintercept = as.Date(\"2016-10-28\"), linetype = \"dashed\")"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-date-data-type-4",
    "href": "slides/12-dates-and-times.html#the-date-data-type-4",
    "title": "Dates And Times",
    "section": "The date data type",
    "text": "The date data type\n\nCodePlot\n\n\nggplot offers convenient functions to change labels:\n\npolls_us_election_2016 |&gt; \n  filter(startdate &gt;= make_date(2016, 6, 1)) |&gt;\n  filter(pollster == \"Ipsos\" & state == \"U.S.\") |&gt; \n  ggplot(aes(startdate, rawpoll_clinton)) + \n  geom_line() +\n  scale_x_date(date_breaks = \"2 weeks\", date_labels = \"%b %d\") + \n  geom_vline(xintercept = as.Date(\"2016-10-28\"), linetype = \"dashed\")"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package",
    "href": "slides/12-dates-and-times.html#the-lubridate-package",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nThe lubridate package provides tools to work with date and times.\n\n\nlibrary(lubridate) \n\n\nset.seed(2002) \ndates &lt;- sample(polls_us_election_2016$startdate, 10) |&gt; sort() \n# default replace = FALSE\ndates \n\n [1] \"2016-05-31\" \"2016-08-08\" \"2016-08-19\" \"2016-09-22\" \"2016-09-27\"\n [6] \"2016-10-12\" \"2016-10-24\" \"2016-10-26\" \"2016-10-29\" \"2016-10-30\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-1",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-1",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nWe can also extract the month labels:\n\n\nmonth(dates, label = TRUE) \n\n [1] May Aug Aug Sep Sep Oct Oct Oct Oct Oct\n12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-2",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-2",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nCodePlot\n\n\n\nExample: group all the polls by week of the year:\n\n\npolls_us_election_2016 |&gt;  \n  mutate(week = round_date(startdate, \"week\")) |&gt; \n  group_by(week) |&gt; \n  summarize(margin = mean(rawpoll_clinton - rawpoll_trump)) |&gt; \n  ggplot(aes(week, margin)) + \n  geom_point()"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-3",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-3",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nWe can also extract hours, minutes, and seconds:\n\n\nnow() |&gt; hour() \n\n[1] 11\n\nnow() |&gt; minute() \n\n[1] 19\n\nnow() |&gt; second() \n\n[1] 20.46622"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-4",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-4",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nThe package also includes a function to parse strings into times as well as parsers for time objects that include dates:\n\n\nx &lt;- c(\"12:34:56\") \nhms(x) \n\n[1] \"12H 34M 56S\"\n\nx &lt;- \"Nov/2/2012 12:34:56\" \nmdy_hms(x) \n\n[1] \"2012-11-02 12:34:56 UTC\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-5",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-5",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nThe make_date function can be used to quickly create a date object.\nFor example, to create an date object representing, for example, July 6, 2019 we write:\n\n\nmake_date(2019, 7, 6) \n\n[1] \"2019-07-06\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-6",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-6",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nWe can use it to make vectors of dates.\nTo make a vector of January 1 for the 80s we write:\n\n\nmake_date(1980:1989) \n\n [1] \"1980-01-01\" \"1981-01-01\" \"1982-01-01\" \"1983-01-01\" \"1984-01-01\"\n [6] \"1985-01-01\" \"1986-01-01\" \"1987-01-01\" \"1988-01-01\" \"1989-01-01\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-7",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-7",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nAnother very useful function is round_date.\nIt can be used to round dates to nearest year, quarter, month, week, day, hour, minutes, or seconds."
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-8",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-8",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nCodePlot\n\n\n\nExample: if we want to group all the polls by week of the year we can do the following:\n\n\npolls_us_election_2016 |&gt;  \n  mutate(week = round_date(startdate, \"week\")) |&gt; \n  group_by(week) |&gt; \n  summarize(margin = mean(rawpoll_clinton - rawpoll_trump)) |&gt; \n  ggplot(aes(week, margin)) + \n  geom_point()"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-9",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-9",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nCodePlot\n\n\n\nExample: if we want to group all the polls by week of the year we can do the following:\n\n\npolls_us_election_2016 |&gt;  \n  mutate(week = round_date(startdate, \"week\")) |&gt; \n  group_by(week) |&gt; \n  summarize(margin = mean(rawpoll_clinton - rawpoll_trump)) |&gt; \n  ggplot(aes(week, margin)) + \n  geom_point()"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-10",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-10",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nYou can see all the available time zones with:\n\n\nOlsonNames()\n\n  [1] \"Africa/Abidjan\"                   \"Africa/Accra\"                    \n  [3] \"Africa/Addis_Ababa\"               \"Africa/Algiers\"                  \n  [5] \"Africa/Asmara\"                    \"Africa/Asmera\"                   \n  [7] \"Africa/Bamako\"                    \"Africa/Bangui\"                   \n  [9] \"Africa/Banjul\"                    \"Africa/Bissau\"                   \n [11] \"Africa/Blantyre\"                  \"Africa/Brazzaville\"              \n [13] \"Africa/Bujumbura\"                 \"Africa/Cairo\"                    \n [15] \"Africa/Casablanca\"                \"Africa/Ceuta\"                    \n [17] \"Africa/Conakry\"                   \"Africa/Dakar\"                    \n [19] \"Africa/Dar_es_Salaam\"             \"Africa/Djibouti\"                 \n [21] \"Africa/Douala\"                    \"Africa/El_Aaiun\"                 \n [23] \"Africa/Freetown\"                  \"Africa/Gaborone\"                 \n [25] \"Africa/Harare\"                    \"Africa/Johannesburg\"             \n [27] \"Africa/Juba\"                      \"Africa/Kampala\"                  \n [29] \"Africa/Khartoum\"                  \"Africa/Kigali\"                   \n [31] \"Africa/Kinshasa\"                  \"Africa/Lagos\"                    \n [33] \"Africa/Libreville\"                \"Africa/Lome\"                     \n [35] \"Africa/Luanda\"                    \"Africa/Lubumbashi\"               \n [37] \"Africa/Lusaka\"                    \"Africa/Malabo\"                   \n [39] \"Africa/Maputo\"                    \"Africa/Maseru\"                   \n [41] \"Africa/Mbabane\"                   \"Africa/Mogadishu\"                \n [43] \"Africa/Monrovia\"                  \"Africa/Nairobi\"                  \n [45] \"Africa/Ndjamena\"                  \"Africa/Niamey\"                   \n [47] \"Africa/Nouakchott\"                \"Africa/Ouagadougou\"              \n [49] \"Africa/Porto-Novo\"                \"Africa/Sao_Tome\"                 \n [51] \"Africa/Timbuktu\"                  \"Africa/Tripoli\"                  \n [53] \"Africa/Tunis\"                     \"Africa/Windhoek\"                 \n [55] \"America/Adak\"                     \"America/Anchorage\"               \n [57] \"America/Anguilla\"                 \"America/Antigua\"                 \n [59] \"America/Araguaina\"                \"America/Argentina/Buenos_Aires\"  \n [61] \"America/Argentina/Catamarca\"      \"America/Argentina/ComodRivadavia\"\n [63] \"America/Argentina/Cordoba\"        \"America/Argentina/Jujuy\"         \n [65] \"America/Argentina/La_Rioja\"       \"America/Argentina/Mendoza\"       \n [67] \"America/Argentina/Rio_Gallegos\"   \"America/Argentina/Salta\"         \n [69] \"America/Argentina/San_Juan\"       \"America/Argentina/San_Luis\"      \n [71] \"America/Argentina/Tucuman\"        \"America/Argentina/Ushuaia\"       \n [73] \"America/Aruba\"                    \"America/Asuncion\"                \n [75] \"America/Atikokan\"                 \"America/Atka\"                    \n [77] \"America/Bahia\"                    \"America/Bahia_Banderas\"          \n [79] \"America/Barbados\"                 \"America/Belem\"                   \n [81] \"America/Belize\"                   \"America/Blanc-Sablon\"            \n [83] \"America/Boa_Vista\"                \"America/Bogota\"                  \n [85] \"America/Boise\"                    \"America/Buenos_Aires\"            \n [87] \"America/Cambridge_Bay\"            \"America/Campo_Grande\"            \n [89] \"America/Cancun\"                   \"America/Caracas\"                 \n [91] \"America/Catamarca\"                \"America/Cayenne\"                 \n [93] \"America/Cayman\"                   \"America/Chicago\"                 \n [95] \"America/Chihuahua\"                \"America/Coral_Harbour\"           \n [97] \"America/Cordoba\"                  \"America/Costa_Rica\"              \n [99] \"America/Creston\"                  \"America/Cuiaba\"                  \n[101] \"America/Curacao\"                  \"America/Danmarkshavn\"            \n[103] \"America/Dawson\"                   \"America/Dawson_Creek\"            \n[105] \"America/Denver\"                   \"America/Detroit\"                 \n[107] \"America/Dominica\"                 \"America/Edmonton\"                \n[109] \"America/Eirunepe\"                 \"America/El_Salvador\"             \n[111] \"America/Ensenada\"                 \"America/Fort_Nelson\"             \n[113] \"America/Fort_Wayne\"               \"America/Fortaleza\"               \n[115] \"America/Glace_Bay\"                \"America/Godthab\"                 \n[117] \"America/Goose_Bay\"                \"America/Grand_Turk\"              \n[119] \"America/Grenada\"                  \"America/Guadeloupe\"              \n[121] \"America/Guatemala\"                \"America/Guayaquil\"               \n[123] \"America/Guyana\"                   \"America/Halifax\"                 \n[125] \"America/Havana\"                   \"America/Hermosillo\"              \n[127] \"America/Indiana/Indianapolis\"     \"America/Indiana/Knox\"            \n[129] \"America/Indiana/Marengo\"          \"America/Indiana/Petersburg\"      \n[131] \"America/Indiana/Tell_City\"        \"America/Indiana/Vevay\"           \n[133] \"America/Indiana/Vincennes\"        \"America/Indiana/Winamac\"         \n[135] \"America/Indianapolis\"             \"America/Inuvik\"                  \n[137] \"America/Iqaluit\"                  \"America/Jamaica\"                 \n[139] \"America/Jujuy\"                    \"America/Juneau\"                  \n[141] \"America/Kentucky/Louisville\"      \"America/Kentucky/Monticello\"     \n[143] \"America/Knox_IN\"                  \"America/Kralendijk\"              \n[145] \"America/La_Paz\"                   \"America/Lima\"                    \n[147] \"America/Los_Angeles\"              \"America/Louisville\"              \n[149] \"America/Lower_Princes\"            \"America/Maceio\"                  \n[151] \"America/Managua\"                  \"America/Manaus\"                  \n[153] \"America/Marigot\"                  \"America/Martinique\"              \n[155] \"America/Matamoros\"                \"America/Mazatlan\"                \n[157] \"America/Mendoza\"                  \"America/Menominee\"               \n[159] \"America/Merida\"                   \"America/Metlakatla\"              \n[161] \"America/Mexico_City\"              \"America/Miquelon\"                \n[163] \"America/Moncton\"                  \"America/Monterrey\"               \n[165] \"America/Montevideo\"               \"America/Montreal\"                \n[167] \"America/Montserrat\"               \"America/Nassau\"                  \n[169] \"America/New_York\"                 \"America/Nipigon\"                 \n[171] \"America/Nome\"                     \"America/Noronha\"                 \n[173] \"America/North_Dakota/Beulah\"      \"America/North_Dakota/Center\"     \n[175] \"America/North_Dakota/New_Salem\"   \"America/Nuuk\"                    \n[177] \"America/Ojinaga\"                  \"America/Panama\"                  \n[179] \"America/Pangnirtung\"              \"America/Paramaribo\"              \n[181] \"America/Phoenix\"                  \"America/Port-au-Prince\"          \n[183] \"America/Port_of_Spain\"            \"America/Porto_Acre\"              \n[185] \"America/Porto_Velho\"              \"America/Puerto_Rico\"             \n[187] \"America/Punta_Arenas\"             \"America/Rainy_River\"             \n[189] \"America/Rankin_Inlet\"             \"America/Recife\"                  \n[191] \"America/Regina\"                   \"America/Resolute\"                \n[193] \"America/Rio_Branco\"               \"America/Rosario\"                 \n[195] \"America/Santa_Isabel\"             \"America/Santarem\"                \n[197] \"America/Santiago\"                 \"America/Santo_Domingo\"           \n[199] \"America/Sao_Paulo\"                \"America/Scoresbysund\"            \n[201] \"America/Shiprock\"                 \"America/Sitka\"                   \n[203] \"America/St_Barthelemy\"            \"America/St_Johns\"                \n[205] \"America/St_Kitts\"                 \"America/St_Lucia\"                \n[207] \"America/St_Thomas\"                \"America/St_Vincent\"              \n[209] \"America/Swift_Current\"            \"America/Tegucigalpa\"             \n[211] \"America/Thule\"                    \"America/Thunder_Bay\"             \n[213] \"America/Tijuana\"                  \"America/Toronto\"                 \n[215] \"America/Tortola\"                  \"America/Vancouver\"               \n[217] \"America/Virgin\"                   \"America/Whitehorse\"              \n[219] \"America/Winnipeg\"                 \"America/Yakutat\"                 \n[221] \"America/Yellowknife\"              \"Antarctica/Casey\"                \n[223] \"Antarctica/Davis\"                 \"Antarctica/DumontDUrville\"       \n[225] \"Antarctica/Macquarie\"             \"Antarctica/Mawson\"               \n[227] \"Antarctica/McMurdo\"               \"Antarctica/Palmer\"               \n[229] \"Antarctica/Rothera\"               \"Antarctica/South_Pole\"           \n[231] \"Antarctica/Syowa\"                 \"Antarctica/Troll\"                \n[233] \"Antarctica/Vostok\"                \"Arctic/Longyearbyen\"             \n[235] \"Asia/Aden\"                        \"Asia/Almaty\"                     \n[237] \"Asia/Amman\"                       \"Asia/Anadyr\"                     \n[239] \"Asia/Aqtau\"                       \"Asia/Aqtobe\"                     \n[241] \"Asia/Ashgabat\"                    \"Asia/Ashkhabad\"                  \n[243] \"Asia/Atyrau\"                      \"Asia/Baghdad\"                    \n[245] \"Asia/Bahrain\"                     \"Asia/Baku\"                       \n[247] \"Asia/Bangkok\"                     \"Asia/Barnaul\"                    \n[249] \"Asia/Beirut\"                      \"Asia/Bishkek\"                    \n[251] \"Asia/Brunei\"                      \"Asia/Calcutta\"                   \n[253] \"Asia/Chita\"                       \"Asia/Choibalsan\"                 \n[255] \"Asia/Chongqing\"                   \"Asia/Chungking\"                  \n[257] \"Asia/Colombo\"                     \"Asia/Dacca\"                      \n[259] \"Asia/Damascus\"                    \"Asia/Dhaka\"                      \n[261] \"Asia/Dili\"                        \"Asia/Dubai\"                      \n[263] \"Asia/Dushanbe\"                    \"Asia/Famagusta\"                  \n[265] \"Asia/Gaza\"                        \"Asia/Harbin\"                     \n[267] \"Asia/Hebron\"                      \"Asia/Ho_Chi_Minh\"                \n[269] \"Asia/Hong_Kong\"                   \"Asia/Hovd\"                       \n[271] \"Asia/Irkutsk\"                     \"Asia/Istanbul\"                   \n[273] \"Asia/Jakarta\"                     \"Asia/Jayapura\"                   \n[275] \"Asia/Jerusalem\"                   \"Asia/Kabul\"                      \n[277] \"Asia/Kamchatka\"                   \"Asia/Karachi\"                    \n[279] \"Asia/Kashgar\"                     \"Asia/Kathmandu\"                  \n[281] \"Asia/Katmandu\"                    \"Asia/Khandyga\"                   \n[283] \"Asia/Kolkata\"                     \"Asia/Krasnoyarsk\"                \n[285] \"Asia/Kuala_Lumpur\"                \"Asia/Kuching\"                    \n[287] \"Asia/Kuwait\"                      \"Asia/Macao\"                      \n[289] \"Asia/Macau\"                       \"Asia/Magadan\"                    \n[291] \"Asia/Makassar\"                    \"Asia/Manila\"                     \n[293] \"Asia/Muscat\"                      \"Asia/Nicosia\"                    \n[295] \"Asia/Novokuznetsk\"                \"Asia/Novosibirsk\"                \n[297] \"Asia/Omsk\"                        \"Asia/Oral\"                       \n[299] \"Asia/Phnom_Penh\"                  \"Asia/Pontianak\"                  \n[301] \"Asia/Pyongyang\"                   \"Asia/Qatar\"                      \n[303] \"Asia/Qostanay\"                    \"Asia/Qyzylorda\"                  \n[305] \"Asia/Rangoon\"                     \"Asia/Riyadh\"                     \n[307] \"Asia/Saigon\"                      \"Asia/Sakhalin\"                   \n[309] \"Asia/Samarkand\"                   \"Asia/Seoul\"                      \n[311] \"Asia/Shanghai\"                    \"Asia/Singapore\"                  \n[313] \"Asia/Srednekolymsk\"               \"Asia/Taipei\"                     \n[315] \"Asia/Tashkent\"                    \"Asia/Tbilisi\"                    \n[317] \"Asia/Tehran\"                      \"Asia/Tel_Aviv\"                   \n[319] \"Asia/Thimbu\"                      \"Asia/Thimphu\"                    \n[321] \"Asia/Tokyo\"                       \"Asia/Tomsk\"                      \n[323] \"Asia/Ujung_Pandang\"               \"Asia/Ulaanbaatar\"                \n[325] \"Asia/Ulan_Bator\"                  \"Asia/Urumqi\"                     \n[327] \"Asia/Ust-Nera\"                    \"Asia/Vientiane\"                  \n[329] \"Asia/Vladivostok\"                 \"Asia/Yakutsk\"                    \n[331] \"Asia/Yangon\"                      \"Asia/Yekaterinburg\"              \n[333] \"Asia/Yerevan\"                     \"Atlantic/Azores\"                 \n[335] \"Atlantic/Bermuda\"                 \"Atlantic/Canary\"                 \n[337] \"Atlantic/Cape_Verde\"              \"Atlantic/Faeroe\"                 \n[339] \"Atlantic/Faroe\"                   \"Atlantic/Jan_Mayen\"              \n[341] \"Atlantic/Madeira\"                 \"Atlantic/Reykjavik\"              \n[343] \"Atlantic/South_Georgia\"           \"Atlantic/St_Helena\"              \n[345] \"Atlantic/Stanley\"                 \"Australia/ACT\"                   \n[347] \"Australia/Adelaide\"               \"Australia/Brisbane\"              \n[349] \"Australia/Broken_Hill\"            \"Australia/Canberra\"              \n[351] \"Australia/Currie\"                 \"Australia/Darwin\"                \n[353] \"Australia/Eucla\"                  \"Australia/Hobart\"                \n[355] \"Australia/LHI\"                    \"Australia/Lindeman\"              \n[357] \"Australia/Lord_Howe\"              \"Australia/Melbourne\"             \n[359] \"Australia/North\"                  \"Australia/NSW\"                   \n[361] \"Australia/Perth\"                  \"Australia/Queensland\"            \n[363] \"Australia/South\"                  \"Australia/Sydney\"                \n[365] \"Australia/Tasmania\"               \"Australia/Victoria\"              \n[367] \"Australia/West\"                   \"Australia/Yancowinna\"            \n[369] \"Brazil/Acre\"                      \"Brazil/DeNoronha\"                \n[371] \"Brazil/East\"                      \"Brazil/West\"                     \n[373] \"Canada/Atlantic\"                  \"Canada/Central\"                  \n[375] \"Canada/Eastern\"                   \"Canada/Mountain\"                 \n[377] \"Canada/Newfoundland\"              \"Canada/Pacific\"                  \n[379] \"Canada/Saskatchewan\"              \"Canada/Yukon\"                    \n[381] \"CET\"                              \"Chile/Continental\"               \n[383] \"Chile/EasterIsland\"               \"CST6CDT\"                         \n[385] \"Cuba\"                             \"EET\"                             \n[387] \"Egypt\"                            \"Eire\"                            \n[389] \"EST\"                              \"EST5EDT\"                         \n[391] \"Etc/GMT\"                          \"Etc/GMT-0\"                       \n[393] \"Etc/GMT-1\"                        \"Etc/GMT-10\"                      \n[395] \"Etc/GMT-11\"                       \"Etc/GMT-12\"                      \n[397] \"Etc/GMT-13\"                       \"Etc/GMT-14\"                      \n[399] \"Etc/GMT-2\"                        \"Etc/GMT-3\"                       \n[401] \"Etc/GMT-4\"                        \"Etc/GMT-5\"                       \n[403] \"Etc/GMT-6\"                        \"Etc/GMT-7\"                       \n[405] \"Etc/GMT-8\"                        \"Etc/GMT-9\"                       \n[407] \"Etc/GMT+0\"                        \"Etc/GMT+1\"                       \n[409] \"Etc/GMT+10\"                       \"Etc/GMT+11\"                      \n[411] \"Etc/GMT+12\"                       \"Etc/GMT+2\"                       \n[413] \"Etc/GMT+3\"                        \"Etc/GMT+4\"                       \n[415] \"Etc/GMT+5\"                        \"Etc/GMT+6\"                       \n[417] \"Etc/GMT+7\"                        \"Etc/GMT+8\"                       \n[419] \"Etc/GMT+9\"                        \"Etc/GMT0\"                        \n[421] \"Etc/Greenwich\"                    \"Etc/UCT\"                         \n[423] \"Etc/Universal\"                    \"Etc/UTC\"                         \n[425] \"Etc/Zulu\"                         \"Europe/Amsterdam\"                \n[427] \"Europe/Andorra\"                   \"Europe/Astrakhan\"                \n[429] \"Europe/Athens\"                    \"Europe/Belfast\"                  \n[431] \"Europe/Belgrade\"                  \"Europe/Berlin\"                   \n[433] \"Europe/Bratislava\"                \"Europe/Brussels\"                 \n[435] \"Europe/Bucharest\"                 \"Europe/Budapest\"                 \n[437] \"Europe/Busingen\"                  \"Europe/Chisinau\"                 \n[439] \"Europe/Copenhagen\"                \"Europe/Dublin\"                   \n[441] \"Europe/Gibraltar\"                 \"Europe/Guernsey\"                 \n[443] \"Europe/Helsinki\"                  \"Europe/Isle_of_Man\"              \n[445] \"Europe/Istanbul\"                  \"Europe/Jersey\"                   \n[447] \"Europe/Kaliningrad\"               \"Europe/Kiev\"                     \n[449] \"Europe/Kirov\"                     \"Europe/Kyiv\"                     \n[451] \"Europe/Lisbon\"                    \"Europe/Ljubljana\"                \n[453] \"Europe/London\"                    \"Europe/Luxembourg\"               \n[455] \"Europe/Madrid\"                    \"Europe/Malta\"                    \n[457] \"Europe/Mariehamn\"                 \"Europe/Minsk\"                    \n[459] \"Europe/Monaco\"                    \"Europe/Moscow\"                   \n[461] \"Europe/Nicosia\"                   \"Europe/Oslo\"                     \n[463] \"Europe/Paris\"                     \"Europe/Podgorica\"                \n[465] \"Europe/Prague\"                    \"Europe/Riga\"                     \n[467] \"Europe/Rome\"                      \"Europe/Samara\"                   \n[469] \"Europe/San_Marino\"                \"Europe/Sarajevo\"                 \n[471] \"Europe/Saratov\"                   \"Europe/Simferopol\"               \n[473] \"Europe/Skopje\"                    \"Europe/Sofia\"                    \n[475] \"Europe/Stockholm\"                 \"Europe/Tallinn\"                  \n[477] \"Europe/Tirane\"                    \"Europe/Tiraspol\"                 \n[479] \"Europe/Ulyanovsk\"                 \"Europe/Uzhgorod\"                 \n[481] \"Europe/Vaduz\"                     \"Europe/Vatican\"                  \n[483] \"Europe/Vienna\"                    \"Europe/Vilnius\"                  \n[485] \"Europe/Volgograd\"                 \"Europe/Warsaw\"                   \n[487] \"Europe/Zagreb\"                    \"Europe/Zaporozhye\"               \n[489] \"Europe/Zurich\"                    \"GB\"                              \n[491] \"GB-Eire\"                          \"GMT\"                             \n[493] \"GMT-0\"                            \"GMT+0\"                           \n[495] \"GMT0\"                             \"Greenwich\"                       \n[497] \"Hongkong\"                         \"HST\"                             \n[499] \"Iceland\"                          \"Indian/Antananarivo\"             \n[501] \"Indian/Chagos\"                    \"Indian/Christmas\"                \n[503] \"Indian/Cocos\"                     \"Indian/Comoro\"                   \n[505] \"Indian/Kerguelen\"                 \"Indian/Mahe\"                     \n[507] \"Indian/Maldives\"                  \"Indian/Mauritius\"                \n[509] \"Indian/Mayotte\"                   \"Indian/Reunion\"                  \n[511] \"Iran\"                             \"Israel\"                          \n[513] \"Jamaica\"                          \"Japan\"                           \n[515] \"Kwajalein\"                        \"Libya\"                           \n[517] \"MET\"                              \"Mexico/BajaNorte\"                \n[519] \"Mexico/BajaSur\"                   \"Mexico/General\"                  \n[521] \"MST\"                              \"MST7MDT\"                         \n[523] \"Navajo\"                           \"NZ\"                              \n[525] \"NZ-CHAT\"                          \"Pacific/Apia\"                    \n[527] \"Pacific/Auckland\"                 \"Pacific/Bougainville\"            \n[529] \"Pacific/Chatham\"                  \"Pacific/Chuuk\"                   \n[531] \"Pacific/Easter\"                   \"Pacific/Efate\"                   \n[533] \"Pacific/Enderbury\"                \"Pacific/Fakaofo\"                 \n[535] \"Pacific/Fiji\"                     \"Pacific/Funafuti\"                \n[537] \"Pacific/Galapagos\"                \"Pacific/Gambier\"                 \n[539] \"Pacific/Guadalcanal\"              \"Pacific/Guam\"                    \n[541] \"Pacific/Honolulu\"                 \"Pacific/Johnston\"                \n[543] \"Pacific/Kanton\"                   \"Pacific/Kiritimati\"              \n[545] \"Pacific/Kosrae\"                   \"Pacific/Kwajalein\"               \n[547] \"Pacific/Majuro\"                   \"Pacific/Marquesas\"               \n[549] \"Pacific/Midway\"                   \"Pacific/Nauru\"                   \n[551] \"Pacific/Niue\"                     \"Pacific/Norfolk\"                 \n[553] \"Pacific/Noumea\"                   \"Pacific/Pago_Pago\"               \n[555] \"Pacific/Palau\"                    \"Pacific/Pitcairn\"                \n[557] \"Pacific/Pohnpei\"                  \"Pacific/Ponape\"                  \n[559] \"Pacific/Port_Moresby\"             \"Pacific/Rarotonga\"               \n[561] \"Pacific/Saipan\"                   \"Pacific/Samoa\"                   \n[563] \"Pacific/Tahiti\"                   \"Pacific/Tarawa\"                  \n[565] \"Pacific/Tongatapu\"                \"Pacific/Truk\"                    \n[567] \"Pacific/Wake\"                     \"Pacific/Wallis\"                  \n[569] \"Pacific/Yap\"                      \"Poland\"                          \n[571] \"Portugal\"                         \"PRC\"                             \n[573] \"PST8PDT\"                          \"ROC\"                             \n[575] \"ROK\"                              \"Singapore\"                       \n[577] \"Turkey\"                           \"UCT\"                             \n[579] \"Universal\"                        \"US/Alaska\"                       \n[581] \"US/Aleutian\"                      \"US/Arizona\"                      \n[583] \"US/Central\"                       \"US/East-Indiana\"                 \n[585] \"US/Eastern\"                       \"US/Hawaii\"                       \n[587] \"US/Indiana-Starke\"                \"US/Michigan\"                     \n[589] \"US/Mountain\"                      \"US/Pacific\"                      \n[591] \"US/Samoa\"                         \"UTC\"                             \n[593] \"W-SU\"                             \"WET\"                             \n[595] \"Zulu\"                            \nattr(,\"Version\")\n[1] \"2022e\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-11",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-11",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nWe can also extract hours, minutes, and seconds:\n\n\nnow() |&gt; hour() \n\n[1] 10\n\nnow() |&gt; minute() \n\n[1] 53\n\nnow() |&gt; second() \n\n[1] 48.26063"
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-12",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-12",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nThe package also includes a function to parse strings into times as well as parsers for time objects that include dates:\n\n\nx &lt;- c(\"12:34:56\") \nhms(x) \n\n[1] \"12H 34M 56S\"\n\nx &lt;- \"Nov/2/2012 12:34:56\" \nmdy_hms(x) \n\n[1] \"2012-11-02 12:34:56 UTC\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-13",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-13",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nThe make_date function can be used to quickly create a date object.\nFor example, to create an date object representing, for example, July 6, 2019 we write:\n\n\nmake_date(2019, 7, 6) \n\n[1] \"2019-07-06\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-14",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-14",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nWe can use it to make vectors of dates.\nTo make a vector of January 1 for the 80s we write:\n\n\nmake_date(1980:1989) \n\n [1] \"1980-01-01\" \"1981-01-01\" \"1982-01-01\" \"1983-01-01\" \"1984-01-01\"\n [6] \"1985-01-01\" \"1986-01-01\" \"1987-01-01\" \"1988-01-01\" \"1989-01-01\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-15",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-15",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nAnother very useful function is round_date.\nIt can be used to round dates to nearest year, quarter, month, week, day, hour, minutes, or seconds."
  },
  {
    "objectID": "slides/12-dates-and-times.html#the-lubridate-package-16",
    "href": "slides/12-dates-and-times.html#the-lubridate-package-16",
    "title": "Dates And Times",
    "section": "The lubridate package",
    "text": "The lubridate package\n\nCodePlot\n\n\n\nExample: if we want to group all the polls by week of the year we can do the following:\n\n\npolls_us_election_2016 |&gt;  \n  mutate(week = round_date(startdate, \"week\")) |&gt; \n  group_by(week) |&gt; \n  summarize(margin = mean(rawpoll_clinton - rawpoll_trump)) |&gt; \n  ggplot(aes(week, margin)) + \n  geom_point()"
  },
  {
    "objectID": "slides/12-dates-and-times.html#final-pointers",
    "href": "slides/12-dates-and-times.html#final-pointers",
    "title": "Dates And Times",
    "section": "Final pointers",
    "text": "Final pointers\n\nYou should be aware the there are useful function for computing operations on time such a difftime, time_length, and interval.\nWe don’t cover it here but be aware that The data.table package includes some of the same functionality as lubridate."
  },
  {
    "objectID": "slides/12-dates-and-times.html#dates-and-times",
    "href": "slides/12-dates-and-times.html#dates-and-times",
    "title": "Dates And Times",
    "section": "dates and times",
    "text": "dates and times\n\nWe have described three main types of vectors: numeric, character, and logical.\nwe often encounter variables that are dates.\nAlthough we can represent a date with a string, for example November 2, 2017, once we pick a reference day, referred to as the epoch, they can be converted to numbers by calculating the number of days since the epoch.\nIn R and Unix, epoch = January 1, 1970."
  },
  {
    "objectID": "slides/12-dates-and-times.html#casting",
    "href": "slides/12-dates-and-times.html#casting",
    "title": "Dates And Times",
    "section": "Casting",
    "text": "Casting\n\nas.Date converts characters into dates.\nSo to see that the epoch is day 0 we can type\n\n\nas.Date(\"1970-01-01\") |&gt; as.numeric() \n\n[1] 0\n\n\n\nPlotting functions, such as those in ggplot, are aware of the date format."
  },
  {
    "objectID": "slides/12-dates-and-times.html#change-date-labels",
    "href": "slides/12-dates-and-times.html#change-date-labels",
    "title": "Dates And Times",
    "section": "Change date labels",
    "text": "Change date labels\n\nCodePlot\n\n\n\npolls_us_election_2016 |&gt; \n  filter(startdate &gt;= make_date(2016, 6, 1)) |&gt;\n  filter(pollster == \"Ipsos\" & state == \"U.S.\") |&gt; \n  ggplot(aes(startdate, rawpoll_clinton)) + \n  geom_line() +\n  scale_x_date(date_breaks = \"2 weeks\", date_labels = \"%b %d\") + \n  geom_vline(xintercept = as.Date(\"2016-10-28\"), linetype = \"dashed\")\n\n\nplace tick marks every two weeks on the x-axis (can be “1 month”, “3 day”)\n%b: abbreviated month (Jan, Feb)\nd: day of month (01-31)"
  },
  {
    "objectID": "slides/12-dates-and-times.html#extract-year-month-day",
    "href": "slides/12-dates-and-times.html#extract-year-month-day",
    "title": "Dates And Times",
    "section": "Extract year, month, day",
    "text": "Extract year, month, day\n\nThe functions year, month and day extract those values:\n\n\ntibble(date = dates, month = month(dates), day = day(dates), year = year(dates)) \n\n# A tibble: 10 × 4\n   date       month   day  year\n   &lt;date&gt;     &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;\n 1 2016-05-31     5    31  2016\n 2 2016-08-08     8     8  2016\n 3 2016-08-19     8    19  2016\n 4 2016-09-22     9    22  2016\n 5 2016-09-27     9    27  2016\n 6 2016-10-12    10    12  2016\n 7 2016-10-24    10    24  2016\n 8 2016-10-26    10    26  2016\n 9 2016-10-29    10    29  2016\n10 2016-10-30    10    30  2016"
  },
  {
    "objectID": "slides/12-dates-and-times.html#convert-strings-to-dates-ymd",
    "href": "slides/12-dates-and-times.html#convert-strings-to-dates-ymd",
    "title": "Dates And Times",
    "section": "Convert strings to dates: ymd",
    "text": "Convert strings to dates: ymd\n\nThe function ymd assumes the dates are in the format YYYY-MM-DD and tries to parse as well as possible.\n\n\nx &lt;- c(20090101, \"2009-01-02\", \"2009 01 03\", \"2009-1-4\", \n       \"2009-1, 5\", \"Created on 2009 1 6\", \"200901 !!! 07\") \nymd(x) \n\n[1] \"2009-01-01\" \"2009-01-02\" \"2009-01-03\" \"2009-01-04\" \"2009-01-05\"\n[6] \"2009-01-06\" \"2009-01-07\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#iso-8601-date-format",
    "href": "slides/12-dates-and-times.html#iso-8601-date-format",
    "title": "Dates And Times",
    "section": "ISO 8601 Date Format",
    "text": "ISO 8601 Date Format\n\nA further complication comes from the fact that dates often come in different formats in which the order of year, month, and day are different.\nThe preferred format YYYY-MM-DD: the ISO 8601."
  },
  {
    "objectID": "slides/12-dates-and-times.html#tackle-confusion",
    "href": "slides/12-dates-and-times.html#tackle-confusion",
    "title": "Dates And Times",
    "section": "Tackle confusion",
    "text": "Tackle confusion\n\nBut, what if “09/01/02”? This could be September 1, 2002 or January 2, 2009 or January 9, 2002.\nIn these cases, examining the entire vector of dates and determine the format. Then\n\n\nx &lt;- \"09/01/02\" \n\n\nymd(x) \n\n[1] \"2009-01-02\"\n\n\n\nmdy(x) \n\n[1] \"2002-09-01\"\n\n\n\ndmy(x) \n\n[1] \"2002-01-09\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#time",
    "href": "slides/12-dates-and-times.html#time",
    "title": "Dates And Times",
    "section": "time",
    "text": "time\n\nIn base R, get the current time by Sys.time().\nThe lubridate package, now, that permits you to define the time zone:\n\n\nnow() \n\n[1] \"2026-01-22 12:04:37 CST\"\n\nnow(\"GMT\") #Greenwich Mean Time =UTC+0\n\n[1] \"2026-01-22 18:04:37 GMT\"\n\n\n\nGMT: older term based on the solar time at Greenwich, London (0 deg longitude);\nUTC: Modern term (based on atomic clocks)"
  },
  {
    "objectID": "slides/12-dates-and-times.html#all-time-zones",
    "href": "slides/12-dates-and-times.html#all-time-zones",
    "title": "Dates And Times",
    "section": "All time zones",
    "text": "All time zones\n\nYou can see all the available time zones with:\n\n\nOlsonNames() \n\n  [1] \"Africa/Abidjan\"                   \"Africa/Accra\"                    \n  [3] \"Africa/Addis_Ababa\"               \"Africa/Algiers\"                  \n  [5] \"Africa/Asmara\"                    \"Africa/Asmera\"                   \n  [7] \"Africa/Bamako\"                    \"Africa/Bangui\"                   \n  [9] \"Africa/Banjul\"                    \"Africa/Bissau\"                   \n [11] \"Africa/Blantyre\"                  \"Africa/Brazzaville\"              \n [13] \"Africa/Bujumbura\"                 \"Africa/Cairo\"                    \n [15] \"Africa/Casablanca\"                \"Africa/Ceuta\"                    \n [17] \"Africa/Conakry\"                   \"Africa/Dakar\"                    \n [19] \"Africa/Dar_es_Salaam\"             \"Africa/Djibouti\"                 \n [21] \"Africa/Douala\"                    \"Africa/El_Aaiun\"                 \n [23] \"Africa/Freetown\"                  \"Africa/Gaborone\"                 \n [25] \"Africa/Harare\"                    \"Africa/Johannesburg\"             \n [27] \"Africa/Juba\"                      \"Africa/Kampala\"                  \n [29] \"Africa/Khartoum\"                  \"Africa/Kigali\"                   \n [31] \"Africa/Kinshasa\"                  \"Africa/Lagos\"                    \n [33] \"Africa/Libreville\"                \"Africa/Lome\"                     \n [35] \"Africa/Luanda\"                    \"Africa/Lubumbashi\"               \n [37] \"Africa/Lusaka\"                    \"Africa/Malabo\"                   \n [39] \"Africa/Maputo\"                    \"Africa/Maseru\"                   \n [41] \"Africa/Mbabane\"                   \"Africa/Mogadishu\"                \n [43] \"Africa/Monrovia\"                  \"Africa/Nairobi\"                  \n [45] \"Africa/Ndjamena\"                  \"Africa/Niamey\"                   \n [47] \"Africa/Nouakchott\"                \"Africa/Ouagadougou\"              \n [49] \"Africa/Porto-Novo\"                \"Africa/Sao_Tome\"                 \n [51] \"Africa/Timbuktu\"                  \"Africa/Tripoli\"                  \n [53] \"Africa/Tunis\"                     \"Africa/Windhoek\"                 \n [55] \"America/Adak\"                     \"America/Anchorage\"               \n [57] \"America/Anguilla\"                 \"America/Antigua\"                 \n [59] \"America/Araguaina\"                \"America/Argentina/Buenos_Aires\"  \n [61] \"America/Argentina/Catamarca\"      \"America/Argentina/ComodRivadavia\"\n [63] \"America/Argentina/Cordoba\"        \"America/Argentina/Jujuy\"         \n [65] \"America/Argentina/La_Rioja\"       \"America/Argentina/Mendoza\"       \n [67] \"America/Argentina/Rio_Gallegos\"   \"America/Argentina/Salta\"         \n [69] \"America/Argentina/San_Juan\"       \"America/Argentina/San_Luis\"      \n [71] \"America/Argentina/Tucuman\"        \"America/Argentina/Ushuaia\"       \n [73] \"America/Aruba\"                    \"America/Asuncion\"                \n [75] \"America/Atikokan\"                 \"America/Atka\"                    \n [77] \"America/Bahia\"                    \"America/Bahia_Banderas\"          \n [79] \"America/Barbados\"                 \"America/Belem\"                   \n [81] \"America/Belize\"                   \"America/Blanc-Sablon\"            \n [83] \"America/Boa_Vista\"                \"America/Bogota\"                  \n [85] \"America/Boise\"                    \"America/Buenos_Aires\"            \n [87] \"America/Cambridge_Bay\"            \"America/Campo_Grande\"            \n [89] \"America/Cancun\"                   \"America/Caracas\"                 \n [91] \"America/Catamarca\"                \"America/Cayenne\"                 \n [93] \"America/Cayman\"                   \"America/Chicago\"                 \n [95] \"America/Chihuahua\"                \"America/Coral_Harbour\"           \n [97] \"America/Cordoba\"                  \"America/Costa_Rica\"              \n [99] \"America/Creston\"                  \"America/Cuiaba\"                  \n[101] \"America/Curacao\"                  \"America/Danmarkshavn\"            \n[103] \"America/Dawson\"                   \"America/Dawson_Creek\"            \n[105] \"America/Denver\"                   \"America/Detroit\"                 \n[107] \"America/Dominica\"                 \"America/Edmonton\"                \n[109] \"America/Eirunepe\"                 \"America/El_Salvador\"             \n[111] \"America/Ensenada\"                 \"America/Fort_Nelson\"             \n[113] \"America/Fort_Wayne\"               \"America/Fortaleza\"               \n[115] \"America/Glace_Bay\"                \"America/Godthab\"                 \n[117] \"America/Goose_Bay\"                \"America/Grand_Turk\"              \n[119] \"America/Grenada\"                  \"America/Guadeloupe\"              \n[121] \"America/Guatemala\"                \"America/Guayaquil\"               \n[123] \"America/Guyana\"                   \"America/Halifax\"                 \n[125] \"America/Havana\"                   \"America/Hermosillo\"              \n[127] \"America/Indiana/Indianapolis\"     \"America/Indiana/Knox\"            \n[129] \"America/Indiana/Marengo\"          \"America/Indiana/Petersburg\"      \n[131] \"America/Indiana/Tell_City\"        \"America/Indiana/Vevay\"           \n[133] \"America/Indiana/Vincennes\"        \"America/Indiana/Winamac\"         \n[135] \"America/Indianapolis\"             \"America/Inuvik\"                  \n[137] \"America/Iqaluit\"                  \"America/Jamaica\"                 \n[139] \"America/Jujuy\"                    \"America/Juneau\"                  \n[141] \"America/Kentucky/Louisville\"      \"America/Kentucky/Monticello\"     \n[143] \"America/Knox_IN\"                  \"America/Kralendijk\"              \n[145] \"America/La_Paz\"                   \"America/Lima\"                    \n[147] \"America/Los_Angeles\"              \"America/Louisville\"              \n[149] \"America/Lower_Princes\"            \"America/Maceio\"                  \n[151] \"America/Managua\"                  \"America/Manaus\"                  \n[153] \"America/Marigot\"                  \"America/Martinique\"              \n[155] \"America/Matamoros\"                \"America/Mazatlan\"                \n[157] \"America/Mendoza\"                  \"America/Menominee\"               \n[159] \"America/Merida\"                   \"America/Metlakatla\"              \n[161] \"America/Mexico_City\"              \"America/Miquelon\"                \n[163] \"America/Moncton\"                  \"America/Monterrey\"               \n[165] \"America/Montevideo\"               \"America/Montreal\"                \n[167] \"America/Montserrat\"               \"America/Nassau\"                  \n[169] \"America/New_York\"                 \"America/Nipigon\"                 \n[171] \"America/Nome\"                     \"America/Noronha\"                 \n[173] \"America/North_Dakota/Beulah\"      \"America/North_Dakota/Center\"     \n[175] \"America/North_Dakota/New_Salem\"   \"America/Nuuk\"                    \n[177] \"America/Ojinaga\"                  \"America/Panama\"                  \n[179] \"America/Pangnirtung\"              \"America/Paramaribo\"              \n[181] \"America/Phoenix\"                  \"America/Port-au-Prince\"          \n[183] \"America/Port_of_Spain\"            \"America/Porto_Acre\"              \n[185] \"America/Porto_Velho\"              \"America/Puerto_Rico\"             \n[187] \"America/Punta_Arenas\"             \"America/Rainy_River\"             \n[189] \"America/Rankin_Inlet\"             \"America/Recife\"                  \n[191] \"America/Regina\"                   \"America/Resolute\"                \n[193] \"America/Rio_Branco\"               \"America/Rosario\"                 \n[195] \"America/Santa_Isabel\"             \"America/Santarem\"                \n[197] \"America/Santiago\"                 \"America/Santo_Domingo\"           \n[199] \"America/Sao_Paulo\"                \"America/Scoresbysund\"            \n[201] \"America/Shiprock\"                 \"America/Sitka\"                   \n[203] \"America/St_Barthelemy\"            \"America/St_Johns\"                \n[205] \"America/St_Kitts\"                 \"America/St_Lucia\"                \n[207] \"America/St_Thomas\"                \"America/St_Vincent\"              \n[209] \"America/Swift_Current\"            \"America/Tegucigalpa\"             \n[211] \"America/Thule\"                    \"America/Thunder_Bay\"             \n[213] \"America/Tijuana\"                  \"America/Toronto\"                 \n[215] \"America/Tortola\"                  \"America/Vancouver\"               \n[217] \"America/Virgin\"                   \"America/Whitehorse\"              \n[219] \"America/Winnipeg\"                 \"America/Yakutat\"                 \n[221] \"America/Yellowknife\"              \"Antarctica/Casey\"                \n[223] \"Antarctica/Davis\"                 \"Antarctica/DumontDUrville\"       \n[225] \"Antarctica/Macquarie\"             \"Antarctica/Mawson\"               \n[227] \"Antarctica/McMurdo\"               \"Antarctica/Palmer\"               \n[229] \"Antarctica/Rothera\"               \"Antarctica/South_Pole\"           \n[231] \"Antarctica/Syowa\"                 \"Antarctica/Troll\"                \n[233] \"Antarctica/Vostok\"                \"Arctic/Longyearbyen\"             \n[235] \"Asia/Aden\"                        \"Asia/Almaty\"                     \n[237] \"Asia/Amman\"                       \"Asia/Anadyr\"                     \n[239] \"Asia/Aqtau\"                       \"Asia/Aqtobe\"                     \n[241] \"Asia/Ashgabat\"                    \"Asia/Ashkhabad\"                  \n[243] \"Asia/Atyrau\"                      \"Asia/Baghdad\"                    \n[245] \"Asia/Bahrain\"                     \"Asia/Baku\"                       \n[247] \"Asia/Bangkok\"                     \"Asia/Barnaul\"                    \n[249] \"Asia/Beirut\"                      \"Asia/Bishkek\"                    \n[251] \"Asia/Brunei\"                      \"Asia/Calcutta\"                   \n[253] \"Asia/Chita\"                       \"Asia/Choibalsan\"                 \n[255] \"Asia/Chongqing\"                   \"Asia/Chungking\"                  \n[257] \"Asia/Colombo\"                     \"Asia/Dacca\"                      \n[259] \"Asia/Damascus\"                    \"Asia/Dhaka\"                      \n[261] \"Asia/Dili\"                        \"Asia/Dubai\"                      \n[263] \"Asia/Dushanbe\"                    \"Asia/Famagusta\"                  \n[265] \"Asia/Gaza\"                        \"Asia/Harbin\"                     \n[267] \"Asia/Hebron\"                      \"Asia/Ho_Chi_Minh\"                \n[269] \"Asia/Hong_Kong\"                   \"Asia/Hovd\"                       \n[271] \"Asia/Irkutsk\"                     \"Asia/Istanbul\"                   \n[273] \"Asia/Jakarta\"                     \"Asia/Jayapura\"                   \n[275] \"Asia/Jerusalem\"                   \"Asia/Kabul\"                      \n[277] \"Asia/Kamchatka\"                   \"Asia/Karachi\"                    \n[279] \"Asia/Kashgar\"                     \"Asia/Kathmandu\"                  \n[281] \"Asia/Katmandu\"                    \"Asia/Khandyga\"                   \n[283] \"Asia/Kolkata\"                     \"Asia/Krasnoyarsk\"                \n[285] \"Asia/Kuala_Lumpur\"                \"Asia/Kuching\"                    \n[287] \"Asia/Kuwait\"                      \"Asia/Macao\"                      \n[289] \"Asia/Macau\"                       \"Asia/Magadan\"                    \n[291] \"Asia/Makassar\"                    \"Asia/Manila\"                     \n[293] \"Asia/Muscat\"                      \"Asia/Nicosia\"                    \n[295] \"Asia/Novokuznetsk\"                \"Asia/Novosibirsk\"                \n[297] \"Asia/Omsk\"                        \"Asia/Oral\"                       \n[299] \"Asia/Phnom_Penh\"                  \"Asia/Pontianak\"                  \n[301] \"Asia/Pyongyang\"                   \"Asia/Qatar\"                      \n[303] \"Asia/Qostanay\"                    \"Asia/Qyzylorda\"                  \n[305] \"Asia/Rangoon\"                     \"Asia/Riyadh\"                     \n[307] \"Asia/Saigon\"                      \"Asia/Sakhalin\"                   \n[309] \"Asia/Samarkand\"                   \"Asia/Seoul\"                      \n[311] \"Asia/Shanghai\"                    \"Asia/Singapore\"                  \n[313] \"Asia/Srednekolymsk\"               \"Asia/Taipei\"                     \n[315] \"Asia/Tashkent\"                    \"Asia/Tbilisi\"                    \n[317] \"Asia/Tehran\"                      \"Asia/Tel_Aviv\"                   \n[319] \"Asia/Thimbu\"                      \"Asia/Thimphu\"                    \n[321] \"Asia/Tokyo\"                       \"Asia/Tomsk\"                      \n[323] \"Asia/Ujung_Pandang\"               \"Asia/Ulaanbaatar\"                \n[325] \"Asia/Ulan_Bator\"                  \"Asia/Urumqi\"                     \n[327] \"Asia/Ust-Nera\"                    \"Asia/Vientiane\"                  \n[329] \"Asia/Vladivostok\"                 \"Asia/Yakutsk\"                    \n[331] \"Asia/Yangon\"                      \"Asia/Yekaterinburg\"              \n[333] \"Asia/Yerevan\"                     \"Atlantic/Azores\"                 \n[335] \"Atlantic/Bermuda\"                 \"Atlantic/Canary\"                 \n[337] \"Atlantic/Cape_Verde\"              \"Atlantic/Faeroe\"                 \n[339] \"Atlantic/Faroe\"                   \"Atlantic/Jan_Mayen\"              \n[341] \"Atlantic/Madeira\"                 \"Atlantic/Reykjavik\"              \n[343] \"Atlantic/South_Georgia\"           \"Atlantic/St_Helena\"              \n[345] \"Atlantic/Stanley\"                 \"Australia/ACT\"                   \n[347] \"Australia/Adelaide\"               \"Australia/Brisbane\"              \n[349] \"Australia/Broken_Hill\"            \"Australia/Canberra\"              \n[351] \"Australia/Currie\"                 \"Australia/Darwin\"                \n[353] \"Australia/Eucla\"                  \"Australia/Hobart\"                \n[355] \"Australia/LHI\"                    \"Australia/Lindeman\"              \n[357] \"Australia/Lord_Howe\"              \"Australia/Melbourne\"             \n[359] \"Australia/North\"                  \"Australia/NSW\"                   \n[361] \"Australia/Perth\"                  \"Australia/Queensland\"            \n[363] \"Australia/South\"                  \"Australia/Sydney\"                \n[365] \"Australia/Tasmania\"               \"Australia/Victoria\"              \n[367] \"Australia/West\"                   \"Australia/Yancowinna\"            \n[369] \"Brazil/Acre\"                      \"Brazil/DeNoronha\"                \n[371] \"Brazil/East\"                      \"Brazil/West\"                     \n[373] \"Canada/Atlantic\"                  \"Canada/Central\"                  \n[375] \"Canada/Eastern\"                   \"Canada/Mountain\"                 \n[377] \"Canada/Newfoundland\"              \"Canada/Pacific\"                  \n[379] \"Canada/Saskatchewan\"              \"Canada/Yukon\"                    \n[381] \"CET\"                              \"Chile/Continental\"               \n[383] \"Chile/EasterIsland\"               \"CST6CDT\"                         \n[385] \"Cuba\"                             \"EET\"                             \n[387] \"Egypt\"                            \"Eire\"                            \n[389] \"EST\"                              \"EST5EDT\"                         \n[391] \"Etc/GMT\"                          \"Etc/GMT-0\"                       \n[393] \"Etc/GMT-1\"                        \"Etc/GMT-10\"                      \n[395] \"Etc/GMT-11\"                       \"Etc/GMT-12\"                      \n[397] \"Etc/GMT-13\"                       \"Etc/GMT-14\"                      \n[399] \"Etc/GMT-2\"                        \"Etc/GMT-3\"                       \n[401] \"Etc/GMT-4\"                        \"Etc/GMT-5\"                       \n[403] \"Etc/GMT-6\"                        \"Etc/GMT-7\"                       \n[405] \"Etc/GMT-8\"                        \"Etc/GMT-9\"                       \n[407] \"Etc/GMT+0\"                        \"Etc/GMT+1\"                       \n[409] \"Etc/GMT+10\"                       \"Etc/GMT+11\"                      \n[411] \"Etc/GMT+12\"                       \"Etc/GMT+2\"                       \n[413] \"Etc/GMT+3\"                        \"Etc/GMT+4\"                       \n[415] \"Etc/GMT+5\"                        \"Etc/GMT+6\"                       \n[417] \"Etc/GMT+7\"                        \"Etc/GMT+8\"                       \n[419] \"Etc/GMT+9\"                        \"Etc/GMT0\"                        \n[421] \"Etc/Greenwich\"                    \"Etc/UCT\"                         \n[423] \"Etc/Universal\"                    \"Etc/UTC\"                         \n[425] \"Etc/Zulu\"                         \"Europe/Amsterdam\"                \n[427] \"Europe/Andorra\"                   \"Europe/Astrakhan\"                \n[429] \"Europe/Athens\"                    \"Europe/Belfast\"                  \n[431] \"Europe/Belgrade\"                  \"Europe/Berlin\"                   \n[433] \"Europe/Bratislava\"                \"Europe/Brussels\"                 \n[435] \"Europe/Bucharest\"                 \"Europe/Budapest\"                 \n[437] \"Europe/Busingen\"                  \"Europe/Chisinau\"                 \n[439] \"Europe/Copenhagen\"                \"Europe/Dublin\"                   \n[441] \"Europe/Gibraltar\"                 \"Europe/Guernsey\"                 \n[443] \"Europe/Helsinki\"                  \"Europe/Isle_of_Man\"              \n[445] \"Europe/Istanbul\"                  \"Europe/Jersey\"                   \n[447] \"Europe/Kaliningrad\"               \"Europe/Kiev\"                     \n[449] \"Europe/Kirov\"                     \"Europe/Kyiv\"                     \n[451] \"Europe/Lisbon\"                    \"Europe/Ljubljana\"                \n[453] \"Europe/London\"                    \"Europe/Luxembourg\"               \n[455] \"Europe/Madrid\"                    \"Europe/Malta\"                    \n[457] \"Europe/Mariehamn\"                 \"Europe/Minsk\"                    \n[459] \"Europe/Monaco\"                    \"Europe/Moscow\"                   \n[461] \"Europe/Nicosia\"                   \"Europe/Oslo\"                     \n[463] \"Europe/Paris\"                     \"Europe/Podgorica\"                \n[465] \"Europe/Prague\"                    \"Europe/Riga\"                     \n[467] \"Europe/Rome\"                      \"Europe/Samara\"                   \n[469] \"Europe/San_Marino\"                \"Europe/Sarajevo\"                 \n[471] \"Europe/Saratov\"                   \"Europe/Simferopol\"               \n[473] \"Europe/Skopje\"                    \"Europe/Sofia\"                    \n[475] \"Europe/Stockholm\"                 \"Europe/Tallinn\"                  \n[477] \"Europe/Tirane\"                    \"Europe/Tiraspol\"                 \n[479] \"Europe/Ulyanovsk\"                 \"Europe/Uzhgorod\"                 \n[481] \"Europe/Vaduz\"                     \"Europe/Vatican\"                  \n[483] \"Europe/Vienna\"                    \"Europe/Vilnius\"                  \n[485] \"Europe/Volgograd\"                 \"Europe/Warsaw\"                   \n[487] \"Europe/Zagreb\"                    \"Europe/Zaporozhye\"               \n[489] \"Europe/Zurich\"                    \"GB\"                              \n[491] \"GB-Eire\"                          \"GMT\"                             \n[493] \"GMT-0\"                            \"GMT+0\"                           \n[495] \"GMT0\"                             \"Greenwich\"                       \n[497] \"Hongkong\"                         \"HST\"                             \n[499] \"Iceland\"                          \"Indian/Antananarivo\"             \n[501] \"Indian/Chagos\"                    \"Indian/Christmas\"                \n[503] \"Indian/Cocos\"                     \"Indian/Comoro\"                   \n[505] \"Indian/Kerguelen\"                 \"Indian/Mahe\"                     \n[507] \"Indian/Maldives\"                  \"Indian/Mauritius\"                \n[509] \"Indian/Mayotte\"                   \"Indian/Reunion\"                  \n[511] \"Iran\"                             \"Israel\"                          \n[513] \"Jamaica\"                          \"Japan\"                           \n[515] \"Kwajalein\"                        \"Libya\"                           \n[517] \"MET\"                              \"Mexico/BajaNorte\"                \n[519] \"Mexico/BajaSur\"                   \"Mexico/General\"                  \n[521] \"MST\"                              \"MST7MDT\"                         \n[523] \"Navajo\"                           \"NZ\"                              \n[525] \"NZ-CHAT\"                          \"Pacific/Apia\"                    \n[527] \"Pacific/Auckland\"                 \"Pacific/Bougainville\"            \n[529] \"Pacific/Chatham\"                  \"Pacific/Chuuk\"                   \n[531] \"Pacific/Easter\"                   \"Pacific/Efate\"                   \n[533] \"Pacific/Enderbury\"                \"Pacific/Fakaofo\"                 \n[535] \"Pacific/Fiji\"                     \"Pacific/Funafuti\"                \n[537] \"Pacific/Galapagos\"                \"Pacific/Gambier\"                 \n[539] \"Pacific/Guadalcanal\"              \"Pacific/Guam\"                    \n[541] \"Pacific/Honolulu\"                 \"Pacific/Johnston\"                \n[543] \"Pacific/Kanton\"                   \"Pacific/Kiritimati\"              \n[545] \"Pacific/Kosrae\"                   \"Pacific/Kwajalein\"               \n[547] \"Pacific/Majuro\"                   \"Pacific/Marquesas\"               \n[549] \"Pacific/Midway\"                   \"Pacific/Nauru\"                   \n[551] \"Pacific/Niue\"                     \"Pacific/Norfolk\"                 \n[553] \"Pacific/Noumea\"                   \"Pacific/Pago_Pago\"               \n[555] \"Pacific/Palau\"                    \"Pacific/Pitcairn\"                \n[557] \"Pacific/Pohnpei\"                  \"Pacific/Ponape\"                  \n[559] \"Pacific/Port_Moresby\"             \"Pacific/Rarotonga\"               \n[561] \"Pacific/Saipan\"                   \"Pacific/Samoa\"                   \n[563] \"Pacific/Tahiti\"                   \"Pacific/Tarawa\"                  \n[565] \"Pacific/Tongatapu\"                \"Pacific/Truk\"                    \n[567] \"Pacific/Wake\"                     \"Pacific/Wallis\"                  \n[569] \"Pacific/Yap\"                      \"Poland\"                          \n[571] \"Portugal\"                         \"PRC\"                             \n[573] \"PST8PDT\"                          \"ROC\"                             \n[575] \"ROK\"                              \"Singapore\"                       \n[577] \"Turkey\"                           \"UCT\"                             \n[579] \"Universal\"                        \"US/Alaska\"                       \n[581] \"US/Aleutian\"                      \"US/Arizona\"                      \n[583] \"US/Central\"                       \"US/East-Indiana\"                 \n[585] \"US/Eastern\"                       \"US/Hawaii\"                       \n[587] \"US/Indiana-Starke\"                \"US/Michigan\"                     \n[589] \"US/Mountain\"                      \"US/Pacific\"                      \n[591] \"US/Samoa\"                         \"UTC\"                             \n[593] \"W-SU\"                             \"WET\"                             \n[595] \"Zulu\"                            \nattr(,\"Version\")\n[1] \"2022e\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#extract-hours-minutes-and-seconds",
    "href": "slides/12-dates-and-times.html#extract-hours-minutes-and-seconds",
    "title": "Dates And Times",
    "section": "Extract hours, minutes, and seconds",
    "text": "Extract hours, minutes, and seconds\n\nnow() |&gt; hour() \n\n[1] 12\n\nnow() |&gt; minute() \n\n[1] 4\n\nnow() |&gt; second() \n\n[1] 37.482"
  },
  {
    "objectID": "slides/12-dates-and-times.html#parse-strongs-to-hms",
    "href": "slides/12-dates-and-times.html#parse-strongs-to-hms",
    "title": "Dates And Times",
    "section": "Parse strongs to hms",
    "text": "Parse strongs to hms\n\nx &lt;- c(\"12:34:56\") \nhms(x) \n\n[1] \"12H 34M 56S\"\n\nx &lt;- \"Nov/2/2012 12:34:56\" \nmdy_hms(x) \n\n[1] \"2012-11-02 12:34:56 UTC\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#more-on-make-date",
    "href": "slides/12-dates-and-times.html#more-on-make-date",
    "title": "Dates And Times",
    "section": "More on make-date",
    "text": "More on make-date\n\nmake_date(2019, 7, 6) \n\n[1] \"2019-07-06\"\n\n\n\nTo make a vector of January 1 for the 80s we write:\n\n\nmake_date(1980:1989) \n\n [1] \"1980-01-01\" \"1981-01-01\" \"1982-01-01\" \"1983-01-01\" \"1984-01-01\"\n [6] \"1985-01-01\" \"1986-01-01\" \"1987-01-01\" \"1988-01-01\" \"1989-01-01\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#round-date-or-time",
    "href": "slides/12-dates-and-times.html#round-date-or-time",
    "title": "Dates And Times",
    "section": "Round date or time",
    "text": "Round date or time\n\nlibrary(lubridate)\n\nx &lt;- ymd_hms(\"2016-06-15 13:20:00\")\n\nround_date(x, \"hour\")   # nearest hour (13:00 or 14:00)\n\n[1] \"2016-06-15 13:00:00 UTC\"\n\nfloor_date(x, \"hour\")   # 13:00\n\n[1] \"2016-06-15 13:00:00 UTC\"\n\nceiling_date(x, \"hour\") # 14:00\n\n[1] \"2016-06-15 14:00:00 UTC\"\n\n\n\nd &lt;- ymd(\"2016-06-20\")\nround_date(d, \"month\")  # likely \"2016-07-01\" (closer to July 1 than June 1)\n\n[1] \"2016-07-01\""
  },
  {
    "objectID": "slides/12-dates-and-times.html#other-functions",
    "href": "slides/12-dates-and-times.html#other-functions",
    "title": "Dates And Times",
    "section": "Other functions",
    "text": "Other functions\n\nt1 &lt;- as.POSIXct(\"2016-06-01 08:00:00\", tz = \"UTC\")\nt2 &lt;- as.POSIXct(\"2016-06-03 14:30:00\", tz = \"UTC\")\ndifftime(t2, t1, units = \"hours\") # Base R: Time difference of 54.5 hours\n\nTime difference of 54.5 hours\n\n\n\nstart &lt;- ymd_hms(\"2016-06-01 08:00:00\", tz = \"UTC\")\nend   &lt;- ymd_hms(\"2016-06-03 14:30:00\", tz = \"UTC\")\nint &lt;- interval(start, end) # [1] 2016-06-01 08:00:00 UTC--2016-06-03 14:30:00 UTC\nint\n\n[1] 2016-06-01 08:00:00 UTC--2016-06-03 14:30:00 UTC\n\n\n\ntime_length(int, \"hours\") # 54.5\n\n[1] 54.5\n\ntime_length(int, \"days\") # 2.270833...\n\n[1] 2.270833\n\ntime_length(int, \"weeks\") # 0.3244...\n\n[1] 0.3244048"
  },
  {
    "objectID": "slides/12-dates-and-times.html#dates-and-times-with-data.table",
    "href": "slides/12-dates-and-times.html#dates-and-times-with-data.table",
    "title": "Dates And Times",
    "section": "Dates and times with data.table",
    "text": "Dates and times with data.table\n\nlibrary(data.table)\nst &lt;- as.Date(\"2024-03-04\")\nday(st) #&gt; [1] 4  # data.table\n\n[1] 4\n\nmday(st) #&gt; [1] 4  Lubridate function\n\n[1] 4\n\n\n\nOther similar functions in data.table are second, minute, hour, yday, wday, week, isoweek and quarter.\ndata.table IDate and ITime store dates/times more efficiently\n\n\nobject.size(polls_us_election_2016$startdate) #&gt; 33936 bytes\n\n33936 bytes\n\nobject.size(as.IDate(polls_us_election_2016$startdate)) #&gt; 17168 bytes\n\n17168 bytes"
  },
  {
    "objectID": "slides/11-importing-files.html#specify-encoding",
    "href": "slides/11-importing-files.html#specify-encoding",
    "title": "Importing files",
    "section": "Specify encoding",
    "text": "Specify encoding\n\nOnce we know the encoding we can specify it through the locale argument:\n\n\ndat &lt;- read_csv(\"calificaciones.csv\", show_col_types = FALSE, #suppress col info\n                locale = locale(encoding = \"ISO-8859-1\")) \ndat\n\n# A tibble: 7 × 4\n  nombre   f.n.                     estampa             puntuación\n  &lt;chr&gt;    &lt;chr&gt;                    &lt;dttm&gt;                   &lt;dbl&gt;\n1 Beyoncé  04 de septiembre de 1981 2023-09-22 02:11:02        875\n2 Blümchen 20 de abril de 1980      2023-09-22 03:23:05        990\n3 João     10 de junio de 1931      2023-09-21 22:43:28        989\n4 López    24 de julio de 1969      2023-09-22 01:06:59        887\n5 Ñengo    15 de diciembre de 1981  2023-09-21 23:35:37        931\n6 Plácido  24 de enero de 1941      2023-09-21 23:17:21        887\n7 Thalía   26 de agosto de 1971     2023-09-21 23:08:02        830"
  },
  {
    "objectID": "slides/13-locales.html#locales",
    "href": "slides/13-locales.html#locales",
    "title": "Locales",
    "section": "Locales",
    "text": "Locales\n\nComputer settings change depending on language and location\nThe purpose of locales is to group together common settings that controls how your system (and R) handles things like sorting, character encoding, dates/times, and number formats."
  },
  {
    "objectID": "slides/13-locales.html#locales-1",
    "href": "slides/13-locales.html#locales-1",
    "title": "Locales",
    "section": "Locales",
    "text": "Locales\n\nIn R, a locale refers to a suite of settings that dictate how the system should behave with respect to cultural conventions.\nA locale controls how your system (and R) handles things like sorting, character encoding, dates/times, and number formats."
  },
  {
    "objectID": "slides/13-locales.html#locales-2",
    "href": "slides/13-locales.html#locales-2",
    "title": "Locales",
    "section": "Locales",
    "text": "Locales\n\nIn R, a locale refers to a suite of settings that dictate how the system should behave with respect to cultural conventions.\nThese affect the way data is formatted and presented, including date formatting, currency symbols, decimal separators, and other related aspects.\nLocales in R affect several areas, including how character vectors are sorted.\nAdditionally, errors, warnings, and other messages might be translated into languages other than English based on the locale."
  },
  {
    "objectID": "slides/13-locales.html#locales-in-r",
    "href": "slides/13-locales.html#locales-in-r",
    "title": "Locales",
    "section": "Locales in R",
    "text": "Locales in R\n\nTo access the current locale settings in R, use the Sys.getlocale() function:\n\n\nSys.getlocale() \n\n[1] \"LC_COLLATE=English_United States.utf8;LC_CTYPE=English_United States.utf8;LC_MONETARY=English_United States.utf8;LC_NUMERIC=C;LC_TIME=English_United States.utf8\"\n\n\n\nCOLLATE: sorting strings; CTYPE: characters; Monetary: currency formatting; NUMERIC=C: use . for decimal point and no locale-specific thousands separators; TIME: data/time"
  },
  {
    "objectID": "slides/13-locales.html#locales-in-r-1",
    "href": "slides/13-locales.html#locales-in-r-1",
    "title": "Locales",
    "section": "Locales in R",
    "text": "Locales in R\n\nLC_ALL refers to all locale categories.\nR breaks down the locale into categories:\n\nLC_COLLATE: for string collation (sorting).\nLC_TIME: date and time formatting.\nLC_MONETARY: currency formatting.\nLC_MESSAGES: system message translations.\nLC_NUMERIC: number formatting.\n\nYou can set the locale for each category individually if you don’t want to use LC_ALL."
  },
  {
    "objectID": "slides/13-locales.html#locales-in-r-2",
    "href": "slides/13-locales.html#locales-in-r-2",
    "title": "Locales",
    "section": "Locales in R",
    "text": "Locales in R\n\n\n\n\n\n\nWarning\n\n\n\nWe have shown tools to control locales.\nThese settings are important because they affect how your data looks and behaves.\nHowever, not all of these settings are available on every computer; their availability depends on what kind of computer you have and how it’s set up.\nChanging these settings, especially LC_NUMERIC, can lead to unexpected problems when you’re working with numbers in R.\nThese locale settings only last as long as one R session."
  },
  {
    "objectID": "slides/13-locales.html#locales-in-r-3",
    "href": "slides/13-locales.html#locales-in-r-3",
    "title": "Locales",
    "section": "Locales in R",
    "text": "Locales in R\n\n\n\n\n\n\nWarning\n\n\n\nWe have shown tools to control locales.\nThese settings are important because they affect how your data looks and behaves.\nHowever, not all of these settings are available on every computer; their availability depends on what kind of computer you have and how it’s set up.\nChanging these settings, especially LC_NUMERIC, can lead to unexpected problems when you’re working with numbers in R.\nThese locale settings only last as long as one R session."
  },
  {
    "objectID": "slides/13-locales.html#the-locale-function",
    "href": "slides/13-locales.html#the-locale-function",
    "title": "Locales",
    "section": "The locale function",
    "text": "The locale function\n\nThe readr package includes a locale() function that can be used to learn or change the current locale from within R:\n\n\nlibrary(readr) \nlocale() \n\n&lt;locale&gt;\nNumbers:  123,456.78\nFormats:  %AD / %AT\nTimezone: UTC\nEncoding: UTF-8\n&lt;date_names&gt;\nDays:   Sunday (Sun), Monday (Mon), Tuesday (Tue), Wednesday (Wed), Thursday\n        (Thu), Friday (Fri), Saturday (Sat)\nMonths: January (Jan), February (Feb), March (Mar), April (Apr), May (May),\n        June (Jun), July (Jul), August (Aug), September (Sep), October\n        (Oct), November (Nov), December (Dec)\nAM/PM:  AM/PM\n\n# %AD: the locale's default date format; %AT: default time forat"
  },
  {
    "objectID": "slides/13-locales.html#the-locale-function-1",
    "href": "slides/13-locales.html#the-locale-function-1",
    "title": "Locales",
    "section": "The locale function",
    "text": "The locale function\n\nYou can see all the locales available on your system by typing:\n\n\nsystem(\"locale -a\") # execute the Linux/OS command `locale -a`\n\n\nOn windows: 127 is an error code, means “command not found”"
  },
  {
    "objectID": "slides/13-locales.html#the-locale-function-2",
    "href": "slides/13-locales.html#the-locale-function-2",
    "title": "Locales",
    "section": "The locale function",
    "text": "The locale function\n\nHere is what you obtain if you change the dates locale to Spanish:\n\n\nlocale(date_names = \"es\") \n\n&lt;locale&gt;\nNumbers:  123,456.78\nFormats:  %AD / %AT\nTimezone: UTC\nEncoding: UTF-8\n&lt;date_names&gt;\nDays:   domingo (dom.), lunes (lun.), martes (mar.), miércoles (mié.), jueves\n        (jue.), viernes (vie.), sábado (sáb.)\nMonths: enero (ene.), febrero (feb.), marzo (mar.), abril (abr.), mayo (may.),\n        junio (jun.), julio (jul.), agosto (ago.), septiembre (sept.),\n        octubre (oct.), noviembre (nov.), diciembre (dic.)\nAM/PM:  a. m./p. m."
  },
  {
    "objectID": "slides/13-locales.html#example",
    "href": "slides/13-locales.html#example",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nEarlier we noted that the file:\n\n\nfn &lt;- file.path(system.file(\"extdata\", package = \"dslabs\"), \"calificaciones.csv\") \n\n\nhad a encoding different than UTF-8, the default.\nWe used guess_encoding to determine the correct one:\n\n\nguess_encoding(fn)$encoding[1] \n\n[1] \"ISO-8859-1\"\n\n\n\nand used the locale to change the encoding and read in the file correctly:\n\n\ndat &lt;- read_csv(fn, locale = locale(encoding = \"ISO-8859-1\")) \ndat \n\n# A tibble: 7 × 4\n  nombre   f.n.                     estampa             puntuación\n  &lt;chr&gt;    &lt;chr&gt;                    &lt;dttm&gt;                   &lt;dbl&gt;\n1 Beyoncé  04 de septiembre de 1981 2023-09-22 02:11:02        875\n2 Blümchen 20 de abril de 1980      2023-09-22 03:23:05        990\n3 João     10 de junio de 1931      2023-09-21 22:43:28        989\n4 López    24 de julio de 1969      2023-09-22 01:06:59        887\n5 Ñengo    15 de diciembre de 1981  2023-09-21 23:35:37        931\n6 Plácido  24 de enero de 1941      2023-09-21 23:17:21        887\n7 Thalía   26 de agosto de 1971     2023-09-21 23:08:02        830"
  },
  {
    "objectID": "slides/13-locales.html#example-1",
    "href": "slides/13-locales.html#example-1",
    "title": "Locales",
    "section": "Example",
    "text": "Example\nWe can also reread the file using the correct locales:\n\ndat &lt;- read_csv(fn, locale = locale(date_names = \"es\", \n                                    date_format = \"%d de %B de %Y\", \n                                    decimal_mark = \",\", \n                                    encoding = \"ISO-8859-1\"))"
  },
  {
    "objectID": "slides/13-locales.html#example-2",
    "href": "slides/13-locales.html#example-2",
    "title": "Locales",
    "section": "Example",
    "text": "Example\nComputing the students’ ages is now straightforward:\n\ntime_length(today() - dat$f.n., unit = \"years\") |&gt; floor() \n\n[1] 44 45 94 56 44 84 54"
  },
  {
    "objectID": "slides/13-locales.html#example-3",
    "href": "slides/13-locales.html#example-3",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nLet’s check which students turned in their homework past the deadline of September 22:\n\n\ndat$estampa &gt;= make_date(2023, 9, 22) \n\n[1]  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE\n\n\n\nWe see that two students where late.\nHowever, with times we have to be particularly careful as some functions default to the UTC timezone:\n\n\ntz(dat$estampa) \n\n[1] \"UTC\""
  },
  {
    "objectID": "slides/13-locales.html#example-4",
    "href": "slides/13-locales.html#example-4",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nIf we change to the timezone to Eastern Standard Time (EST), we see no one was late:\n\n\nwith_tz(dat$estampa, tz =  \"EST\") &gt;= make_date(2023, 9, 22) \n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "slides/13-locales.html#example-5",
    "href": "slides/13-locales.html#example-5",
    "title": "Locales",
    "section": "Example",
    "text": "Example\nComputing the students’ ages is now straightforward:\n\ntime_length(today() - dat$f.n., unit = \"years\") |&gt; floor() \n\n[1] 44 45 94 56 44 84 54"
  },
  {
    "objectID": "slides/13-locales.html#example-6",
    "href": "slides/13-locales.html#example-6",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nLet’s check which students turned in their homework past the deadline of September 22:\n\n\ndat$estampa &gt;= make_date(2023, 9, 22) \n\n[1]  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE\n\n\n\nWe see that two students where late.\nHowever, with times we have to be particularly careful as some functions default to the UTC timezone:\n\n\ntz(dat$estampa) \n\n[1] \"UTC\""
  },
  {
    "objectID": "slides/13-locales.html#example-7",
    "href": "slides/13-locales.html#example-7",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nIf we change to the timezone to Eastern Standard Time (EST), we see no one was late:\n\n\nwith_tz(dat$estampa, tz =  \"EST\") &gt;= make_date(2023, 9, 22) \n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "slides/13-locales.html#example-8",
    "href": "slides/13-locales.html#example-8",
    "title": "Locales",
    "section": "Example",
    "text": "Example\nComputing the students’ ages is now straightforward:\n\ntime_length(today() - dat$f.n., unit = \"years\") |&gt; floor() \n\n[1] 44 45 94 56 44 84 54"
  },
  {
    "objectID": "slides/13-locales.html#example-9",
    "href": "slides/13-locales.html#example-9",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nLet’s check which students turned in their homework past the deadline of September 22:\n\n\ndat$estampa &gt;= make_date(2023, 9, 22) \n\n[1]  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE\n\n\n\nWe see that two students where late.\nHowever, with times we have to be particularly careful as some functions default to the UTC timezone:\n\n\ntz(dat$estampa) \n\n[1] \"UTC\""
  },
  {
    "objectID": "slides/13-locales.html#example-10",
    "href": "slides/13-locales.html#example-10",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nIf we change to the timezone to Eastern Standard Time (EST), we see no one was late:\n\n\nwith_tz(dat$estampa, tz =  \"EST\") &gt;= make_date(2023, 9, 22) \n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "slides/13-locales.html#example-11",
    "href": "slides/13-locales.html#example-11",
    "title": "Locales",
    "section": "Example",
    "text": "Example\n\nIf we change to the timezone to Eastern Standard Time (EST), we see no one was late:\n\n\nwith_tz(dat$estampa, tz =  \"EST\") &gt;= make_date(2023, 9, 22) \n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "slides/13-locales.html#set-locales-in-r",
    "href": "slides/13-locales.html#set-locales-in-r",
    "title": "Locales",
    "section": "Set Locales in R",
    "text": "Set Locales in R\n\nuse the Sys.setlocale() function.\nFor example, to set the locale to US English:\n\n\nSys.setlocale(\"LC_ALL\", \"en_US.UTF-8\") \n\n[1] \"LC_COLLATE=en_US.UTF-8;LC_CTYPE=en_US.UTF-8;LC_MONETARY=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8\"\n\n\n\nThe exact string to use for setting the locale (like “en_US.UTF-8”) can depend on your operating system and its configuration."
  },
  {
    "objectID": "slides/13-locales.html#warinng-about-locale-settings",
    "href": "slides/13-locales.html#warinng-about-locale-settings",
    "title": "Locales",
    "section": "Warinng about Locale Settings",
    "text": "Warinng about Locale Settings\n\n\n\n\n\n\nWarning\n\n\n\nWe have shown tools to control locales.\nThese settings are important because they affect how your data looks and behaves.\nHowever, not all of these settings are available on every computer; their availability depends on what kind of computer you have and how it’s set up.\nChanging these settings, especially LC_NUMERIC, can lead to unexpected problems when you’re working with numbers in R.\nThese locale settings only last as long as one R session."
  },
  {
    "objectID": "slides/13-locales.html#change-locale",
    "href": "slides/13-locales.html#change-locale",
    "title": "Locales",
    "section": "change locale",
    "text": "change locale\n\nHere is what you obtain if you change the dates locale to Spanish:\n\n\nlocale(date_names = \"es\") \n\n&lt;locale&gt;\nNumbers:  123,456.78\nFormats:  %AD / %AT\nTimezone: UTC\nEncoding: UTF-8\n&lt;date_names&gt;\nDays:   domingo (dom.), lunes (lun.), martes (mar.), miércoles (mié.), jueves\n        (jue.), viernes (vie.), sábado (sáb.)\nMonths: enero (ene.), febrero (feb.), marzo (mar.), abril (abr.), mayo (may.),\n        junio (jun.), julio (jul.), agosto (ago.), septiembre (sept.),\n        octubre (oct.), noviembre (nov.), diciembre (dic.)\nAM/PM:  a. m./p. m."
  },
  {
    "objectID": "slides/13-locales.html#if-use-read_lines",
    "href": "slides/13-locales.html#if-use-read_lines",
    "title": "Locales",
    "section": "If use read_lines()",
    "text": "If use read_lines()\n\nread_lines: read all lines and return them as a char vector (one element per line)\nseven students. Columns represent the name, date of birth, the time they submitted their assignment, and their score:\n\n\nread_lines(fn, locale = locale(encoding = \"ISO-8859-1\")) \n\n[1] \"\\\"nombre\\\",\\\"f.n.\\\",\\\"estampa\\\",\\\"puntuación\\\"\"                       \n[2] \"\\\"Beyoncé\\\",\\\"04 de septiembre de 1981\\\",2023-09-22 02:11:02,\\\"87,5\\\"\"\n[3] \"\\\"Blümchen\\\",\\\"20 de abril de 1980\\\",2023-09-22 03:23:05,\\\"99,0\\\"\"    \n[4] \"\\\"João\\\",\\\"10 de junio de 1931\\\",2023-09-21 22:43:28,\\\"98,9\\\"\"        \n[5] \"\\\"López\\\",\\\"24 de julio de 1969\\\",2023-09-22 01:06:59,\\\"88,7\\\"\"       \n[6] \"\\\"Ñengo\\\",\\\"15 de diciembre de 1981\\\",2023-09-21 23:35:37,\\\"93,1\\\"\"   \n[7] \"\\\"Plácido\\\",\\\"24 de enero de 1941\\\",2023-09-21 23:17:21,\\\"88,7\\\"\"     \n[8] \"\\\"Thalía\\\",\\\"26 de agosto de 1971\\\",2023-09-21 23:08:02,\\\"83,0\\\"\""
  },
  {
    "objectID": "slides/13-locales.html#section",
    "href": "slides/13-locales.html#section",
    "title": "Locales",
    "section": "",
    "text": "Now, to compute the student ages, let’s try changing the submission times to date format:\n\n\nlibrary(lubridate) \ndmy(dat$f.n.) \n\n[1] NA NA NA NA NA NA NA\n\n\n\nNothing gets converted correctly.\nThis is because the dates are in Spanish."
  },
  {
    "objectID": "slides/13-locales.html#example-read-data",
    "href": "slides/13-locales.html#example-read-data",
    "title": "Locales",
    "section": "Example: read data",
    "text": "Example: read data\n\nwe will to compute the students age and check if they turned in their assignment by the deadline of September 21, 2023, before midnight.\nWe can read in the file with correct encoding:\n\n\ndat &lt;- read_csv(fn, locale = locale(encoding = \"ISO-8859-1\")) \n\n\nHowever, notice that the last column, which is supposed to contain exam scores between 0 and 100, shows numbers larger than 800:\n\n\ndat$puntuación \n\n[1] 875 990 989 887 931 887 830"
  },
  {
    "objectID": "slides/13-locales.html#example-change-locale",
    "href": "slides/13-locales.html#example-change-locale",
    "title": "Locales",
    "section": "Example: change locale",
    "text": "Example: change locale\n\nThis happens because the scores in the file use the European decimal point, which confuses read_csv.\nTo address this issue, we can change the encoding to use European decimals:\n\n\ndat &lt;- read_csv(fn, locale = locale(decimal_mark = \",\", \n                                    encoding = \"ISO-8859-1\")) \ndat$puntuación \n\n[1] 87.5 99.0 98.9 88.7 93.1 88.7 83.0"
  },
  {
    "objectID": "slides/13-locales.html#example-change-to-date-format",
    "href": "slides/13-locales.html#example-change-to-date-format",
    "title": "Locales",
    "section": "Example: change to date format",
    "text": "Example: change to date format\n\nTry changing the submission times to date format:\n\n\nlibrary(lubridate) \ndmy(dat$f.n.) \n\n[1] NA NA NA NA NA NA NA\n\n\nMistakes! Because the dates are in Spanish.\nWe can change to use Spanish as for dates:\n\nparse_date(dat$f.n., format = \"%d de %B de %Y\", locale = locale(date_names = \"es\")) \n\n[1] \"1981-09-04\" \"1980-04-20\" \"1931-06-10\" \"1969-07-24\" \"1981-12-15\"\n[6] \"1941-01-24\" \"1971-08-26\"\n\n\n\n%d: day of month (01-31); %B: full month name; %Y: 4-digit year"
  },
  {
    "objectID": "slides/13-locales.html#example-read-using-locale",
    "href": "slides/13-locales.html#example-read-using-locale",
    "title": "Locales",
    "section": "Example: Read using locale",
    "text": "Example: Read using locale\nWe can also reread the file using the correct locales:\n\ndat &lt;- read_csv(fn, locale = locale(date_names = \"es\", \n                                    date_format = \"%d de %B de %Y\", \n                                    decimal_mark = \",\", \n                                    encoding = \"ISO-8859-1\"))"
  },
  {
    "objectID": "slides/13-locales.html#example-compute-the-age",
    "href": "slides/13-locales.html#example-compute-the-age",
    "title": "Locales",
    "section": "Example: compute the age",
    "text": "Example: compute the age\nComputing the students’ ages is now straightforward:\n\ntime_length(today() - dat$f.n., unit = \"years\") |&gt; floor() \n\n[1] 44 45 94 56 44 84 54"
  },
  {
    "objectID": "slides/13-locales.html#example-which-student-turned-in-late",
    "href": "slides/13-locales.html#example-which-student-turned-in-late",
    "title": "Locales",
    "section": "Example: which student turned in late",
    "text": "Example: which student turned in late\n\nLet’s check which students turned in their homework past the deadline of September 22:\n\n\ndat$estampa &gt;= make_date(2023, 9, 22) \n\n[1]  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE\n\n\n\nWe see that two students were late.\nHowever, with times we have to be particularly careful as some functions default to the UTC timezone:\n\n\ntz(dat$estampa) #default UTC=UTC+0\n\n[1] \"UTC\""
  },
  {
    "objectID": "slides/13-locales.html#example-change-timezone",
    "href": "slides/13-locales.html#example-change-timezone",
    "title": "Locales",
    "section": "Example: change timezone",
    "text": "Example: change timezone\n\nIf we change to Eastern Standard Time (EST), we see no one was late:\n\n\nwith_tz(dat$estampa, tz =  \"EST\") &gt;= make_date(2023, 9, 22) \n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "slides/14-data-apis.html#data-apis",
    "href": "slides/14-data-apis.html#data-apis",
    "title": "Data APIs",
    "section": "Data APIs",
    "text": "Data APIs\n\nAn Application Programming Interface (API) is a set of rules and protocols that allows different software entities to communicate with each other.\nIt defines methods and data formats that software components should use when requesting and exchanging information."
  },
  {
    "objectID": "slides/14-data-apis.html#types-and-concepts",
    "href": "slides/14-data-apis.html#types-and-concepts",
    "title": "Data APIs",
    "section": "Types and concepts",
    "text": "Types and concepts\nThe main APIs related to retrieving data are:\n\nWeb Services - Often built using protocols like HTTP/HTTPS.\nDatabase APIs - Enable communication between an application and a database, SQL-based calls for example."
  },
  {
    "objectID": "slides/14-data-apis.html#key-concepts",
    "href": "slides/14-data-apis.html#key-concepts",
    "title": "Data APIs",
    "section": "Key concepts",
    "text": "Key concepts\n\nEndpoints: Usually a URL where API can be accessed.\nMethods: Actions that can be performed, for example HTTP methods like GET, POST, PUT, or DELETE.\nRequest: Asking the API to perform a function.\nResponse: The data it returns.\nRate Limits: Restrictions on calls to API.\nAuthentication and Authorization: Methods include API keys, OAuth, or Jason Web Tokens (JWT).\nData Formats: Many web APIs exchange data in a specific format, often JSON or CSV."
  },
  {
    "objectID": "slides/14-data-apis.html#json",
    "href": "slides/14-data-apis.html#json",
    "title": "Data APIs",
    "section": "JSON",
    "text": "JSON\n\nSharing data on the internet has become more and more common.\nproviders use different formats\nA format that is widely being adopted is the JavaScript Object Notation or JSON."
  },
  {
    "objectID": "slides/14-data-apis.html#json-1",
    "href": "slides/14-data-apis.html#json-1",
    "title": "Data APIs",
    "section": "JSON",
    "text": "JSON\n\nJSON file: a list of key value pairs\n\n\n\n[\n  {\n    \"name\": \"Miguel\",\n    \"student_id\": 1,\n    \"exam_1\": 85,\n    \"exam_2\": 86\n  },\n  {\n    \"name\": \"Sofia\",\n    \"student_id\": 2,\n    \"exam_1\": 94,\n    \"exam_2\": 93\n  },\n  {\n    \"name\": \"Aya\",\n    \"student_id\": 3,\n    \"exam_1\": 87,\n    \"exam_2\": 88\n  },\n  {\n    \"name\": \"Cheng\",\n    \"student_id\": 4,\n    \"exam_1\": 90,\n    \"exam_2\": 91\n  }\n]"
  },
  {
    "objectID": "slides/14-data-apis.html#json-2",
    "href": "slides/14-data-apis.html#json-2",
    "title": "Data APIs",
    "section": "JSON",
    "text": "JSON\n\nThe nobel object is rather complicated (using str to see its structure). The prizes component includes a list of data frames with information about Nobel Laureates:\n\n\nnames(nobel)\n\n[1] \"prizes\"\n\nstr(nobel$prizes, max.level = 1)\n\n'data.frame':   682 obs. of  4 variables:\n $ year             : chr  \"2025\" \"2025\" \"2025\" \"2025\" ...\n $ category         : chr  \"chemistry\" \"economics\" \"literature\" \"peace\" ...\n $ laureates        :List of 682\n $ overallMotivation: chr  NA \"\\\"for having explained innovation-driven economic growth\\\"\" NA NA ...\n\nnobel$prizes |&gt; \n  filter(category == \"literature\" & year == \"1971\") |&gt;  \n  pull(laureates) |&gt; # extract laureates column as a vector/list\n  first() |&gt; # take the first element \n  select(id, firstname, surname) \n\n   id firstname surname\n1 645     Pablo  Neruda"
  },
  {
    "objectID": "slides/14-data-apis.html#json-3",
    "href": "slides/14-data-apis.html#json-3",
    "title": "Data APIs",
    "section": "JSON",
    "text": "JSON\nThe JSON parsers have arguments that make the list components into vectors and lists into data frames when possible:\n\nsimplifyVector\nsimplifyDataFrame\nsimplifyMatrix\nflatten"
  },
  {
    "objectID": "slides/14-data-apis.html#json-4",
    "href": "slides/14-data-apis.html#json-4",
    "title": "Data APIs",
    "section": "JSON",
    "text": "JSON\n\nThe object is rather complicated. The prizes component includes a list of data frames with information about Nobel Laureates:\n\n\nnobel$prizes |&gt; \n  filter(category == \"literature\" & year == \"1971\") |&gt;  \n  pull(laureates) |&gt; \n  first() |&gt; \n  select(id, firstname, surname) \n\n   id firstname surname\n1 645     Pablo  Neruda"
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package",
    "href": "slides/14-data-apis.html#the-httr2-package",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nHTTPS is the most widely used protocol for data sharing through the internet.\nThe httr2 package provides functions to work with HTTPS requests.\nOne of the core functions in this package is request, which is used to form request to send to web services.\nThe req_perform function sends the request.\nThis request function forms an HTTP GET request to the specified URL."
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-1",
    "href": "slides/14-data-apis.html#the-httr2-package-1",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nThe CDC also provides data in json format through:\n\n\nurl &lt;- \"https://data.cdc.gov/resource/muzy-jte6.json\" \n\n\nTo extract the data table we use the fromJSON function from the jsonlite package.\n\n\ntab &lt;- request(url) |&gt;  \n   req_perform() |&gt;  \n   resp_body_json(simplifyDataFrame = TRUE) \n\n\nWhen working with APIs, it’s essential to check the API’s documentation for rate limits, required headers, or authentication methods."
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-2",
    "href": "slides/14-data-apis.html#the-httr2-package-2",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nThe httr2 package provides tools to handle these requirements, such as setting headers or authentication parameters."
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-3",
    "href": "slides/14-data-apis.html#the-httr2-package-3",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nWe can see the results of the request by looking at the returned object.\n\n\nresponse\n\n&lt;httr2_response&gt;\nGET https://data.cdc.gov/resource/muzy-jte6.csv\nStatus: 200 OK\nContent-Type: text/csv\nBody: In memory (210922 bytes)"
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-4",
    "href": "slides/14-data-apis.html#the-httr2-package-4",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nTo extract the body, which is where the data are, we can use resp_body_string and send the result, a comma delimited string, to read_csv.\n\n\nlibrary(readr) \ntab &lt;- response |&gt; resp_body_string() |&gt; read_csv() \n\n\nWe note that the returned object is only 1000 entries.\nAPI often limit how much you can download."
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-5",
    "href": "slides/14-data-apis.html#the-httr2-package-5",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nThe documentation for this API explains that we can change this limit through the.\n$limit parameters.\nWe can use the req_url_path_append to add this to our request:\n\n\nresponse &lt;- request(url) |&gt; \n  req_url_query(.multi = \"comma\", `$limit` = \"100000\") |&gt;\n  req_perform()\n\n\nThe CDC service returns data in csv format but a more common format used by web services is JSON."
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-6",
    "href": "slides/14-data-apis.html#the-httr2-package-6",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nThe CDC also provides data in json format through:\n\n\nurl &lt;- \"https://data.cdc.gov/resource/muzy-jte6.json\" \n\n\nTo extract the data table we use the fromJSON function from the jsonlite package.\n\n\ntab &lt;- request(url) |&gt;  \n   req_perform() |&gt;  \n   resp_body_json(simplifyDataFrame = TRUE) \n\n\nWhen working with APIs, it’s essential to check the API’s documentation for rate limits, required headers, or authentication methods."
  },
  {
    "objectID": "slides/14-data-apis.html#the-httr2-package-7",
    "href": "slides/14-data-apis.html#the-httr2-package-7",
    "title": "Data APIs",
    "section": "The httr2 package",
    "text": "The httr2 package\n\nThe httr2 package provides tools to handle these requirements, such as setting headers or authentication parameters."
  },
  {
    "objectID": "slides/14-data-apis.html#read-json",
    "href": "slides/14-data-apis.html#read-json",
    "title": "Data APIs",
    "section": "Read JSON",
    "text": "Read JSON\n\nHere is an example reading information aobut Nobel prize winners:\n\n\nlibrary(jsonlite) \nnobel &lt;- fromJSON(\"http://api.nobelprize.org/v1/prize.json\") \n\n\nThis downloads a JSON file and reads into a list:\n\n\nclass(nobel)\n\n[1] \"list\""
  },
  {
    "objectID": "slides/14-data-apis.html#parse-json",
    "href": "slides/14-data-apis.html#parse-json",
    "title": "Data APIs",
    "section": "Parse JSON",
    "text": "Parse JSON\nThe JSON parsers have arguments that make the list components into vectors and lists into data frames when possible:\n\nsimplifyVector\nsimplifyDataFrame\nsimplifyMatrix\nflatten"
  },
  {
    "objectID": "slides/14-data-apis.html#json-extract-data",
    "href": "slides/14-data-apis.html#json-extract-data",
    "title": "Data APIs",
    "section": "JSON: Extract data",
    "text": "JSON: Extract data\n\nThe nobel object is rather complicated\n\n\nnames(nobel)\n\n[1] \"prizes\"\n\nstr(nobel$prizes, max.level = 1)\n\n'data.frame':   682 obs. of  4 variables:\n $ year             : chr  \"2025\" \"2025\" \"2025\" \"2025\" ...\n $ category         : chr  \"chemistry\" \"economics\" \"literature\" \"peace\" ...\n $ laureates        :List of 682\n $ overallMotivation: chr  NA \"\\\"for having explained innovation-driven economic growth\\\"\" NA NA ...\n\nnobel$prizes |&gt; \n  filter(category == \"literature\" & year == \"1971\") |&gt;  \n  pull(laureates) |&gt; # extract laureates column as a vector/list\n  first() |&gt; # take the first element \n  select(id, firstname, surname) \n\n   id firstname surname\n1 645     Pablo  Neruda"
  },
  {
    "objectID": "slides/14-data-apis.html#the-get-method",
    "href": "slides/14-data-apis.html#the-get-method",
    "title": "Data APIs",
    "section": "The GET method",
    "text": "The GET method\n\nHTTP GET requests are used to retrieve information from a server\nThe function returns an object of class response.\nresonse contains status code, headers, and content.\nWe then use other httr2 functions to extract or interpret information from this response.\nLet’s say we want to retrieve COVID-19 deaths by state from the CDC."
  },
  {
    "objectID": "slides/14-data-apis.html#get-request",
    "href": "slides/14-data-apis.html#get-request",
    "title": "Data APIs",
    "section": "GET request",
    "text": "GET request\n\nurl &lt;- \"https://data.cdc.gov/resource/muzy-jte6.csv\" \n\n\nlibrary(httr2) \nresponse &lt;- request(url) |&gt;  req_perform() \n\n\n\n\n\n\n\nCaution\n\n\nIf errors, install the newest version of R, and then Tools-&gt;Global Options-&gt;R session: select the newer version of R."
  },
  {
    "objectID": "slides/14-data-apis.html#response",
    "href": "slides/14-data-apis.html#response",
    "title": "Data APIs",
    "section": "Response",
    "text": "Response\n\nresponse\n\n&lt;httr2_response&gt;\nGET https://data.cdc.gov/resource/muzy-jte6.csv\nStatus: 200 OK\nContent-Type: text/csv\nBody: In memory (210922 bytes)"
  },
  {
    "objectID": "slides/14-data-apis.html#extract-data",
    "href": "slides/14-data-apis.html#extract-data",
    "title": "Data APIs",
    "section": "Extract data",
    "text": "Extract data\n\nTo extract the body, which is where the data are, we can use resp_body_string and send the result, a comma delimited string, to read_csv.\n\n\nlibrary(readr) \ntab &lt;- response |&gt; resp_body_string() |&gt; read_csv() \n\n\nWe note that the returned object is only 1000 entries.\nAPI often limit how much you can download."
  },
  {
    "objectID": "slides/14-data-apis.html#change-message-limit",
    "href": "slides/14-data-apis.html#change-message-limit",
    "title": "Data APIs",
    "section": "Change message limit",
    "text": "Change message limit\n\nuse req_url_query to add query parameters:\n\n\nresponse &lt;- request(url) |&gt; \n  req_url_query( `$limit` = \"100000\") |&gt; \n  req_perform()\n\n\nThe CDC service returns data in csv format but a more common format used by web services is JSON."
  },
  {
    "objectID": "slides/14-data-apis.html#request-json-data",
    "href": "slides/14-data-apis.html#request-json-data",
    "title": "Data APIs",
    "section": "Request JSON data",
    "text": "Request JSON data\n\nThe CDC also provides data in json format:\n\n\nurl &lt;- \"https://data.cdc.gov/resource/muzy-jte6.json\" \n\n\ntab &lt;- request(url) |&gt;  \n   req_perform() |&gt;  \n   resp_body_json(simplifyDataFrame = TRUE) \n\n\nWhen working with APIs, it’s essential to check the API’s documentation for rate limits, required headers, or authentication methods.\nThe httr2 package provides tools to handle these requirements, such as setting headers or authentication parameters."
  },
  {
    "objectID": "slides/15-web-scraping.html#scraping-html",
    "href": "slides/15-web-scraping.html#scraping-html",
    "title": "Web Scraping",
    "section": "Scraping HTML",
    "text": "Scraping HTML\n\nYou can see the data table when you visit the webpage https://en.wikipedia.org/w/index.php?title=Gun_violence_in_the_United_States_by_state&direction=prev&oldid=810166167:\nWeb scraping, or web harvesting, is the term we use to describe the process of extracting data from a website."
  },
  {
    "objectID": "slides/15-web-scraping.html#scraping-html-1",
    "href": "slides/15-web-scraping.html#scraping-html-1",
    "title": "Web Scraping",
    "section": "Scraping HTML",
    "text": "Scraping HTML\n\nYou can see the data table when you visit the webpage https://en.wikipedia.org/wiki/Gun_violence_in_the_United_States:\n\n.\n\nWeb scraping, or web harvesting, is the term we use to describe the process of extracting data from a website."
  },
  {
    "objectID": "slides/15-web-scraping.html#scraping-html-2",
    "href": "slides/15-web-scraping.html#scraping-html-2",
    "title": "Web Scraping",
    "section": "Scraping HTML",
    "text": "Scraping HTML\n\nThe reason we can do this is because the information used by a browser to render webpages is received as a text file from a server.\nThe text is code written in hyper text markup language (HTML).\nEvery browser has a way to show the html source code for a page, each one different.\nOn Chrome, you can use Control-U on a PC and command+alt+U on a Mac."
  },
  {
    "objectID": "slides/15-web-scraping.html#scraping-html-3",
    "href": "slides/15-web-scraping.html#scraping-html-3",
    "title": "Web Scraping",
    "section": "Scraping HTML",
    "text": "Scraping HTML\n."
  },
  {
    "objectID": "slides/15-web-scraping.html#html",
    "href": "slides/15-web-scraping.html#html",
    "title": "Web Scraping",
    "section": "HTML",
    "text": "HTML\n\nBecause this code is accessible, we can download the HTML file, import it into R, and then write programs to extract the information we need from the page.\nHowever, once we look at HTML code, this might seem like a daunting task.\nBut we will show you some convenient tools to facilitate the process."
  },
  {
    "objectID": "slides/15-web-scraping.html#html-1",
    "href": "slides/15-web-scraping.html#html-1",
    "title": "Web Scraping",
    "section": "HTML",
    "text": "HTML\n\nTo get an idea of how it works, here are a few lines of code from the Wikipedia page that provides the US murders data:\n\n&lt;table class=\"wikitable sortable\"&gt; \n&lt;tr&gt; \n&lt;th&gt;State&lt;/th&gt; \n&lt;th&gt;&lt;a href=\"/wiki/List_of_U.S._states_and_territories_by_population\"  \ntitle=\"List of U.S. states and territories by population\"&gt;Population&lt;/a&gt;&lt;br /&gt; \n&lt;small&gt;(total inhabitants)&lt;/small&gt;&lt;br /&gt; \n&lt;small&gt;(2015)&lt;/small&gt; &lt;sup id=\"cite_ref-1\" class=\"reference\"&gt; \n&lt;a href=\"#cite_note-1\"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;/th&gt; \n&lt;th&gt;Murders and Nonnegligent \n&lt;p&gt;Manslaughter&lt;br /&gt; \n&lt;small&gt;(total deaths)&lt;/small&gt;&lt;br /&gt; \n&lt;small&gt;(2015)&lt;/small&gt; &lt;sup id=\"cite_ref-2\" class=\"reference\"&gt; \n&lt;a href=\"#cite_note-2\"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt; \n&lt;/th&gt; \n&lt;th&gt;Murder and Nonnegligent \n&lt;p&gt;Manslaughter Rate&lt;br /&gt; \n&lt;small&gt;(per 100,000 inhabitants)&lt;/small&gt;&lt;br /&gt; \n&lt;small&gt;(2015)&lt;/small&gt;&lt;/p&gt; \n&lt;/th&gt; \n&lt;/tr&gt; \n&lt;tr&gt; \n&lt;td&gt;&lt;a href=\"/wiki/Alabama\" title=\"Alabama\"&gt;Alabama&lt;/a&gt;&lt;/td&gt; \n&lt;td&gt;4,853,875&lt;/td&gt; \n&lt;td&gt;348&lt;/td&gt; \n&lt;td&gt;7.2&lt;/td&gt; \n&lt;/tr&gt; \n&lt;tr&gt; \n&lt;td&gt;&lt;a href=\"/wiki/Alaska\" title=\"Alaska\"&gt;Alaska&lt;/a&gt;&lt;/td&gt; \n&lt;td&gt;737,709&lt;/td&gt; \n&lt;td&gt;59&lt;/td&gt; \n&lt;td&gt;8.0&lt;/td&gt; \n&lt;/tr&gt; \n&lt;tr&gt;"
  },
  {
    "objectID": "slides/15-web-scraping.html#html-2",
    "href": "slides/15-web-scraping.html#html-2",
    "title": "Web Scraping",
    "section": "HTML",
    "text": "HTML\n\nYou can actually see the data, except data values are surrounded by html code such as &lt;td&gt;.\nWe can also see a pattern of how it is stored.\nIf you know HTML, you can write programs that leverage knowledge of these patterns to extract what we want.\nWe also take advantage of a language widely used to make webpages look “pretty” called Cascading Style Sheets (CSS)."
  },
  {
    "objectID": "slides/15-web-scraping.html#html-3",
    "href": "slides/15-web-scraping.html#html-3",
    "title": "Web Scraping",
    "section": "HTML",
    "text": "HTML\n\nAlthough we provide tools that make it possible to scrape data without knowing HTML, it is useful to learn some HTML and CSS.\nNot only does this improve your scraping skills, but it might come in handy if you are creating a webpage to showcase your work.\nThere are plenty of online courses and tutorials for learning these.\nTwo examples are Codeacademy and W3schools."
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package",
    "href": "slides/15-web-scraping.html#the-rvest-package",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nThe tidyverse provides a web harvesting package called rvest.\n\n\nlibrary(tidyverse) \nlibrary(rvest) \nh &lt;- read_html(url) \n\n\nNote that the entire Murders in the US Wikipedia webpage is now contained in h."
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-1",
    "href": "slides/15-web-scraping.html#the-rvest-package-1",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nThe class of this object is:\n\n\nclass(h) \n\n[1] \"xml_document\" \"xml_node\"    \n\n\n\nThe rvest package is more general; it handles XML documents.\nXML is a general markup language that can be used to represent any kind of data.\nHTML is a specific type of XML specifically developed for representing webpages."
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-2",
    "href": "slides/15-web-scraping.html#the-rvest-package-2",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nNow, how do we extract the table from the object h? If you were to print h, we would see information about the object that is not very informative.\nWe can see all the code that defines the downloaded webpage using the html_text function:\n\n\nhtml_text(h)"
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-3",
    "href": "slides/15-web-scraping.html#the-rvest-package-3",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nWe can now make the data frame:\n\n\ntab &lt;- tab |&gt; \n  setNames(c(\"state\", \"population\", \"total\", \"murder_rate\")) |&gt;\n  mutate(across(c(population, total), parse_number))\nhead(tab,3) \n\n# A tibble: 3 × 4\n  state   population total murder_rate\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;\n1 Alabama    4853875   348         7.2\n2 Alaska      737709    59         8  \n3 Arizona    6817565   309         4.5\n\n\n\nparse_number(): extract the numeric part from strings and converts to numeric\napply parse_number to population and total"
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-4",
    "href": "slides/15-web-scraping.html#the-rvest-package-4",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nWe can now make the data frame:\n\n\ntab &lt;- tab |&gt; \n  setNames(c(\"state\", \"population\", \"total\", \"murder_rate\")) |&gt;\n  mutate(across(c(population, total), parse_number))\nhead(tab) \n\n# A tibble: 6 × 4\n  state      population total murder_rate\n  &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;\n1 Alabama       4853875   348         7.2\n2 Alaska         737709    59         8  \n3 Arizona       6817565   309         4.5\n4 Arkansas      2977853   181         6.1\n5 California   38993940  1861         4.8\n6 Colorado      5448819   176         3.2"
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-5",
    "href": "slides/15-web-scraping.html#the-rvest-package-5",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nThis is clearly not a tidy dataset, not even a data frame.\nIn the code above, you can definitely see a pattern and writing code to extract just the data is very doable.\nIn fact, rvest includes a function just for converting HTML tables into data frames:\n\n\ntab &lt;- tab[[1]] |&gt; html_table() \nclass(tab) \n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\""
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-6",
    "href": "slides/15-web-scraping.html#the-rvest-package-6",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nWe can now make the data frame:\n\n\ntab &lt;- tab |&gt; \n  setNames(c(\"state\", \"population\", \"total\", \"murder_rate\")) |&gt;\n  mutate(across(c(population, total), parse_number))\nhead(tab) \n\n# A tibble: 6 × 4\n  state      population total murder_rate\n  &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;\n1 Alabama       4853875   348         7.2\n2 Alaska         737709    59         8  \n3 Arizona       6817565   309         4.5\n4 Arkansas      2977853   181         6.1\n5 California   38993940  1861         4.8\n6 Colorado      5448819   176         3.2"
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-7",
    "href": "slides/15-web-scraping.html#the-rvest-package-7",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nThis is clearly not a tidy dataset, not even a data frame.\nIn the code above, you can definitely see a pattern and writing code to extract just the data is very doable.\nIn fact, rvest includes a function just for converting HTML tables into data frames:\n\n\ntab &lt;- tab[[1]] |&gt; html_table() \nclass(tab) \n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\""
  },
  {
    "objectID": "slides/15-web-scraping.html#the-rvest-package-8",
    "href": "slides/15-web-scraping.html#the-rvest-package-8",
    "title": "Web Scraping",
    "section": "The rvest package",
    "text": "The rvest package\n\nWe can now make the data frame:\n\n\ntab &lt;- tab |&gt; \n  setNames(c(\"state\", \"population\", \"total\", \"murder_rate\")) |&gt;\n  mutate(across(c(population, total), parse_number))\nhead(tab) \n\n# A tibble: 6 × 4\n  state      population total murder_rate\n  &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;\n1 Alabama       4853875   348         7.2\n2 Alaska         737709    59         8  \n3 Arizona       6817565   309         4.5\n4 Arkansas      2977853   181         6.1\n5 California   38993940  1861         4.8\n6 Colorado      5448819   176         3.2"
  },
  {
    "objectID": "slides/15-web-scraping.html#css-selectors",
    "href": "slides/15-web-scraping.html#css-selectors",
    "title": "Web Scraping",
    "section": "CSS selectors",
    "text": "CSS selectors\n\nhttps://rvest.tidyverse.org/articles/selectorgadget.html]\nhttps://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/"
  },
  {
    "objectID": "slides/15-web-scraping.html#html-webpage",
    "href": "slides/15-web-scraping.html#html-webpage",
    "title": "Web Scraping",
    "section": "HTML Webpage",
    "text": "HTML Webpage\n\nThe data we need is not always in a spreadsheet ready for us to read.\nFor example, the US murders dataset we used in the R Basics chapter originally comes from this Wikipedia page:\n\n\nurl &lt;- paste0(\"https://en.wikipedia.org/w/index.php?title=\", \n              \"Gun_violence_in_the_United_States_by_state\", \n              \"&direction=prev&oldid=810166167\") \n\n\npast0(): concatenate with no separators"
  },
  {
    "objectID": "slides/15-web-scraping.html#html-source",
    "href": "slides/15-web-scraping.html#html-source",
    "title": "Web Scraping",
    "section": "HTML Source",
    "text": "HTML Source\n\nThe reason we can do this is because the information used by a browser to render webpages is received as a text file from a server.\nThe text is code written in hyper text markup language (HTML).\nTo see the source code, On Chrome, use Control-U on a PC and command+alt+U on a Mac."
  },
  {
    "objectID": "slides/15-web-scraping.html#html-parsing",
    "href": "slides/15-web-scraping.html#html-parsing",
    "title": "Web Scraping",
    "section": "HTML Parsing",
    "text": "HTML Parsing\n\nBecause this code is accessible, we can download the HTML file, import it into R, and then write programs to extract the information we need from the page.\nHowever, once we look at HTML code, this might seem like a daunting task.\nBut we have some convenient tools to facilitate the process."
  },
  {
    "objectID": "slides/15-web-scraping.html#html-code-example",
    "href": "slides/15-web-scraping.html#html-code-example",
    "title": "Web Scraping",
    "section": "HTML code example",
    "text": "HTML code example\n\nTo get an idea of how it works, here are a few lines of code from the Wikipedia page that provides the US murders data:\n\n&lt;table class=\"wikitable sortable\"&gt; \n&lt;tr&gt; \n&lt;th&gt;State&lt;/th&gt; \n&lt;th&gt;&lt;a href=\"/wiki/List_of_U.S._states_and_territories_by_population\"  \ntitle=\"List of U.S. states and territories by population\"&gt;Population&lt;/a&gt;&lt;br /&gt; \n&lt;small&gt;(total inhabitants)&lt;/small&gt;&lt;br /&gt; \n&lt;small&gt;(2015)&lt;/small&gt; &lt;sup id=\"cite_ref-1\" class=\"reference\"&gt; \n&lt;a href=\"#cite_note-1\"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;/th&gt; \n&lt;th&gt;Murders and Nonnegligent \n&lt;p&gt;Manslaughter&lt;br /&gt; \n&lt;small&gt;(total deaths)&lt;/small&gt;&lt;br /&gt; \n&lt;small&gt;(2015)&lt;/small&gt; &lt;sup id=\"cite_ref-2\" class=\"reference\"&gt; \n&lt;a href=\"#cite_note-2\"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt; \n&lt;/th&gt; \n&lt;th&gt;Murder and Nonnegligent \n&lt;p&gt;Manslaughter Rate&lt;br /&gt; \n&lt;small&gt;(per 100,000 inhabitants)&lt;/small&gt;&lt;br /&gt; \n&lt;small&gt;(2015)&lt;/small&gt;&lt;/p&gt; \n&lt;/th&gt; \n&lt;/tr&gt; \n&lt;tr&gt; \n&lt;td&gt;&lt;a href=\"/wiki/Alabama\" title=\"Alabama\"&gt;Alabama&lt;/a&gt;&lt;/td&gt; \n&lt;td&gt;4,853,875&lt;/td&gt; \n&lt;td&gt;348&lt;/td&gt; \n&lt;td&gt;7.2&lt;/td&gt; \n&lt;/tr&gt; \n&lt;tr&gt; \n&lt;td&gt;&lt;a href=\"/wiki/Alaska\" title=\"Alaska\"&gt;Alaska&lt;/a&gt;&lt;/td&gt; \n&lt;td&gt;737,709&lt;/td&gt; \n&lt;td&gt;59&lt;/td&gt; \n&lt;td&gt;8.0&lt;/td&gt; \n&lt;/tr&gt; \n&lt;tr&gt;"
  },
  {
    "objectID": "slides/15-web-scraping.html#html-structure",
    "href": "slides/15-web-scraping.html#html-structure",
    "title": "Web Scraping",
    "section": "HTML Structure",
    "text": "HTML Structure\n\nYou can actually see the data, except data values are surrounded by html code such as &lt;td&gt;.\nWebpages often use Cascading Style Sheets (CSS), a language widely used to make webpages look “pretty”\nResources: Codeacademy and W3schools."
  },
  {
    "objectID": "slides/15-web-scraping.html#extracting-nodes",
    "href": "slides/15-web-scraping.html#extracting-nodes",
    "title": "Web Scraping",
    "section": "Extracting nodes",
    "text": "Extracting nodes\n\nthe data we are after are stored in an HTML table: you can see this in this line of the HTML code above &lt;table class=\"wikitable sortable\"&gt;.\nThe different parts of an HTML document, often defined with a message in between &lt; and &gt; are referred to as nodes.\nhtml_nodes extracts all nodes of different types and html_node extracts the first one."
  },
  {
    "objectID": "slides/15-web-scraping.html#extract-the-table",
    "href": "slides/15-web-scraping.html#extract-the-table",
    "title": "Web Scraping",
    "section": "Extract the table",
    "text": "Extract the table\n\ntab &lt;- h |&gt; html_nodes(\"table\") \n\n\nNow, instead of the entire webpage, we just have the html code for the tables in the page\n\n\ntab \n\n{xml_nodeset (2)}\n[1] &lt;table class=\"wikitable sortable\"&gt;&lt;tbody&gt;\\n&lt;tr&gt;\\n&lt;th&gt;State\\n&lt;/th&gt;\\n&lt;th&gt;\\n ...\n[2] &lt;table class=\"nowraplinks hlist mw-collapsible mw-collapsed navbox-inner\" ...\n\n\n\nThe table we are interested is the first one:\n\n\ntab[[1]] # tab[[1]]: content tab[1]: a nodeset of length 1\n\n{html_node}\n&lt;table class=\"wikitable sortable\"&gt;\n[1] &lt;tbody&gt;\\n&lt;tr&gt;\\n&lt;th&gt;State\\n&lt;/th&gt;\\n&lt;th&gt;\\n&lt;a href=\"/wiki/List_of_U.S._states ..."
  },
  {
    "objectID": "slides/15-web-scraping.html#convert-to-df",
    "href": "slides/15-web-scraping.html#convert-to-df",
    "title": "Web Scraping",
    "section": "Convert to df",
    "text": "Convert to df\n\nThis is clearly not a tidy dataset, not even a data frame.\n\n\ntab &lt;- tab[[1]] |&gt; html_table() \nclass(tab) \n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\ntbl_df: main class for a tibble dataframe; tbl: old tibble tag;"
  },
  {
    "objectID": "slides/15-web-scraping.html#wrangling-the-table",
    "href": "slides/15-web-scraping.html#wrangling-the-table",
    "title": "Web Scraping",
    "section": "Wrangling the table",
    "text": "Wrangling the table\n\ntab &lt;- tab |&gt; \n  setNames(c(\"state\", \"population\", \"total\", \"murder_rate\")) |&gt;\n  mutate(across(c(population, total), parse_number))\nhead(tab,3) \n\n# A tibble: 3 × 4\n  state   population total murder_rate\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;\n1 Alabama    4853875   348         7.2\n2 Alaska      737709    59         8  \n3 Arizona    6817565   309         4.5\n\n\n\nparse_number(): extract the numeric part from strings and converts to numeric\napply parse_number to population and total"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-tables",
    "href": "slides/16-joining-tables.html#joining-tables",
    "title": "Joining Tables",
    "section": "Joining tables",
    "text": "Joining tables\n\nJust combining these two tables together will not work since the order of the states is not the same adn the states may not match.\n\n\nidentical(results_us_election_2016$state, murders$state) \n\n[1] FALSE"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-tables-1",
    "href": "slides/16-joining-tables.html#joining-tables-1",
    "title": "Joining Tables",
    "section": "Joining tables (1)",
    "text": "Joining tables (1)\n\nSuppose we want to explore the relationship between population size for US states and electoral votes.\nWe have the population size in this table:\n\n\nlibrary(tidyverse) \nlibrary(dslabs) \nhead(murders) \n\n       state abb region population total\n1    Alabama  AL  South    4779736   135\n2     Alaska  AK   West     710231    19\n3    Arizona  AZ   West    6392017   232\n4   Arkansas  AR  South    2915918    93\n5 California  CA   West   37253956  1257\n6   Colorado  CO   West    5029196    65"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-tables-2",
    "href": "slides/16-joining-tables.html#joining-tables-2",
    "title": "Joining Tables",
    "section": "Joining tables (2)",
    "text": "Joining tables (2)\n\nand electoral votes in this one:\n\n\nhead(results_us_election_2016) \n\n         state electoral_votes  clinton    trump  johnson     stein  mcmullin\n1   California              55 61.72640 31.61711 3.374092 1.9649200 0.2792070\n2        Texas              38 43.23526 52.23469 3.160719 0.7978169 0.4723485\n3      Florida              29 47.82332 49.02194 2.197900 0.6836384 0.0000000\n4     New York              29 59.00604 36.51559 2.287108 1.3978457 0.1343400\n5     Illinois              20 55.82537 38.76175 3.785765 1.3872131 0.2105149\n6 Pennsylvania              20 47.46495 48.18334 2.379621 0.8100102 0.1049716\n      others\n1 1.03827531\n2 0.09917244\n3 0.27320481\n4 0.65907285\n5 0.02938720\n6 1.05711187"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-tables-3",
    "href": "slides/16-joining-tables.html#joining-tables-3",
    "title": "Joining Tables",
    "section": "Joining tables",
    "text": "Joining tables\n\nJust concatenating these two tables together will not work since the order of the states is not the same.\n\n\nidentical(results_us_election_2016$state, murders$state) \n\n[1] FALSE"
  },
  {
    "objectID": "slides/16-joining-tables.html#joins",
    "href": "slides/16-joining-tables.html#joins",
    "title": "Joining Tables",
    "section": "Joins",
    "text": "Joins\n\nThe join functions are designed to handle this challenge.\nThe join functions in the dplyr package make sure that the tables are combined so that matching rows are together.\nThe general idea is that one needs to identify one or more columns that will serve as a key/keys to match the two tables."
  },
  {
    "objectID": "slides/16-joining-tables.html#joins-1",
    "href": "slides/16-joining-tables.html#joins-1",
    "title": "Joining Tables",
    "section": "Joins",
    "text": "Joins\n\nWe see the relationship is close to linear with about 2 electoral votes for every million persons, but with very small states getting higher ratios.\nIn practice, it is not always the case that each row in one table has a matching row in the other.\nFor this reason, we have several versions of join.\nTo illustrate this challenge, we will take subsets of the tables above."
  },
  {
    "objectID": "slides/16-joining-tables.html#joins-2",
    "href": "slides/16-joining-tables.html#joins-2",
    "title": "Joining Tables",
    "section": "Joins",
    "text": "Joins\n.\nNote: These names are based on SQL."
  },
  {
    "objectID": "slides/16-joining-tables.html#joins-3",
    "href": "slides/16-joining-tables.html#joins-3",
    "title": "Joining Tables",
    "section": "Joins",
    "text": "Joins\n\nWe create the tables tab1 and tab2 so that they have some states in common but not all:\n\n\ntab_1 &lt;- slice(murders, 1:6) |&gt; select(state, population) \ntab_2 &lt;- results_us_election_2016 |&gt;  \n  filter(state %in% c(\"Alabama\", \"Alaska\", \"Arizona\",  \n                    \"California\", \"Connecticut\", \"Delaware\")) |&gt;  \n  select(state, electoral_votes) |&gt; rename(ev = electoral_votes) \n\n\nWe will use these two tables as examples in the next sections."
  },
  {
    "objectID": "slides/16-joining-tables.html#joins-4",
    "href": "slides/16-joining-tables.html#joins-4",
    "title": "Joining Tables",
    "section": "Joins",
    "text": "Joins\n.\nNote: These names are based on SQL."
  },
  {
    "objectID": "slides/16-joining-tables.html#joins-5",
    "href": "slides/16-joining-tables.html#joins-5",
    "title": "Joining Tables",
    "section": "Joins",
    "text": "Joins\n\nWe create the tables tab1 and tab2 so that they have some states in common but not all:\n\n\ntab_1 &lt;- slice(murders, 1:6) |&gt; select(state, population) \ntab_2 &lt;- results_us_election_2016 |&gt;  \n  filter(state %in% c(\"Alabama\", \"Alaska\", \"Arizona\",  \n                    \"California\", \"Connecticut\", \"Delaware\")) |&gt;  \n  select(state, electoral_votes) |&gt; rename(ev = electoral_votes) \n\n\nWe will use these two tables as examples in the next sections."
  },
  {
    "objectID": "slides/16-joining-tables.html#left-join",
    "href": "slides/16-joining-tables.html#left-join",
    "title": "Joining Tables",
    "section": "Left-Join",
    "text": "Left-Join\n\ntab &lt;- left_join(murders, results_us_election_2016, by = \"state\") |&gt; \n  select(-others) |&gt; rename(ev = electoral_votes) \nhead(tab) \n\n       state abb region population total ev  clinton    trump  johnson\n1    Alabama  AL  South    4779736   135  9 34.35795 62.08309 2.094169\n2     Alaska  AK   West     710231    19  3 36.55087 51.28151 5.877128\n3    Arizona  AZ   West    6392017   232 11 44.58042 48.08314 4.082188\n4   Arkansas  AR  South    2915918    93  6 33.65190 60.57191 2.648769\n5 California  CA   West   37253956  1257 55 61.72640 31.61711 3.374092\n6   Colorado  CO   West    5029196    65  9 48.15651 43.25098 5.183748\n      stein  mcmullin\n1 0.4422682 0.0000000\n2 1.8000176 0.0000000\n3 1.3185997 0.6699155\n4 0.8378174 1.1653206\n5 1.9649200 0.2792070\n6 1.3825031 1.0400874"
  },
  {
    "objectID": "slides/16-joining-tables.html#left-join-1",
    "href": "slides/16-joining-tables.html#left-join-1",
    "title": "Joining Tables",
    "section": "Left join",
    "text": "Left join\n\nAlso, notice that this function, as well as all the other joins, can receive the first arguments through the pipe:\n\n\ntab_1 |&gt; left_join(tab_2, by = \"state\")"
  },
  {
    "objectID": "slides/16-joining-tables.html#right-join",
    "href": "slides/16-joining-tables.html#right-join",
    "title": "Joining Tables",
    "section": "Right join",
    "text": "Right join\n\nIf instead of a table with the same rows as first table, we want one with the same rows as second table, we can use right_join:\n\n\ntab_1 |&gt; right_join(tab_2, by = \"state\") \n\n        state population ev\n1     Alabama    4779736  9\n2      Alaska     710231  3\n3     Arizona    6392017 11\n4  California   37253956 55\n5 Connecticut         NA  7\n6    Delaware         NA  3\n\n\n\nNow the NAs are in the column coming from tab_1."
  },
  {
    "objectID": "slides/16-joining-tables.html#inner-join",
    "href": "slides/16-joining-tables.html#inner-join",
    "title": "Joining Tables",
    "section": "Inner join",
    "text": "Inner join\n\nIf we want to keep only the rows that have information in both tables, we use inner_join.\nYou can think of this as an intersection:\n\n\ninner_join(tab_1, tab_2, by = \"state\") \n\n       state population ev\n1    Alabama    4779736  9\n2     Alaska     710231  3\n3    Arizona    6392017 11\n4 California   37253956 55"
  },
  {
    "objectID": "slides/16-joining-tables.html#full-join",
    "href": "slides/16-joining-tables.html#full-join",
    "title": "Joining Tables",
    "section": "Full join",
    "text": "Full join\n\nIf we want to keep all the rows and fill the missing parts with NAs, we can use full_join.\nYou can think of this as a union:\n\n\nfull_join(tab_1, tab_2, by = \"state\") \n\n        state population ev\n1     Alabama    4779736  9\n2      Alaska     710231  3\n3     Arizona    6392017 11\n4    Arkansas    2915918 NA\n5  California   37253956 55\n6    Colorado    5029196 NA\n7 Connecticut         NA  7\n8    Delaware         NA  3"
  },
  {
    "objectID": "slides/16-joining-tables.html#semi-join",
    "href": "slides/16-joining-tables.html#semi-join",
    "title": "Joining Tables",
    "section": "Semi join",
    "text": "Semi join\n\nThe semi_join function lets us keep the part of first table for which we have information in the second.\nIt does not add the columns of the second:\n\n\nsemi_join(tab_1, tab_2, by = \"state\") \n\n       state population\n1    Alabama    4779736\n2     Alaska     710231\n3    Arizona    6392017\n4 California   37253956"
  },
  {
    "objectID": "slides/16-joining-tables.html#anti-join",
    "href": "slides/16-joining-tables.html#anti-join",
    "title": "Joining Tables",
    "section": "Anti join",
    "text": "Anti join\n\nThe function anti_join is the opposite of semi_join.\nIt keeps the elements of the first table for which there is no information in the second:\n\n\nanti_join(tab_1, tab_2, by = \"state\") \n\n     state population\n1 Arkansas    2915918\n2 Colorado    5029196"
  },
  {
    "objectID": "slides/16-joining-tables.html#binding",
    "href": "slides/16-joining-tables.html#binding",
    "title": "Joining Tables",
    "section": "Binding",
    "text": "Binding\n\nAlthough we have yet to use it in this book, another common way in which datasets are combined is by binding them.\nUnlike the join function, the binding functions do not try to match by a variable, but instead simply combine datasets.\nIf the datasets don’t match by the appropriate dimensions, one obtains an error."
  },
  {
    "objectID": "slides/16-joining-tables.html#binding-columns",
    "href": "slides/16-joining-tables.html#binding-columns",
    "title": "Joining Tables",
    "section": "Binding columns",
    "text": "Binding columns\n\nThe dplyr function bind_cols binds two objects by making them columns in a tibble.\n\n\nbind_cols(a = 1:3, b = 4:6) \n\n# A tibble: 3 × 2\n      a     b\n  &lt;int&gt; &lt;int&gt;\n1     1     4\n2     2     5\n3     3     6\n\n\n\nThis function requires that we assign names to the columns. Here we chose a and b.\nNote that there is an R-base function cbind with the exact same functionality."
  },
  {
    "objectID": "slides/16-joining-tables.html#binding-columns-1",
    "href": "slides/16-joining-tables.html#binding-columns-1",
    "title": "Joining Tables",
    "section": "Binding columns",
    "text": "Binding columns\n\nAn important difference is that cbind can create different types of objects, while bind_cols always produces a data frame.\nbind_cols can also bind two different data frames."
  },
  {
    "objectID": "slides/16-joining-tables.html#binding-columns-2",
    "href": "slides/16-joining-tables.html#binding-columns-2",
    "title": "Joining Tables",
    "section": "Binding columns",
    "text": "Binding columns\n\nFor example, here we break up the tab data frame and then bind them back together:\n\n\ntab_1 &lt;- tab[, 1:3] \ntab_2 &lt;- tab[, 4:6] \ntab_3 &lt;- tab[, 7:8] \nnew_tab &lt;- bind_cols(tab_1, tab_2, tab_3) \nhead(new_tab) \n\n       state abb region population total ev  clinton    trump\n1    Alabama  AL  South    4779736   135  9 34.35795 62.08309\n2     Alaska  AK   West     710231    19  3 36.55087 51.28151\n3    Arizona  AZ   West    6392017   232 11 44.58042 48.08314\n4   Arkansas  AR  South    2915918    93  6 33.65190 60.57191\n5 California  CA   West   37253956  1257 55 61.72640 31.61711\n6   Colorado  CO   West    5029196    65  9 48.15651 43.25098"
  },
  {
    "objectID": "slides/16-joining-tables.html#binding-by-rows",
    "href": "slides/16-joining-tables.html#binding-by-rows",
    "title": "Joining Tables",
    "section": "Binding by rows",
    "text": "Binding by rows\n\nThe bind_rows function is similar to bind_cols, but binds rows instead of columns:\n\n\ntab_1 &lt;- tab[1:2,] \ntab_2 &lt;- tab[3:4,] \nbind_rows(tab_1, tab_2) \n\n     state abb region population total ev  clinton    trump  johnson     stein\n1  Alabama  AL  South    4779736   135  9 34.35795 62.08309 2.094169 0.4422682\n2   Alaska  AK   West     710231    19  3 36.55087 51.28151 5.877128 1.8000176\n3  Arizona  AZ   West    6392017   232 11 44.58042 48.08314 4.082188 1.3185997\n4 Arkansas  AR  South    2915918    93  6 33.65190 60.57191 2.648769 0.8378174\n   mcmullin\n1 0.0000000\n2 0.0000000\n3 0.6699155\n4 1.1653206\n\n\n\nThis is based on an R-base function rbind."
  },
  {
    "objectID": "slides/16-joining-tables.html#set-operators",
    "href": "slides/16-joining-tables.html#set-operators",
    "title": "Joining Tables",
    "section": "Set operators",
    "text": "Set operators\n\nAnother set of commands useful for combining datasets are the set operators.\nWhen applied to vectors, these behave as their names suggest.\nExamples are intersect, union, setdiff, and setequal.\nHowever, if the tidyverse, or more specifically dplyr, is loaded, these functions can be used on data frames as opposed to just on vectors."
  },
  {
    "objectID": "slides/16-joining-tables.html#intersect",
    "href": "slides/16-joining-tables.html#intersect",
    "title": "Joining Tables",
    "section": "Intersect",
    "text": "Intersect\n\nYou can take intersections of vectors of any type, such as numeric:\n\n\nintersect(1:10, 6:15) \n\n[1]  6  7  8  9 10\n\n\n\nor characters:\n\n\nintersect(c(\"a\",\"b\",\"c\"), c(\"b\",\"c\",\"d\")) \n\n[1] \"b\" \"c\"\n\n\n\ndplyr includes an intersect function that can be applied to tables with the same column names.\nThis function returns the rows in common between two tables."
  },
  {
    "objectID": "slides/16-joining-tables.html#intersect-1",
    "href": "slides/16-joining-tables.html#intersect-1",
    "title": "Joining Tables",
    "section": "Intersect",
    "text": "Intersect\n\nTo make sure we use the dplyr version of intersect rather than the base R version, we can use dplyr::intersect like this:\n\n\ntab_1 &lt;- tab[1:5,] \ntab_2 &lt;- tab[3:7,] \ndplyr::intersect(tab_1, tab_2) \n\n       state abb region population total ev  clinton    trump  johnson\n1    Arizona  AZ   West    6392017   232 11 44.58042 48.08314 4.082188\n2   Arkansas  AR  South    2915918    93  6 33.65190 60.57191 2.648769\n3 California  CA   West   37253956  1257 55 61.72640 31.61711 3.374092\n      stein  mcmullin\n1 1.3185997 0.6699155\n2 0.8378174 1.1653206\n3 1.9649200 0.2792070"
  },
  {
    "objectID": "slides/16-joining-tables.html#union",
    "href": "slides/16-joining-tables.html#union",
    "title": "Joining Tables",
    "section": "Union",
    "text": "Union\n\nSimilarly union takes the union of vectors.\nFor example:\n\n\nunion(1:10, 6:15) \n\n [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15\n\nunion(c(\"a\",\"b\",\"c\"), c(\"b\",\"c\",\"d\")) \n\n[1] \"a\" \"b\" \"c\" \"d\""
  },
  {
    "objectID": "slides/16-joining-tables.html#union-1",
    "href": "slides/16-joining-tables.html#union-1",
    "title": "Joining Tables",
    "section": "Union",
    "text": "Union\n\ndplyr includes a version of union that combines all the rows of two tables with the same column names.\n\n\ntab_1 &lt;- tab[1:5,] \ntab_2 &lt;- tab[3:7,] \ndplyr::union(tab_1, tab_2)  \n\n        state abb    region population total ev  clinton    trump  johnson\n1     Alabama  AL     South    4779736   135  9 34.35795 62.08309 2.094169\n2      Alaska  AK      West     710231    19  3 36.55087 51.28151 5.877128\n3     Arizona  AZ      West    6392017   232 11 44.58042 48.08314 4.082188\n4    Arkansas  AR     South    2915918    93  6 33.65190 60.57191 2.648769\n5  California  CA      West   37253956  1257 55 61.72640 31.61711 3.374092\n6    Colorado  CO      West    5029196    65  9 48.15651 43.25098 5.183748\n7 Connecticut  CT Northeast    3574097    97  7 54.56630 40.92691 2.959171\n      stein  mcmullin\n1 0.4422682 0.0000000\n2 1.8000176 0.0000000\n3 1.3185997 0.6699155\n4 0.8378174 1.1653206\n5 1.9649200 0.2792070\n6 1.3825031 1.0400874\n7 1.3885782 0.1281521"
  },
  {
    "objectID": "slides/16-joining-tables.html#setdiff",
    "href": "slides/16-joining-tables.html#setdiff",
    "title": "Joining Tables",
    "section": "setdiff",
    "text": "setdiff\n\nThe set difference between a first and second argument can be obtained with setdiff.\nUnlike intersect and union, this function is not symmetric:\n\n\nsetdiff(1:10, 6:15) \n\n[1] 1 2 3 4 5\n\nsetdiff(6:15, 1:10) \n\n[1] 11 12 13 14 15"
  },
  {
    "objectID": "slides/16-joining-tables.html#setdiff-1",
    "href": "slides/16-joining-tables.html#setdiff-1",
    "title": "Joining Tables",
    "section": "setdiff",
    "text": "setdiff\n\nAs with the functions shown above, dplyr has a version for data frames:\n\n\ntab_1 &lt;- tab[1:5,] \ntab_2 &lt;- tab[3:7,] \ndplyr::setdiff(tab_1, tab_2) \n\n    state abb region population total ev  clinton    trump  johnson     stein\n1 Alabama  AL  South    4779736   135  9 34.35795 62.08309 2.094169 0.4422682\n2  Alaska  AK   West     710231    19  3 36.55087 51.28151 5.877128 1.8000176\n  mcmullin\n1        0\n2        0"
  },
  {
    "objectID": "slides/16-joining-tables.html#setequal",
    "href": "slides/16-joining-tables.html#setequal",
    "title": "Joining Tables",
    "section": "setequal",
    "text": "setequal\n\nFinally, the function setequal tells us if two sets are the same, regardless of order.\nSo notice that:\n\n\nsetequal(1:5, 1:6) \n\n[1] FALSE\n\n\n\nbut:\n\n\nsetequal(1:5, 5:1) \n\n[1] TRUE"
  },
  {
    "objectID": "slides/16-joining-tables.html#setequal-1",
    "href": "slides/16-joining-tables.html#setequal-1",
    "title": "Joining Tables",
    "section": "setequal",
    "text": "setequal\n\nThe dplyr version checks whether data frames are equal, regardless of order of rows or columns:\n\n\ndplyr::setequal(tab_1, tab_2) \n\n[1] FALSE"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-with-data.table",
    "href": "slides/16-joining-tables.html#joining-with-data.table",
    "title": "Joining Tables",
    "section": "Joining with data.table",
    "text": "Joining with data.table\n\nThe data.table package includes merge, a very efficient function for joining tables.\nIn tidyverse we joined two tables with left_join:\n\n\ntab &lt;- left_join(murders, results_us_election_2016, by = \"state\")"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-with-data.table-1",
    "href": "slides/16-joining-tables.html#joining-with-data.table-1",
    "title": "Joining Tables",
    "section": "Joining with data.table",
    "text": "Joining with data.table\n\nIn data.table the merge functions works similarly:\n\n\nlibrary(data.table) \ntab &lt;- merge(murders, results_us_election_2016, by = \"state\", all.x = TRUE)"
  },
  {
    "objectID": "slides/16-joining-tables.html#joining-with-data.table-2",
    "href": "slides/16-joining-tables.html#joining-with-data.table-2",
    "title": "Joining Tables",
    "section": "Joining with data.table",
    "text": "Joining with data.table\n\nInstead of defining different functions for the different type of joins, merge uses the the logical arguments all (full join), all.x (left join), and all.y (right join)."
  },
  {
    "objectID": "slides/02-rstudio.html#local-control",
    "href": "slides/02-rstudio.html#local-control",
    "title": "RStudio IDE and Quarto",
    "section": "Local control",
    "text": "Local control\n\nBy default, the code and result will show up.\ncontrol the behavior with #|\nFor example, to avoid showing code in the final document, use echo: FALSE.\n\n```{r}\n#| echo: false\nx &lt;- 1\ny &lt;- 2\nx + y\n```",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#other-local-controls",
    "href": "slides/02-rstudio.html#other-local-controls",
    "title": "RStudio IDE and Quarto",
    "section": "Other local controls",
    "text": "Other local controls\n\nThere are many options\nto avoid executing the code use eval: FALSE.\nTo avoid showing warnings warning: FALSE, to avoid showing messages message: FALSE.\n\n\n\n\n\n\n\nNote\n\n\nto apply an option globally, set them in the header.\nexecute:\n  echo: false",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/02-rstudio.html#labeling-a-code-chun-is-a-good-practice",
    "href": "slides/02-rstudio.html#labeling-a-code-chun-is-a-good-practice",
    "title": "RStudio IDE and Quarto",
    "section": "Labeling a code chun is a good practice",
    "text": "Labeling a code chun is a good practice\n\nWe recommend getting into the habit of labeling code chunks:\n\n```{r}\n#| label: one-plus-two\nx &lt;- 1\ny &lt;- 2\nx + y\n```\n\nHelps with debugging\nHelps reading the code",
    "crumbs": [
      "Lecture 2-RStudio & Quarto"
    ]
  },
  {
    "objectID": "slides/04-git.html#other-features-of-github",
    "href": "slides/04-git.html#other-features-of-github",
    "title": "Git and GitHub",
    "section": "Other features of GitHub",
    "text": "Other features of GitHub\n\nRecognition system: reward, badges and stars.\nYou can host web pages, like the class notes for example.\nPermits contributions via forks and pull requests.\nIssue tracking\nCI & CD Automation tools",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#create-a-github-account",
    "href": "slides/04-git.html#create-a-github-account",
    "title": "Git and GitHub",
    "section": "Create a GitHub account",
    "text": "Create a GitHub account\n\nClick the + icon and follow the instructions. The repo site should look something like this:\n\nhttps://github.com/your-username/your-repo-name.git\n\nPick a professional sounding name.\nConsider adding a profile README.md.\nInstructions are here.\nExample here.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#create-a-local-repo",
    "href": "slides/04-git.html#create-a-local-repo",
    "title": "Git and GitHub",
    "section": "Create a Local Repo",
    "text": "Create a Local Repo\n\nIn a parent directory on your local computer, use Rstudio to create a new project in it, this will be the local repo.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-to-github",
    "href": "slides/04-git.html#connect-to-github",
    "title": "Git and GitHub",
    "section": "Connect to GitHub",
    "text": "Connect to GitHub\nhttps://ywanglab.github.io/stat1010/git.html\n\ninitialize the directory:\n\n\ngit init\ngit branch -M main #rename the branch name to main\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt; # Follow the auth steps\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname for the remote. It can be a different name, but this is the convention.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-to-remote-repo-auth",
    "href": "slides/04-git.html#connect-to-remote-repo-auth",
    "title": "Git and GitHub",
    "section": "Connect to Remote Repo: Auth",
    "text": "Connect to Remote Repo: Auth\n\nThere are two ways to connect: HTTPS or SSH, each requiring different credentials.\nHTTPS uses a Personal Access Token (PAT). More.\n\nAccount-&gt;Settings-&gt;Developer Settings-&gt;Personal Access Tokens-&gt;Tokens(Classic)\nInstruction\n\nNote that your GitHub website password isn’t your access token.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#git-action-in-pic",
    "href": "slides/04-git.html#git-action-in-pic",
    "title": "Git and GitHub",
    "section": "Git action in Pic",
    "text": "Git action in Pic",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#restore-a-file-content-from-the-latest-commit",
    "href": "slides/04-git.html#restore-a-file-content-from-the-latest-commit",
    "title": "Git and GitHub",
    "section": "Restore a file (content) from the latest commit",
    "text": "Restore a file (content) from the latest commit\n\ngit restore filename\ngit restore . # Discard ALL working-directory edits\n\nDiscard local changes to a file and restores it to the last committed version (HEAD). The file remains to be tracked, but no new commit yet.\nOld way:\n\ngit checkout filename\n\nRelated commands:\n\ngit restore --staged  filename # Ustage only(restore index)\ngit restore --staged . # unstage everything\ngit reset file # Unstage, keep edits",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#reset-move-headindex",
    "href": "slides/04-git.html#reset-move-headindex",
    "title": "Git and GitHub",
    "section": "Reset: move HEAD/index",
    "text": "Reset: move HEAD/index\n\ngit reset --soft HEAD~1 # move HEAD only (keep staged + working changes)\ngit reset HEAD~1 # move HEAD + unstage changes (keep working edits)\ngit reset --hard HEAD~1 # move HEAD +reset index +overwrite working tree (dangerous)\ngit reset file # Unstage, keep edits\n\n\nrestore: file-centric (contents in working tree/index)\nreset: history/index-centric (moves HEAD and/or index)",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/standard_errors.html",
    "href": "slides/standard_errors.html",
    "title": "Standard Errors vs. Standard Deviation",
    "section": "",
    "text": "For method=\"lm\" the CI ribbon is based on the standard error of the estimated mean \\(\\hat y(x_0)=\\widehat{E[Y\\mid X=x_0]}\\). The SE formula comes directly from the variance of a linear combination of the OLS estimator.\n\nWrite the linear model in matrix form\n\n\\[ y = X\\beta + \\varepsilon,\\qquad \\mathbb E\\varepsilon=0,\\quad \\mathrm{Var}(\\varepsilon)=\\sigma^2 I_n.\\] 2) OLS estimator and its variance\nOLS gives \\[ \\hat\\beta=(X^\\top X)^{-1}X^\\top y.\\] Because \\(\\hat\\beta\\) is a linear function of \\(y\\), \\[ \\mathrm{Var}(\\hat\\beta) = (X^\\top X)^{-1}X^\\top \\mathrm{Var}(y) X (X^\\top X)^{-1}.\\] But \\(y=X\\beta+\\varepsilon\\) and \\(\\mathrm{Var}(y)=\\mathrm{Var}(\\varepsilon)=\\sigma^2 I\\), so \\[ \\mathrm{Var}(\\hat\\beta)=\\sigma^2 (X^\\top X)^{-1}.\\]\n\nFitted mean at a point is a linear combo of \\(\\hat\\beta\\)\n\nAt \\(x_0\\), let the (row) design vector be \\[ x_0^* = (1 \\;\\;x_0)\\] (for simple linear regression; more generally it’s whatever basis terms your formula uses). Then the fitted mean is\n\\[ \\hat y(x_0)=x_0^* \\hat\\beta.\\]\n\nVariance of a linear combination\n\nUse the rule: if \\(a\\) is a constant vector and \\(Z\\) is random, \\[ \\mathrm{Var}(a^\\top Z)=a^\\top \\mathrm{Var}(Z)a.\\] Here \\(a = (x_0^*)^\\top\\) and \\(Z=\\hat\\beta\\). Therefore,\n\\[\\mathrm{Var}(\\hat y(x_0)) = \\mathrm{Var}(x_0^* \\hat\\beta) = x_0^*\\mathrm{Var}(\\hat\\beta)(x_0^*)^\\top = x_0^* \\big(\\sigma ^2 (X^\\top X)^{-1}\\big) (x_0^*)^\\top.\\] So the standard error is \\[ SE{\\hat y(x_0)}=\\sqrt{\\sigma^2 x_0^*(X^\\top X)^{-1}(x_0^*)^\\top }.\\]\n\nReplace \\(\\sigma ^2\\) by its sample estimate\n\nSince \\(\\sigma^2\\) is unknown, we plug in\n\\[ \\hat\\sigma^2=\\frac{\\sum_{i=1}^n \\hat\\varepsilon_i^2}{n-p},\\] giving the practical SE:\n\\[SE{\\hat y(x_0)}=\\sqrt{\\hat\\sigma^2  x_0^*(X^\\top X)^{-1}(x_0^*)^\\top }.\\]\n\n\nsame formula in “simple regression” scalar form\n\nFor \\(y=\\beta_0+\\beta_1 x+\\varepsilon\\),\n\\[SE{\\hat y(x_0)}=\\hat\\sigma\\sqrt{\\frac{1}{n}+\\frac{(x_0-\\bar x)^2}{\\sum_{i=1}^n (x_i-\\bar x)^2}}.\\] This is algebraically equivalent to the matrix expression above."
  },
  {
    "objectID": "slides/standard_errors.html#why-is-hatsigma2-dfracsum-hatvarepsilon_i2n-p",
    "href": "slides/standard_errors.html#why-is-hatsigma2-dfracsum-hatvarepsilon_i2n-p",
    "title": "Standard Errors vs. Standard Deviation",
    "section": "Why is \\(\\hat{\\sigma}^2 = \\dfrac{\\sum \\hat\\varepsilon_i^2}{n-p}\\) ?",
    "text": "Why is \\(\\hat{\\sigma}^2 = \\dfrac{\\sum \\hat\\varepsilon_i^2}{n-p}\\) ?\nConsider the linear model \\[ y = X\\beta + \\varepsilon,\\quad \\mathbb E(\\varepsilon)=0,\\quad \\mathrm{Var}(\\varepsilon)=\\sigma^2 I_n,\\] with \\(p\\) parameters (in simple regression, (p=2): intercept + slope).\nLet \\(\\hat y = X\\hat\\beta\\) be fitted values and residuals \\(e = y-\\hat y\\). The residual sum of squares is \\[ RSS = e^\\top e = \\sum_{i=1}^n e_i^2.\\]\n\nKey fact (degrees of freedom)\nThe fitted values live in the column space of \\(X\\), which is \\(p\\)-dimensional. Residuals live in the orthogonal complement, which has dimension \\(n-p\\). So residuals have only \\(n-p\\) independent pieces of variation.\nMore formally, define the “residual-maker” matrix \\[ M = I - H,\\quad H = X(X^\\top X)^{-1}X^\\top.\\] Then \\(e = My\\) and \\(M\\) is symmetric idempotent with \\[ \\mathrm{rank}(M)=n-p,\\quad \\mathrm{tr}(M)=n-p.\\] Since \\(y = X\\beta + \\varepsilon\\) and \\(MX\\beta=0\\), \\[ e = M\\varepsilon.\\] Now compute the expected RSS: \\[\\mathbb E(RSS) = \\mathbb E(e^\\top e) = \\mathbb E(\\varepsilon^\\top M^\\top M \\varepsilon) = \\mathbb E(\\varepsilon^\\top M \\varepsilon).\n\\] Using \\(\\mathbb E(\\varepsilon^\\top A \\varepsilon)=\\sigma^2\\mathrm{tr}(A)\\) when \\(\\mathrm{Var}(\\varepsilon)=\\sigma^2 I\\),\n\\[ \\mathbb E(RSS)=\\sigma ^2 \\mathrm{tr}(M)=\\sigma^2 (n-p).\\] So \\[ \\mathbb E\\left(\\frac{RSS}{n-p}\\right)=\\sigma^2,\\] meaning \\[ \\hat\\sigma^2=\\frac{RSS}{n-p}\\] is an unbiased estimator of $^2).\n\n\nIntuition\nIf you divided by \\(n\\), you’d systematically underestimate \\(\\sigma^2\\) because the regression line was chosen to make residuals small (you “spent” \\(p\\) degrees of freedom estimating parameters). Dividing by \\(n-p\\) corrects that."
  },
  {
    "objectID": "slides/16-joining-tables.html#plot-using-the-joined-table",
    "href": "slides/16-joining-tables.html#plot-using-the-joined-table",
    "title": "Joining Tables",
    "section": "Plot using the joined table",
    "text": "Plot using the joined table"
  },
  {
    "objectID": "slides/16-joining-tables.html#left-join-2",
    "href": "slides/16-joining-tables.html#left-join-2",
    "title": "Joining Tables",
    "section": "Left join",
    "text": "Left join\n\nAlso, notice that this function, as well as all the other joins, can receive the first arguments through the pipe:\n\n\ntab_1 |&gt; left_join(tab_2, by = \"state\")"
  },
  {
    "objectID": "slides/16-joining-tables.html#join-methods",
    "href": "slides/16-joining-tables.html#join-methods",
    "title": "Joining Tables",
    "section": "Join methods",
    "text": "Join methods\n.\nNote: These names are based on SQL."
  },
  {
    "objectID": "slides/16-joining-tables.html#example-create-two-tables",
    "href": "slides/16-joining-tables.html#example-create-two-tables",
    "title": "Joining Tables",
    "section": "Example: create two tables",
    "text": "Example: create two tables\n\ntab_1 &lt;- slice(murders, 1:6) |&gt; select(state, population)  \n# slice() select rows by row numbers: here select the first 6 rows\ntab_1 \n\n       state population\n1    Alabama    4779736\n2     Alaska     710231\n3    Arizona    6392017\n4   Arkansas    2915918\n5 California   37253956\n6   Colorado    5029196\n\ntab_2 &lt;- results_us_election_2016 |&gt;  \n  filter(state %in% c(\"Alabama\", \"Alaska\", \"Arizona\",  \n                    \"California\", \"Connecticut\", \"Delaware\")) |&gt;  \n  select(state, electoral_votes) |&gt; rename(ev = electoral_votes) \ntab_2\n\n        state ev\n1  California 55\n2     Arizona 11\n3     Alabama  9\n4 Connecticut  7\n5      Alaska  3\n6    Delaware  3"
  },
  {
    "objectID": "slides/16-joining-tables.html#left-join-example",
    "href": "slides/16-joining-tables.html#left-join-example",
    "title": "Joining Tables",
    "section": "Left join example",
    "text": "Left join example\n\nSuppose we want a table like tab_1, but adding electoral votes to whatever states we have\nwe use left_join with tab_1 as the first argument.\nspecify which column to use to match with the by argument.\n\n\nleft_join(tab_1, tab_2, by = \"state\") \n\n       state population ev\n1    Alabama    4779736  9\n2     Alaska     710231  3\n3    Arizona    6392017 11\n4   Arkansas    2915918 NA\n5 California   37253956 55\n6   Colorado    5029196 NA\n\n\n\nNote that NAs are added to the two states not appearing in tab_2."
  },
  {
    "objectID": "psets/pset-01-unix-quarto.html",
    "href": "psets/pset-01-unix-quarto.html",
    "title": "Problem set 1",
    "section": "",
    "text": "Make sure you have a GitHub account and create a repo named HW1\nStart an RStudio project. Pick a good name following a naming convention. Start a Quarto document called beginning.qmd.\nCreate a directory called img and save a screen shot of your RStudio session for the project. Include your screenshot in the Quarto document.\nNext, in your Quarto document, define variables \\(a=1, b=-1, c=-2\\) and print out the solutions to \\(f(x) = ax^2+bx+c=0\\). Do not report complex solutions, only real numbers.\nInclude a graph of \\(f(x)\\) versus \\(x\\) for \\(x \\in (-5,5)\\).\n\n\nx &lt;- seq(-5, 5, length = 100)\n# Hint: Use the plot function\n\n\nCreate a directory called docs. Use the command quarto render to create a PDF and save it to the docs directory. Show us the command you typed:\n\n# Your code here\n\nUse Unix to create a directory called data in the project home directory. Include the Unix command you used to create the directory.\n\n# Your code here\n\nUse a terminal-based text editor to create a file coefs.txt in the data directory and save three coefficients, 1 -1 -2 for example. Show us the Unix commands you used to achieve this:\n\n# Your code here\n\nMake a directory called code. Use Unix to copy the file beginning.qmd to a file called quadratic.qmd in the code directory. Show us the Unix commands you used.\n\n# Your code here\n\nEdit the quadratic.qmd file to read in a, b, and c from the file coefs.txt. Make sure to use a relative path when reading the file. As before, print out the solutions to \\(f(x) = ax^2+bx+c=0\\). Do not report complex solutions, only real numbers.\nChange the path of the file you are reading to the full path you get when you type file.path(getwd(), \"data/coefs.txt\"). Confirm that the file still renders. Then move the entire pset-01-rmarkdown project to a directory called RtmpyDknq4. Does the file render? Change the path back to a relative path and see if it renders."
  },
  {
    "objectID": "psets/hw1.html",
    "href": "psets/hw1.html",
    "title": "Problem set 1",
    "section": "",
    "text": "Create a GitHub repository named HW1.\nCreate an RStudio Project connected to that repo (clone or connect existing).\nName your project folder using a clear convention (e.g., stat3000-hw1).\nAnswer each item inside this Quarto file. Show commands/code where requested."
  },
  {
    "objectID": "psets/hw1.html#instructions",
    "href": "psets/hw1.html#instructions",
    "title": "Problem set 1",
    "section": "",
    "text": "Create a GitHub repository named HW1.\nCreate an RStudio Project connected to that repo (clone or connect existing).\nName your project folder using a clear convention (e.g., stat3000-hw1).\nAnswer each item inside this Quarto file. Show commands/code where requested."
  },
  {
    "objectID": "psets/hw1.html#tasks",
    "href": "psets/hw1.html#tasks",
    "title": "Problem set 1",
    "section": "2 Tasks",
    "text": "2 Tasks\n\nGitHub + repo setup\nCreate a GitHub repo named HW1. In your Quarto document, include:\n\nthe repo URL\na screenshot showing the repo page on GitHub\n\nRStudio project + Quarto document\nCreate an RStudio Project for HW1. Create a Quarto document named hw1.qmd (this file).\nInclude a screenshot of your RStudio session showing:\n\nFiles pane (project structure)\nGit pane (if available)\n\nProject folders\nIn your project root, create the folders: img/, data/, code/, docs/.\nProvide either:\n\nthe Unix commands you used, or\nthe R commands you used\n\n\n\n# Your commands here\n\n\nCreate and include a plot image\nCreate a simple plot in R (any plot you like), save it as img/plot.png, and include it below.\n\n\n# Example idea (you can change it):\n# png(\"img/plot.png\", width = 800, height = 500)\n# plot(cars)\n# dev.off()\n\n\n\nDefine a function and compute real roots In this document, define coefficients \\(a=2\\), \\(b=-5\\), \\(c=-3\\). Consider \\(f(x) = ax^2 + bx + c\\). Print the real solutions of \\(f(x)=0\\) (if any).\n\nIf the discriminant is negative, print a message like \"No real roots\".\n\n\n\n# a &lt;- 2\n# b &lt;- -5\n# c &lt;- -3\n# \n# disc &lt;- b^2 - 4*a*c\n# disc\n\n# Your code here to print only real roots\n\n\nGraph the quadratic on a specified interval Make a graph of \\(f(x)\\) versus \\(x\\) for \\(x \\in (-6, 6)\\). Add:\n\na horizontal line at \\(y = 0\\)\npoints for the real roots (if they exist)\n\n\n\n# x &lt;- seq(-6, 6, length.out = 400)\n# fx &lt;- a*x^2 + b*x + c\n\n# Hint: use plot(x, fx, type=\"l\") and abline(h=0)\n\n\nWrite coefficients to a text file using Unix Use Unix to create a file data/coefs.txt containing a single line with:\n2 -5 -3\nShow the Unix commands you used:\n# Your commands here\nCopy the Quarto file using Unix Use Unix to copy hw1.qmd into code/ and name it quadratic.qmd. Show the Unix command(s):\n# Your commands here\nRead coefficients from file using a relative path Edit code/quadratic.qmd so it reads a, b, c from data/coefs.txt using a relative path. In this document, show the R code you used (it should also appear in quadratic.qmd).\n\n\n# Your code here (example outline):\n\n# coefs &lt;- scan(\"data/coefs.txt\")\n\n# a &lt;- coefs[1]; b &lt;- coefs[2]; c &lt;- coefs[3]\n\n# then compute real roots again\n\n\nSwitch to an absolute path and test portability In code/quaratic.qmd, replace the relative path with: file.path(getwd(), \"data/coefs.txt\") Render it once to confirm it works.\nThen move the entire project folder to a new folder name (e.g., RtmpXXXX). Re-render code/quadratic.qmd. Does it still render? Briefly explain what happened, then switch back to a relative path and confirm it renders again.\nRender to PDF and publish to GitHub Pages-style docs folder Render a PDF version of hw1.qmd (or code/quadratic.qmd) and place the PDF into docs/. Show the terminal command(s) you typed:\n\n# Your command here, e.g.\n# quarto render hw1.qmd --to pdf --output-dir docs\n\nGit workflow Make at least three commits with meaningful messages, such as:\n\n\nAdd initial project structure\nAdd quadratic root computation\nAdd rendering output to docs\n\nIn this document, paste the output of:\ngit log --oneline --decorate -n 5\n\nPush to GitHub Push your work to GitHub. In this document, include:\n\n\na screenshot of your GitHub repo showing the folders img/, data/, code/, docs/\nthe link to the rendered PDF file in your repo (if applicable)"
  },
  {
    "objectID": "psets/hw1.html#submission-checklist",
    "href": "psets/hw1.html#submission-checklist",
    "title": "Problem set 1",
    "section": "3 Submission checklist",
    "text": "3 Submission checklist\n\nRepo exists and is named HW1\nhw1.qmd renders without errors\nimg/plot.png exists and is included in the document\ndata/coefs.txt exists and is read using a relative path\ndocs/ contains the rendered PDF\nAt least three commits + pushed to GitHub"
  },
  {
    "objectID": "slides/04-git.html#create-a-github-account-and-repo",
    "href": "slides/04-git.html#create-a-github-account-and-repo",
    "title": "Git and GitHub",
    "section": "Create a GitHub account and repo",
    "text": "Create a GitHub account and repo\n\nCreate an account at https://github.com, by picking a professional sounding name.\nCreate a repo (e.g. STAT3000) by clicking the + icon and follow the instructions, toggle on adding README.md. The repo site looks like:\n\nhttps://github.com/your-username/your-repo-name.git\n\nInstructions are here.\nExample here.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#create-a-local-repo-using-rstudio",
    "href": "slides/04-git.html#create-a-local-repo-using-rstudio",
    "title": "Git and GitHub",
    "section": "Create a Local Repo using RStudio",
    "text": "Create a Local Repo using RStudio\nFollow these steps:\n\nRStudio -&gt; New Project -&gt; Version Control -&gt; Git -&gt; enter the GitHub repo address-&gt;Choose a local parent directory\nThe local repo now is connected to the remote GitHub repo",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#connect-to-github-from-a-local-repo",
    "href": "slides/04-git.html#connect-to-github-from-a-local-repo",
    "title": "Git and GitHub",
    "section": "Connect to GitHub from a local repo",
    "text": "Connect to GitHub from a local repo\nhttps://ywanglab.github.io/stat1010/git.html\n\ninitialize the directory:\n\n\ngit init\ngit branch -M main #rename the branch name to main\n\n\nLet Git know what is the remote repository.\n\n\ngit remote add origin &lt;remote-url&gt; # Follow the auth steps\n\nNow the two are connected.\n\n\n\n\n\n\nNote\n\n\norigin is a nickname for the remote. It can be a different name, but this is the convention.",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  },
  {
    "objectID": "slides/04-git.html#create-a-local-repo-using-rstudio-easy-way",
    "href": "slides/04-git.html#create-a-local-repo-using-rstudio-easy-way",
    "title": "Git and GitHub",
    "section": "Create a Local Repo using RStudio (easy way)",
    "text": "Create a Local Repo using RStudio (easy way)\nFollow these steps:\n\nRStudio -&gt; New Project -&gt; Version Control -&gt; Git -&gt; enter the GitHub repo address-&gt;Choose a local parent directory\nThe local repo now is connected to the remote GitHub repo",
    "crumbs": [
      "Lecture 3-Git & GitHub"
    ]
  }
]